<!-- @@master = ./templates/layout.html { "baseHref": "/giorgetti/" } -->
<!-- @@block = main-->

<script>
window.environment = {
	labels: {
		select: 'Seleziona'
	}
}

</script>

<main class="main" projects>

	<div class="section--breadcrumb">
		<div class="container">
			<ul class="nav--breadcrumb">
				<li class="nav__item"><a href="/giorgetti/">Home</a></li>
				<li class="nav__item"><span>Progetti</span></li>
			</ul>
		</div>
	</div>

	<div class="section--projects">
		<div class="container">
			<div class="title">Progetti</div>
			<div class="card--hero-project">
				<a href="/giorgetti/news-detail.html" class="card__picture">
					<img src="/giorgetti/img/projects/hero.jpg" />
					<div class="over">
						<div class="over__title">Mews II</div>
						<div class="over__country">Gibilterra</div>
					</div>
				</a>
				<div class="card__content" scroll scrollSpeed="1.5">
					<div class="card__title">Mews II</div>
					<div class="card__country">Gibilterra</div>
					<div class="card__cta">
						<a href="/giorgetti/news-detail.html" class="btn--more"><span>Guarda il progetto</span> <svg class="arrow-sm-right"><use xlink:href="#arrow-sm-right"></use></svg></a>
					</div>
				</div>
			</div>
		</div>
	</div>

	<!-- filters -->
	<div class="section--filters">
		<div class="container">
			<form class="form" [formGroup]="form" (submit)="onSearch($event)" name="form" role="form" novalidate autocomplete="off">
				<div class="group--filters">
					<div class="filters__title">Cerca progetti relativi a</div>
					<div class="filters__select">
						<div control-custom-select [control]="controls.category" label="Tipologia"></div>
					</div>
					<div class="filters__search">
						<div control-search [control]="controls.search" label="Cerca"></div>
					</div>
					<div class="filters__cta">
						<button type="submit" class="btn--submit">Cerca</button>
					</div>
				</div>
			</form>
		</div>
	</div>

	<section class="section--projects">
		<div class="container">
			<!-- spinner -->
			<div class="spinner" *if="items.length == 0"></div>
			<!-- results -->
			<div class="listing--projects">
				<div class="listing__item" *for="let item of filteredItems">
					<a [href]="item.url" class="card--project">
						<span class="card__picture">
							<img loading="lazy" [src]="item.image" />
							<span class="over">
								<span class="over__title" [innerHTML]="item.title"></span>
								<span class="over__country" [innerHTML]="item.country" *if="item.country"></span>
							</span>
						</span>
						<span class="card__content">
							<span class="card__title" [innerHTML]="item.title"></span>
							<span class="card__country" [innerHTML]="item.country" *if="item.country"></span>
						</span>
					</a>
				</div>
			</div>
		</div>
	</section>

</main>
<!-- @@close-->

<!-- @@block = js-->
<script src="/giorgetti/js/projects.js"></script>
<!-- @@close-->
