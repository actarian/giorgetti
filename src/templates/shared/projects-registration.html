<div class="section--form" projects-registration (close)="onClose()" [isModal]="true">
	<div class="container" *if="!success">
		<form class="form" [formGroup]="form" (submit)="onSubmit()" name="form" role="form" novalidate autocomplete="off">
			<div class="title">Registrazione progetti</div>
			<div class="abstract">Compilate il form per inviare il vostro progetto. Riceverete un e-mail di conferma ad attivazione avvenuta.</div>
			<input name="checkField" [formControl]="controls.checkField" value="" type="text" style="display:none !important;" />
			<div class="listing--form">
				<div class="fieldset">
					<div class="fieldset__title">Agente</div>
					<div control-text [control]="controls.dealer.controls.fullName" label="Nome"></div>
					<div control-custom-select [control]="controls.dealer.controls.country" label="Paese"></div>
					<div control-text [control]="controls.dealer.controls.city" label="Città"></div>
				</div>
				<div class="fieldset">
					<div class="fieldset__title">Committente</div>
					<div control-text [control]="controls.client.controls.fullName" label="Nome"></div>
					<div control-custom-select [control]="controls.client.controls.country" label="Paese"></div>
					<div control-text [control]="controls.client.controls.city" label="Città"></div>
				</div>
				<div class="fieldset">
					<div class="fieldset__title">Architetto</div>
					<div control-text [control]="controls.architect.controls.fullName" label="Nome"></div>
					<div control-custom-select [control]="controls.architect.controls.country" label="Paese"></div>
					<div control-text [control]="controls.architect.controls.city" label="Città"></div>
					<div control-text [control]="controls.architect.controls.email" label="Email"></div>
					<div control-text [control]="controls.architect.controls.telephone" label="Telefono"></div>
				</div>
				<div control-text [control]="controls.type" label="Tipologia Progetto (Villa privata, Hotel, ...)"></div>
				<div control-text [control]="controls.destination" label="Luogo di destinazione"></div>
				<div control-text [control]="controls.products" label="Specificare prodotti"></div>
				<div control-file [control]="controls.picture" label="Immagine"></div>
				<div class="full" control-checkbox [control]="controls.privacy" label="Ho letto l&amp;#39;&amp;lt;a href=&amp;quot;/privacy/&amp;quot; target=&amp;quot;_blank&amp;quot;&gt;informativa&amp;lt;/a&gt; e do il consenso al trattamento del dato"></div>
			</div>
			<div class="group--error" *if="error">
				<span class="status-code" [innerHTML]="error.statusCode"></span>
				<span class="status-message" [innerHTML]="error.statusMessage"></span>
				<span class="friendly-message" [innerHTML]="error.friendlyMessage"></span>
			</div>
			<div class="group--cta">
				<button type="submit" class="btn--submit" data-title="Invia" *if="!form.submitted">
					<span>Invia</span>
				</button>
				<button type="submit" class="btn--submit" data-title="Inviato!" *if="form.submitted">
					<span>Inviato!</span>
				</button>
			</div>
			<test-component [form]="form" (test)="test($event)" (reset)="reset($event)"></test-component>
		</form>
	</div>
	<div class="container" *if="success">
		<div class="row">
			<div class="col-md-6">
				<div class="title"><span>Richiesta Inviata</span></div>
				<div class="abstract">Grazie per la vostra richiesta. Verificheremo i dati e riceverete un e-mail di conferma ad attivazione avvenuta.</div>
				<div class="group--cta" *if="isModal">
					<button type="button" class="btn--submit" (click)="onClose()">
						<span>Invia</span>
					</button>
				</div>
			</div>
		</div>
	</div>
</div>
