{"version":3,"sources":["src/js/main.js","../../src/js/app.component.js","../../src/js/core/dropdown/dropdown.directive.js","../../src/js/core/dropdown/dropdown-item.directive.js","../../src/js/core/utils/utils.js","../../src/js/environment.js","../../src/js/environment.static.js","../../src/js/environment.served.js","../../src/js/core/env/env.pipe.js","../../src/js/core/flag/flag.pipe.js","../../src/js/core/keyboard/keyboard.service.js","../../src/js/core/forms/control.component.js","../../src/js/core/forms/control-custom-select.component.js","../../src/js/core/forms/control-email.component.js","../../src/js/core/forms/control-search.component.js","../../src/js/core/html/html.pipe.js","../../src/js/core/id/id.directive.js","../../src/js/core/label/label.pipe.js","../../src/js/core/locomotive-scroll/locomotive-scroll.service.js","../../src/js/core/locomotive-scroll/locomotive-scroll.directive.js","../../src/js/core/locomotive-scroll/scroll.directive.js","../../src/js/core/slug/slug.pipe.js","../../src/js/core/swiper/swiper.directive.js","../../src/js/core/thron/thron.component.js","../../src/js/core/title/title.directive.js","../../src/js/core/filter/filter-item.js","../../src/js/core/location/location.service.js","../../src/js/core/filter/filter.service.js","../../src/js/core/http/http.service.js","../../src/js/core/language/language.service.js","../../src/js/core/api/api.service.js","../../src/js/pages/ateliers-and-stores/ateliers-and-stores.service.js","../../src/js/pages/ateliers-and-stores/ateliers-and-stores.component.js","../../src/js/pages/designers/designers.service.js","../../src/js/pages/designers/designers.component.js","../../src/js/pages/header/header.component.js","../../node_modules/@googlemaps/markerclustererplus/src/overlay-view-safe.ts","../../node_modules/@googlemaps/markerclustererplus/src/cluster-icon.ts","../../src/js/pages/map/map.component.js","../../node_modules/@googlemaps/markerclustererplus/src/cluster.ts","../../node_modules/@googlemaps/markerclustererplus/src/markerclusterer.ts","../../src/js/pages/map/map.style.js","../../src/js/pages/materials/materials.service.js","../../src/js/pages/materials/materials.component.js","../../src/js/pages/menu/menu.directive.js","../../src/js/pages/news/news.service.js","../../src/js/pages/news/news.component.js","../../src/js/pages/newsletter/newsletter-proposition.component.js","../../src/js/pages/products-configure/products-configure.component.js","../../src/js/pages/products-detail/products-detail.service.js","../../src/js/pages/products-detail/products-detail.component.js","../../src/js/pages/projects/projects.service.js","../../src/js/pages/projects/projects.component.js","../../src/js/pages/store-locator/store-locator.service.js","../../src/js/pages/store-locator/store-locator.component.js","../../src/js/pages/submenu/submenu.directive.js","../../src/js/pages/swiper-gallery/swiper-gallery.directive.js","../../src/js/pages/swiper-homepage/swiper-homepage.directive.js","../../src/js/pages/swiper-news-proposition/swiper-news-proposition.directive.js","../../src/js/pages/swiper-products-proposition/swiper-products-proposition.directive.js","../../src/js/pages/swiper-projects-proposition/swiper-projects-proposition.directive.js","../../src/js/app.module.js","../../src/js/main.js"],"names":["g","f","exports","module","require","define","amd","globalThis","self","rxcomp","form","rxjs","operators","this","rxcompForm","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_createClass","Constructor","protoProps","staticProps","prototype","_defineProperty","obj","value","_inheritsLoose","subClass","superClass","create","constructor","_setPrototypeOf","o","p","setPrototypeOf","__proto__","_assertThisInitialized","ReferenceError","AppComponent","_Component","apply","arguments","onInit","getContext","node","classList","remove","console","log","Component","meta","selector","DROPDOWN_ID","DropdownDirective","_Directive","_proto","_this","trigger","getAttribute","querySelector","opened","onClick","bind","onDocumentClick","openDropdown","closeDropdown","addListeners","dropdown$","pipe","takeUntil","unsubscribe$","subscribe","id","add","event","contains","addDocumentListeners","next","dropped","removeDocumentListeners","getValue","addEventListener","document","removeListeners","removeEventListener","onDestroy","nextId","get","dropdown","id_","Directive","inputs","outputs","BehaviorSubject","DropdownItemDirective","Utils","merge","source","keys","forEach","Array","isArray","NODE","BASE_HREF","URLSearchParams","window","location","search","HEROKU","host","indexOf","STATIC","port","DEVELOPMENT","split","ENV","PRODUCTION","Environment","options","assign","getAbsoluteUrl","path","params","url","origin","replace","getPath","isLocal","href","set","githubDocs","defaultOptions","flags","production","heroku","slug","languages","defaultLanguage","labels","select","browse","cancel","error_email","error_match","error_required","loading","required","select_file","update","upload","drag_and_drop_images","environmentOptions","api","assets","workers","image","prefetch","configureProduct","template","modal","myModal","googleMaps","apiKey","environment","EnvPipe","_Pipe","transform","keypath","env","k","shift","Pipe","name","FlagPipe","KeyboardService","keydown$","keydown$_","fromEvent","shareReplay","keyup$","keyup$_","keys$","keys$_","map","type","startWith","key$","key$_","regexp","filter","match","typing$","typing$_","to","typing","clearTimeout","setTimeout","ControlComponent","onChanges","control","ControlCustomSelectComponent","_ControlComponent","label","dropdownId","word","scrollToWord","items","index","toLowerCase","item","children","scrollTo","offsetTop","setOption","isMultiple","splice","push","slice","TypeError","_readOnlyError","change","hasOption","getLabel","v","find","x","join","onDropped","$event","touched","multiple","ControlEmailComponent","ControlSearchComponent","disabled","HtmlPipe","m","n","String","fromCharCode","parseInt","unescapes","rx","RegExp","IdDirective","setAttribute","LabelPipe","labels_","getKeys","_len","_key","setLabels","LABELS","LocomotiveScrollService","scroll","scroll$","init","useKeyboard","smoothMobile","inertia","smooth","lerp","getDirection","getSpeed","initClass","scrollingClass","draggingClass","smoothClass","scrollbarContainer","scrollbarClass","multiplier","firefoxMultiplier","touchMultiplier","scrollFromAnywhere","gestureDirection","reloadOnContextChange","resetNativeScroll","el","useLocomotiveScroll","instance","LocomotiveScroll","innerWidth","isMacLike","test","navigator","platform","isIOS","isMacOs","isSafari","vendor","userAgent","init$","delay","switchMap","_","on","direction","y","speed","previousY","pageYOffset","scrollIntoView","ReplaySubject","LocomotiveScrollDirective","ScrollDirective","hasAttribute","parseFloat","tap","wh","innerHeight","wh2","rect","getBoundingClientRect","currentY","gsap","getProperty","top","bottom","SlugPipe","SwiperDirective","slidesPerView","spaceBetween","centeredSlides","autoplay","keyboardControl","mousewheelControl","pagination","clickable","keyboard","enabled","onlyInViewport","init_","swiperInitOrUpdate_","removeListeners_","swiperDestroy_","onBeforePrint","slideToIndex","swiper","slideTo","hasPrev","activeIndex","slides","hasNext","slidePrev","slideNext","events$","Subject","opacity","slideChange","pushChanges","addListeners_","callback","swiperDirectiveInit","_this2","duration","ease","Power2","easeOut","element","scope","Swiper","_opening","destroy","matchMedia","matches","ID","ThronComponent","args","call","concat","THRON","THRONContentExperience","THRONPlayer","media","thron","splitted","controls","loop","player","muted","displayLinked","noSkin","onReady","onCanPlay","onPlaying","onPlay","onPause","onComplete","video","mediaContainer","ready","canPlay","off","qualities","qualityLevels","highestQuality","currentQuality","playing","play","pause","complete","playVideo","status","pauseVideo","toggle","playing_","TitleDirective","title_","title","removeAttribute","FilterMode","FilterItem","change$","mode","placeholder","values","unshift","undefined","has","first","clear","LocationService","keyOrValue","pushParams","history","pushState","toString","from","replaceState","pathname","state","deserialize","encoded","decode","serialize","encode","decoded","json","atob","JSON","parse","stringify","btoa","FilterService","initialParams","filters","getParamsCount","reduce","c","locationParams","any","items$","changes","filterItems","updateFilterStates","skipFilter","_this3","filteredItems","option","count","reset","_this4","HttpService","http$","method","data","format","userPass","response_","headers","Accept","Content-Type","body","credentials","Headers","fetch","then","response","typedResponse","contentType","text","ok","Promise","reject","error","warn","resolve","catchError","throwError","getError","get$","query","delete$","post$","put$","patch$","object","statusCode","statusMessage","statusText","LanguageService","getDefaultLanguages","alternates","getDefaultLanguage","lang","setLanguage","language","selectedLanguage","setLanguage$","html","labelsMatch","exec","Function","bhereMatch","bhere","activeLanguage","toggleLanguages","showLanguages","ApiService","_HttpService","AteliersAndStoresService","all$","ateliers$","stores$","filters$","AteliersAndStoresComponent","types","Atelier","Store","filteredAteliers","filteredStores","FormGroup","country","FormControl","Validators","RequiredValidator","changes$","setFilterByKeyAndValue","load$","onLoad","combineLatest","filterService","patch","onSearch","model","clearFilter","preventDefault","stopImmediatePropagation","DesignersService","DesignersComponent","category","HeaderComponent","pictogram","scrolled","Math","min","direction_","scrolled_","extendStatics","d","b","hasOwnProperty","__extends","__","__assign","t","s","OverlayViewSafe","type1","type2","property","extend","google","maps","OverlayView","toCssText","styles","acc","coercePixels","pixels","GOOGLE_MAPS","ClusterIcon","_super","cluster_","styles_","center_","div_","sums_","visible_","style","setMap","getMap","onAdd","cMouseDownInCluster","cDraggingMapByCluster","mc","getMarkerClusterer","_a","version","major","minor","gmVersion","createElement","show","getPanes","overlayMouseTarget","appendChild","boundsChangedListener_","addListener","addDomListener","e","stopPropagation","getZoomOnClick","mz_1","getMaxZoom","theBounds_1","getBounds","fitBounds","getZoom","setZoom","cancelBubble","onRemove","parentNode","hide","removeListener","clearInstanceListeners","removeChild","draw","pos","getPosFromLatLng_","left","display","className","className_","cssText","createCss_","innerHTML","getImageElementHtml","getLabelDivHtml","getTitle","ariaLabelFn","position","anchorText_","color","textColor","font-size","textSize","font-family","fontFamily","font-weight","fontWeight","font-style","fontStyle","text-decoration","textDecoration","text-align","width","line-height","textLineHeight","bp","backgroundPosition","spriteH","spriteV","dimensions","getEnableRetinaIcons","height","clip","overrideDimensionsDynamicIcon","useStyle","sums","max","anchorText","anchorIcon_","anchorIcon","floor","getClusterClass","setCenter","center","z-index","getZIndex","cursor","-webkit-user-select","-khtml-user-select","-moz-user-select","-o-user-select","user-select","latlng","getProjection","fromLatLngToDivPixel","Cluster","markerClusterer_","map_","minClusterSize_","getMinimumClusterSize","averageCenter_","getAverageCenter","markers_","bounds_","clusterIcon_","getStyles","getSize","getMarkers","getCenter","bounds","LatLngBounds","markers","getPosition","addMarker","marker","isMarkerAlreadyAdded_","l","lat","lng","LatLng","calculateBounds_","isAdded","mCount","mz","isMarkerInClusterBounds","getExtendedBounds","updateIcon","numStyles","getCalculator","getOption","prop","def","MarkerClusterer","clusters_","listeners_","activeMap_","ready_","zIndex_","zIndex","Number","Marker","MAX_ZINDEX","gridSize_","gridSize","minimumClusterSize","maxZoom_","maxZoom","zoomOnClick_","ignoreHidden_","enableRetinaIcons_","imagePath_","imagePath","IMAGE_PATH","imageExtension_","imageExtension","IMAGE_EXTENSION","imageSizes_","imageSizes","IMAGE_SIZES","calculator_","calculator","CALCULATOR","batchSize_","batchSize","BATCH_SIZE","batchSizeIE_","batchSizeIE","BATCH_SIZE_IE","clusterClass_","clusterClass","setupStyles_","addMarkers","repaint","prevZoom_","minZoom","mapTypes","getMapTypeId","zoom","resetViewport_","redraw_","size","withDefaultStyle","fitMapToMarkers","padding","getVisible","getIgnoreHidden","getGridSize","setGridSize","setMinimumClusterSize","setMaxZoom","setZIndex","setStyles","setTitle","setZoomOnClick","zoomOnClick","setAverageCenter","averageCenter","setIgnoreHidden","ignoreHidden","setEnableRetinaIcons","enableRetinaIcons","getImageExtension","setImageExtension","getImagePath","setImagePath","getImageSizes","setImageSizes","setCalculator","getBatchSizeIE","setBatchSizeIE","setClusterClass","getTotalMarkers","getClusters","getTotalClusters","nodraw","pushMarkerTo_","getDraggable","removeMarker","removed","removeMarker_","removeMarkers","r","clearMarkers","oldClusters","projection","tr","getNorthEast","bl","getSouthWest","trPix","blPix","ne","fromDivPixelToLatLng","sw","createClusters_","distanceBetweenPoints_","p1","p2","dLat","PI","dLon","a","sin","cos","atan2","sqrt","isMarkerInBounds_","addToClosestCluster_","distance","clusterToAddTo","cluster","iFirst","mapBounds","timerRefStatic","iLast","dv","overrides","MAP_STYLE","featureType","elementType","stylers","visibility","saturation","lightness","MapComponent","initMap","onGoogleMapsLoaded","script","getElementsByTagName","documentElement","mapOptions","latitude","longitude","scrollwheel","zoomControlOptions","ZoomControlStyle","DEFAULT","scaleControl","zoomControl","mapTypeControl","streetViewControl","rotateControl","fullscreenControl","mapElement","Map","getItalyBounds","calculateDistance","lat1","lon1","lat2","lon2","unit","radlat1","radlat2","theta","radtheta","dist","acos","markerCluster","content","address","city","phone","fax","email","markerImage","MarkerImage","Size","icon","setMarkerWindow","sizes","getGeolocation","busyLocation","geolocation","getCurrentPosition","coords","geocoder","Geocoder","geocode","results","filteredInfoCity","address_component","includes","formatted_address","address_components","searchCountry","short_name","setInfoWindow","searchPosition","finally","ZOOM_LEVEL","findNearStores","visible","cod_stato","userCountry","MAX_DISTANCE","sort","importante","visibleStores","$timeout","panTo","markerWindow","InfoWindow","pixelOffset","setPosition","setContent","open","closeMarkerWindow","close","getWorldBounds","MaterialsService","MaterialsComponent","selectedItem","onToggle","offset","MENUS","MenuDirective","submenus","menu","container","onOver","onLeave","keepBackground","NewsService","NewsComponent","abstract","NewsletterPropositionComponent","onNewsletter","breadcumbStyle","ProductsConfigureComponent","isReady","isComplete","isConfiguring","iframe","onEvent","grant_type","sfy","SFYFrame","getIframeDocument","contentWindow","contentDocument","eventName","emit","onShowefyComplete","onStartConfigurator","onButtonPressed","onSetButtonStatus","onGetIframeSize","onGetProductExtData","onGetFastProductExtData","statusTxt","addTexts","addButtons","addBreadcrumb","findPos","curtop","offsetParent","HTML","printHTML","buttons","BUTTONS","PROPERTIES","LABEL","en","setButtonStatus","breadcrumb","BREADCUMB","printBreadcumb","getCartData","getProductExtData","getFastData","getFastProductExtData","ProductsDetailService","versions$","ProductsDetailComponent","visibleItems","showVersions","ProjectsService","ProjectsComponent","StoreLocatorService","rank","StoreLocatorComponent","countries","categories","showMore","SubmenuDirective","querySelectorAll","picture","onload","Power4","overwrite","src","SwiperGalleryDirective","_SwiperDirective","loopAdditionalSlides","SwiperHomepageDirective","SwiperNewsPropositionDirective","breakpoints","768","1024","1440","1920","SwiperProductsPropositionDirective","SwiperProjectsPropositionDirective","AppModule","_Module","Module","imports","CoreModule","FormModule","declarations","bootstrap","Browser"],"mappings":"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","file":"docs\\js\\main.min.js","sourcesContent":[null,"import { Component, getContext } from 'rxcomp';\r\n\r\nexport class AppComponent extends Component {\r\n\r\n\tonInit() {\r\n\t\tconst { node } = getContext(this);\r\n\t\tnode.classList.remove('hidden');\r\n\t\tconsole.log('AppComponent.onInit');\r\n\t}\r\n\r\n}\r\n\r\nAppComponent.meta = {\r\n\tselector: '[app-component]',\r\n};\r\n","import { Directive, getContext } from 'rxcomp';\r\nimport { BehaviorSubject } from 'rxjs';\r\nimport { takeUntil } from 'rxjs/operators';\r\n\r\nlet DROPDOWN_ID = 1000000;\r\n\r\nexport class DropdownDirective extends Directive {\r\n\r\n\tget id() {\r\n\t\treturn this.dropdown || this.id_ || (this.id_ = DropdownDirective.nextId());\r\n\t}\r\n\r\n\tonInit() {\r\n\t\tconst { node } = getContext(this);\r\n\t\tconst trigger = node.getAttribute('dropdown-trigger');\r\n\t\tthis.trigger = trigger ? node.querySelector(trigger) : node;\r\n\t\tthis.opened = null;\r\n\t\tthis.onClick = this.onClick.bind(this);\r\n\t\tthis.onDocumentClick = this.onDocumentClick.bind(this);\r\n\t\tthis.openDropdown = this.openDropdown.bind(this);\r\n\t\tthis.closeDropdown = this.closeDropdown.bind(this);\r\n\t\tthis.addListeners();\r\n\t\tDropdownDirective.dropdown$.pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$)\r\n\t\t).subscribe(id => {\r\n\t\t\t// console.log('DropdownDirective', id, this['dropdown-item']);\r\n\t\t\tif (this.id === id) {\r\n\t\t\t\tnode.classList.add('dropped');\r\n\t\t\t} else {\r\n\t\t\t\tnode.classList.remove('dropped');\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tonClick(event) {\r\n\t\tconst { node } = getContext(this);\r\n\t\tif (this.opened === null) {\r\n\t\t\tthis.openDropdown();\r\n\t\t} else {\r\n\t\t\tconst dropdownItemNode = node.querySelector('[dropdown-item]');\r\n\t\t\t// console.log('dropdownItemNode', dropdownItemNode);\r\n\t\t\tif (!dropdownItemNode) { // if (this.trigger !== node) {\r\n\t\t\t\tthis.closeDropdown();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tonDocumentClick(event) {\r\n\t\tconst { node } = getContext(this);\r\n\t\tconst clickedInside = node === event.target || node.contains(event.target);\r\n\t\tif (!clickedInside) {\r\n\t\t\tthis.closeDropdown();\r\n\t\t}\r\n\t}\r\n\r\n\topenDropdown() {\r\n\t\tif (this.opened === null) {\r\n\t\t\tthis.opened = true;\r\n\t\t\tthis.addDocumentListeners();\r\n\t\t\tDropdownDirective.dropdown$.next(this.id);\r\n\t\t\tthis.dropped.next(this.id);\r\n\t\t}\r\n\t}\r\n\r\n\tcloseDropdown() {\r\n\t\tif (this.opened !== null) {\r\n\t\t\tthis.removeDocumentListeners();\r\n\t\t\tthis.opened = null;\r\n\t\t\tif (DropdownDirective.dropdown$.getValue() === this.id) {\r\n\t\t\t\tDropdownDirective.dropdown$.next(null);\r\n\t\t\t\tthis.dropped.next(null);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\taddListeners() {\r\n\t\tthis.trigger.addEventListener('click', this.onClick);\r\n\t}\r\n\r\n\taddDocumentListeners() {\r\n\t\tdocument.addEventListener('click', this.onDocumentClick);\r\n\t}\r\n\r\n\tremoveListeners() {\r\n\t\tthis.trigger.removeEventListener('click', this.onClick);\r\n\t}\r\n\r\n\tremoveDocumentListeners() {\r\n\t\tdocument.removeEventListener('click', this.onDocumentClick);\r\n\t}\r\n\r\n\tonDestroy() {\r\n\t\tthis.removeListeners();\r\n\t\tthis.removeDocumentListeners();\r\n\t}\r\n\r\n\tstatic nextId() {\r\n\t\treturn DROPDOWN_ID++;\r\n\t}\r\n\r\n}\r\n\r\nDropdownDirective.meta = {\r\n\tselector: '[dropdown]',\r\n\tinputs: ['dropdown', 'dropdown-trigger'],\r\n\toutputs: ['dropped']\r\n};\r\n\r\nDropdownDirective.dropdown$ = new BehaviorSubject(null);\r\n","import { Directive, getContext } from 'rxcomp';\r\nimport { takeUntil } from 'rxjs/operators';\r\nimport { DropdownDirective } from './dropdown.directive';\r\n\r\nexport class DropdownItemDirective extends Directive {\r\n\r\n\tget id() {\r\n\t\treturn this['dropdown-item'];\r\n\t}\r\n\r\n\tonInit() {\r\n\t\tconst { node } = getContext(this);\r\n\t\tnode.classList.add('dropdown-item');\r\n\t\tDropdownDirective.dropdown$.pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$)\r\n\t\t).subscribe(id => {\r\n\t\t\t// console.log('DropdownItemDirective', id, this['dropdown-item']);\r\n\t\t\tif (this.id === id) {\r\n\t\t\t\tnode.classList.add('dropped');\r\n\t\t\t} else {\r\n\t\t\t\tnode.classList.remove('dropped');\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n}\r\n\r\nDropdownItemDirective.meta = {\r\n\tselector: '[dropdown-item], [[dropdown-item]]',\r\n\tinputs: ['dropdown-item']\r\n};\r\n","\r\nexport class Utils {\r\n\r\n\tstatic merge(target, source) {\r\n\t\tif (typeof source === 'object') {\r\n\t\t\tObject.keys(source).forEach(key => {\r\n\t\t\t\tconst value = source[key];\r\n\t\t\t\tif (typeof value === 'object' && !Array.isArray(value)) {\r\n\t\t\t\t\ttarget[key] = this.merge(target[key], value);\r\n\t\t\t\t} else {\r\n\t\t\t\t\ttarget[key] = value;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t\treturn target;\r\n\t}\r\n\r\n}\r\n","import { Utils } from './core/utils/utils';\r\nimport { environmentServed } from './environment.served';\r\nimport { environmentStatic } from './environment.static';\r\n\r\nexport const NODE = (typeof module !== 'undefined' && module.exports);\r\nexport const PARAMS = NODE ? { get: () => { } } : new URLSearchParams(window.location.search);\r\nexport const DEBUG = false || (PARAMS.get('debug') != null);\r\nexport const BASE_HREF = NODE ? null : document.querySelector('base').getAttribute('href');\r\nexport const HEROKU = NODE ? false : (window && window.location.host.indexOf('herokuapp') !== -1);\r\nexport const STATIC = NODE ? false : (HEROKU || (window && (window.location.port === '48481' || window.location.port === '5000' || window.location.port === '6443' || window.location.host === 'actarian.github.io')));\r\nexport const DEVELOPMENT = NODE ? false : (window && ['localhost', '127.0.0.1', '0.0.0.0'].indexOf(window.location.host.split(':')[0]) !== -1);\r\nexport const PRODUCTION = !DEVELOPMENT;\r\nexport const ENV = {\r\n\tSTATIC,\r\n\tDEVELOPMENT,\r\n\tPRODUCTION\r\n};\r\n\r\nexport class Environment {\r\n\r\n\tget STATIC() {\r\n\t\treturn ENV.STATIC;\r\n\t}\r\n\tset STATIC(STATIC) {\r\n\t\tENV.STATIC = (STATIC === true || STATIC === 'true');\r\n\t\tconsole.log('Environment.STATIC.set', ENV.STATIC);\r\n\t}\r\n\r\n\tget href() {\r\n\t\tif (HEROKU) {\r\n\t\t\treturn this.githubDocs;\r\n\t\t} else {\r\n\t\t\treturn BASE_HREF;\r\n\t\t}\r\n\t}\r\n\r\n\tgetAbsoluteUrl(path, params) {\r\n\t\tlet url = `${window.location.origin}${path}`;\r\n\t\t// let url = `${window.location.protocol}//${window.location.host}${path}`;\r\n\t\tObject.keys(params).forEach(key => {\r\n\t\t\turl = url.replace(`$${key}`, params[key]);\r\n\t\t});\r\n\t\treturn url;\r\n\t}\r\n\r\n\tgetPath(path) {\r\n\t\treturn this.isLocal(path) ? (this.href + path) : path;\r\n\t}\r\n\r\n\tisLocal(path) {\r\n\t\treturn path.indexOf('://') === -1;\r\n\t}\r\n\r\n\tconstructor(options) {\r\n\t\tif (options) {\r\n\t\t\tObject.assign(this, options);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nconst defaultOptions = {\r\n\tport: 5000,\r\n\tflags: {\r\n\t\tproduction: false,\r\n\t\theroku: HEROKU,\r\n\t},\r\n\tslug: {},\r\n\tlanguages: ['it', 'en'],\r\n\tdefaultLanguage: 'it',\r\n\tlabels: {\r\n\t\tselect: 'Seleziona',\r\n\t\tbrowse: 'Sfoglia',\r\n\t\tcancel: 'Annulla',\r\n\t\terror_email: 'Email non valida',\r\n\t\terror_match: 'I campi non corrispondono',\r\n\t\terror_required: 'Campo obbligatorio',\r\n\t\tloading: 'caricamento',\r\n\t\tremove: 'Rimuovi',\r\n\t\trequired: 'Richiesto',\r\n\t\tselect_file: 'Seleziona una file...',\r\n\t\tupdate: 'Aggiorna',\r\n\t\tupload: 'Carica',\r\n\t\tdrag_and_drop_images: 'Drag And Drop your images here',\r\n\t}\r\n};\r\n\r\nconst environmentOptions = window.STATIC ? environmentStatic : environmentServed;\r\n\r\nlet options = Object.assign(defaultOptions, environmentOptions);\r\noptions = Utils.merge(options, window.environment);\r\n\r\nexport const environment = new Environment(options);\r\n\r\nconsole.log('environment', environment);\r\n","\r\nexport const environmentStatic = {\r\n\tflags: {\r\n\t\tproduction: false,\r\n\t},\r\n\tapi: '/giorgetti/api',\r\n\tassets: '/giorgetti/',\r\n\tworkers: {\r\n\t\timage: './js/workers/image.service.worker.js',\r\n\t\tprefetch: './js/workers/prefetch.service.worker.js',\r\n\t},\r\n\tgithubDocs: 'https://raw.githubusercontent.com/actarian/giorgetti/main/docs/',\r\n\tslug: {\r\n\t\tconfigureProduct: `/giorgetti/products-configure.html`,\r\n\t},\r\n\ttemplate: {\r\n\t\tmodal: {\r\n\t\t\tmyModal: '/my-modal.html',\r\n\t\t}\r\n\t},\r\n\tgoogleMaps: {\r\n\t\tapiKey: 'AIzaSyDvGw6iAoKdRv8mmaC9GeT-LWLPQtA8p60',\r\n\t}\r\n};\r\n","\r\nexport const environmentServed = {\r\n\tflags: {\r\n\t\tproduction: true,\r\n\t},\r\n\tapi: '/api',\r\n\tassets: '/Client/docs/',\r\n\tworkers: {\r\n\t\timage: '/Client/docs/js/workers/image.service.worker.js',\r\n\t\tprefetch: '/Client/docs/js/workers/prefetch.service.worker.js',\r\n\t},\r\n\tgithubDocs: 'https://raw.githubusercontent.com/actarian/giorgetti/main/docs/',\r\n\tslug: {\r\n\t\tconfigureProduct: `/Client/docs/products-configure.html`,\r\n\t},\r\n\ttemplate: {\r\n\t\tmodal: {\r\n\t\t\tmyModal: '/template/modules/giorgetti/my-modal.cshtml',\r\n\t\t}\r\n\t},\r\n\tgoogleMaps: {\r\n\t\tapiKey: 'AIzaSyDvGw6iAoKdRv8mmaC9GeT-LWLPQtA8p60',\r\n\t}\r\n};\r\n","import { Pipe } from 'rxcomp';\r\nimport { environment } from '../../environment';\r\n\r\nexport class EnvPipe extends Pipe {\r\n\r\n\tstatic transform(keypath) {\r\n\t\tlet env = environment;\r\n\t\tconst keys = keypath.split('.');\r\n\t\tlet k = keys.shift();\r\n\t\twhile (keys.length > 0 && env[k]) {\r\n\t\t\tenv = env[k];\r\n\t\t\tk = keys.shift();\r\n\t\t}\r\n\t\tconst value = env[k] || null;\r\n\t\treturn value;\r\n\t}\r\n\r\n}\r\n\r\nEnvPipe.meta = {\r\n\tname: 'env',\r\n};\r\n","import { Pipe } from 'rxcomp';\r\nimport { environment } from '../../environment';\r\n\r\nexport class FlagPipe extends Pipe {\r\n\r\n\tstatic transform(key) {\r\n\t\tconst flags = environment.flags;\r\n\t\treturn flags[key] || false;\r\n\t}\r\n\r\n}\r\n\r\nFlagPipe.meta = {\r\n\tname: 'flag',\r\n};\r\n","import { fromEvent, merge } from 'rxjs';\r\nimport { filter, map, shareReplay, startWith } from 'rxjs/operators';\r\n\r\nexport class KeyboardService {\r\n\r\n\tstatic keys = {};\r\n\r\n\tstatic keydown$() {\r\n\t\tif (!this.keydown$_) {\r\n\t\t\tthis.keydown$_ = fromEvent(window, 'keydown').pipe(\r\n\t\t\t\tshareReplay(1),\r\n\t\t\t);\r\n\t\t}\r\n\t\treturn this.keydown$_;\r\n\t}\r\n\r\n\tstatic keyup$() {\r\n\t\tif (!this.keyup$_) {\r\n\t\t\tthis.keyup$_ = fromEvent(window, 'keyup').pipe(\r\n\t\t\t\tshareReplay(1),\r\n\t\t\t);\r\n\t\t}\r\n\t\treturn this.keyup$_;\r\n\t}\r\n\r\n\tstatic keys$() {\r\n\t\tif (!this.keys$_) {\r\n\t\t\tthis.keys$_ = merge(this.keydown$(), this.keyup$()).pipe(\r\n\t\t\t\tmap(event => {\r\n\t\t\t\t\tconst keys = this.keys;\r\n\t\t\t\t\tif (event.type === 'keydown') {\r\n\t\t\t\t\t\tkeys[event.key] = true;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tdelete keys[event.key];\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn this.keys;\r\n\t\t\t\t}),\r\n\t\t\t\tstartWith(this.keys),\r\n\t\t\t\tshareReplay(1),\r\n\t\t\t)\r\n\t\t}\r\n\t\treturn this.keys$_;\r\n\t}\r\n\r\n\tstatic key$() {\r\n\t\tif (!this.key$_) {\r\n\t\t\tconst regexp = /\\w/;\r\n\t\t\tthis.key$_ = this.keydown$().pipe(\r\n\t\t\t\tfilter(event => event.key && event.key.match(regexp)),\r\n\t\t\t\tmap(event => event.key),\r\n\t\t\t\tshareReplay(1),\r\n\t\t\t)\r\n\t\t}\r\n\t\treturn this.key$_;\r\n\t}\r\n\r\n\tstatic typing$() {\r\n\t\tif (!this.typing$_) {\r\n\t\t\tlet typing = '',\r\n\t\t\t\tto;\r\n\t\t\tthis.typing$_ = this.key$().pipe(\r\n\t\t\t\tmap(key => {\r\n\t\t\t\t\tif (to) {\r\n\t\t\t\t\t\tclearTimeout(to);\r\n\t\t\t\t\t}\r\n\t\t\t\t\ttyping += key;\r\n\t\t\t\t\tto = setTimeout(() => {\r\n\t\t\t\t\t\ttyping = '';\r\n\t\t\t\t\t}, 1500);\r\n\t\t\t\t\treturn typing;\r\n\t\t\t\t}),\r\n\t\t\t\tshareReplay(1),\r\n\t\t\t)\r\n\t\t}\r\n\t\treturn this.typing$_;\r\n\t}\r\n\r\n}\r\n","import { Component, getContext } from 'rxcomp';\r\n\r\nexport class ControlComponent extends Component {\r\n\r\n\tonChanges() {\r\n\t\tconst { node } = getContext(this);\r\n\t\t// console.log(this, node, this.control);\r\n\t\tconst control = this.control;\r\n\t\tconst flags = control.flags;\r\n\t\tObject.keys(flags).forEach((key) => {\r\n\t\t\tflags[key] ? node.classList.add(key) : node.classList.remove(key);\r\n\t\t});\r\n\t}\r\n}\r\n\r\nControlComponent.meta = {\r\n\tselector: '[control]',\r\n\tinputs: ['control']\r\n};\r\n","import { getContext } from 'rxcomp';\r\nimport { takeUntil } from 'rxjs/operators';\r\nimport { DropdownDirective } from '../dropdown/dropdown.directive';\r\nimport { KeyboardService } from '../keyboard/keyboard.service';\r\nimport { ControlComponent } from './control.component';\r\n\r\nexport class ControlCustomSelectComponent extends ControlComponent {\r\n\r\n\tonInit() {\r\n\t\tthis.label = this.label || 'label';\r\n\t\tthis.dropped = false;\r\n\t\tthis.dropdownId = DropdownDirective.nextId();\r\n\t\tKeyboardService.typing$().pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$)\r\n\t\t).subscribe(word => {\r\n\t\t\tthis.scrollToWord(word);\r\n\t\t});\r\n\t\t/*\r\n\t\tKeyboardService.key$().pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$)\r\n\t\t).subscribe(key => {\r\n\t\t\tthis.scrollToKey(key);\r\n\t\t});\r\n\t\t*/\r\n\t}\r\n\r\n\t/*\r\n\tonChanges() {\r\n\t\t// console.log('ControlCustomSelectComponent.onChanges');\r\n\t}\r\n\t*/\r\n\r\n\tscrollToWord(word) {\r\n\t\t// console.log('ControlCustomSelectComponent.scrollToWord', word);\r\n\t\tconst items = this.control.options || [];\r\n\t\tlet index = -1;\r\n\t\tfor (let i = 0; i < items.length; i++) {\r\n\t\t\tconst x = items[i];\r\n\t\t\tif (x.name.toLowerCase().indexOf(word.toLowerCase()) === 0) {\r\n\t\t\t\t// console.log(word, x.name);\r\n\t\t\t\tindex = i;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (index !== -1) {\r\n\t\t\tconst { node } = getContext(this);\r\n\t\t\tconst dropdown = node.querySelector('.dropdown');\r\n\t\t\tconst navDropdown = node.querySelector('.nav--dropdown');\r\n\t\t\tconst item = navDropdown.children[index];\r\n\t\t\tdropdown.scrollTo(0, item.offsetTop);\r\n\t\t}\r\n\t}\r\n\r\n\tsetOption(item) {\r\n\t\t// console.log('setOption', item, this.isMultiple);\r\n\t\tlet value;\r\n\t\tif (this.isMultiple) {\r\n\t\t\tconst value = this.control.value || [];\r\n\t\t\tconst index = value.indexOf(item.id);\r\n\t\t\tif (index !== -1) {\r\n\t\t\t\t// if (value.length > 1) {\r\n\t\t\t\tvalue.splice(index, 1);\r\n\t\t\t\t// }\r\n\t\t\t} else {\r\n\t\t\t\tvalue.push(item.id);\r\n\t\t\t}\r\n\t\t\tvalue = value.length ? value.slice() : null;\r\n\t\t} else {\r\n\t\t\tvalue = item.id;\r\n\t\t\t// DropdownDirective.dropdown$.next(null);\r\n\t\t}\r\n\t\tthis.control.value = value;\r\n\t\tthis.change.next(value);\r\n\t}\r\n\r\n\thasOption(item) {\r\n\t\tif (this.isMultiple) {\r\n\t\t\tconst values = this.control.value || [];\r\n\t\t\treturn values.indexOf(item.id) !== -1;\r\n\t\t} else {\r\n\t\t\treturn this.control.value === item.id;\r\n\t\t}\r\n\t}\r\n\r\n\tgetLabel() {\r\n\t\tlet value = this.control.value;\r\n\t\tconst items = this.control.options || [];\r\n\t\tif (this.isMultiple) {\r\n\t\t\tvalue = value || [];\r\n\t\t\tif (value.length) {\r\n\t\t\t\treturn value.map(v => {\r\n\t\t\t\t\tconst item = items.find(x => x.id === v || x.name === v);\r\n\t\t\t\t\treturn item ? item.name : '';\r\n\t\t\t\t}).join(', ');\r\n\t\t\t} else {\r\n\t\t\t\treturn 'select'; // LabelPipe.transform('select');\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tconst item = items.find(x => x.id === value || x.name === value);\r\n\t\t\tif (item) {\r\n\t\t\t\treturn item.name;\r\n\t\t\t} else {\r\n\t\t\t\treturn 'select'; // LabelPipe.transform('select');\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tonDropped($event) {\r\n\t\t// console.log('ControlCustomSelectComponent.onDropped', id);\r\n\t\tif (this.dropped && $event === null) {\r\n\t\t\tthis.control.touched = true;\r\n\t\t}\r\n\t\tthis.dropped = $event === this.dropdownId;\r\n\t}\r\n\r\n\tget isMultiple() {\r\n\t\treturn this.multiple && this.multiple !== false && this.multiple !== 'false';\r\n\t}\r\n}\r\n\r\nControlCustomSelectComponent.meta = {\r\n\tselector: '[control-custom-select]',\r\n\toutputs: ['change'],\r\n\tinputs: ['control', 'label', 'multiple'],\r\n\ttemplate: /* html */ `\r\n\t\t<div class=\"group--form--select\" [class]=\"{ required: control.validators.length, multiple: isMultiple }\" [dropdown]=\"dropdownId\" (dropped)=\"onDropped($event)\">\r\n\t\t\t<label [innerHTML]=\"label\"></label>\r\n\t\t\t<span class=\"control--custom-select\" [innerHTML]=\"getLabel() | label\"></span>\r\n\t\t\t<svg class=\"caret-down\"><use xlink:href=\"#caret-down\"></use></svg>\r\n\t\t\t<span class=\"required__badge\" [innerHTML]=\"'required' | label\"></span>\r\n\t\t</div>\r\n\t\t<errors-component [control]=\"control\"></errors-component>\r\n\t\t<div class=\"dropdown\" [dropdown-item]=\"dropdownId\">\r\n\t\t\t<div class=\"category\" [innerHTML]=\"label\"></div>\r\n\t\t\t<ul class=\"nav--dropdown\" [class]=\"{ multiple: isMultiple }\">\r\n\t\t\t\t<li (click)=\"setOption(item)\" [class]=\"{ empty: item.id == null }\" *for=\"let item of control.options\">\r\n\t\t\t\t\t<span [class]=\"{ active: hasOption(item) }\" [innerHTML]=\"item.name | label\"></span>\r\n\t\t\t\t</li>\r\n\t\t\t</ul>\r\n\t\t</div>\r\n\t`\r\n};\r\n","import { ControlComponent } from './control.component';\r\n\r\nexport class ControlEmailComponent extends ControlComponent {\r\n\r\n\tonInit() {\r\n\t\tthis.label = this.label || 'label';\r\n\t}\r\n\r\n}\r\n\r\nControlEmailComponent.meta = {\r\n\tselector: '[control-email]',\r\n\tinputs: ['control', 'label'],\r\n\ttemplate: /* html */ `\r\n\t\t<div class=\"group--form\" [class]=\"{ required: control.validators.length }\">\r\n\t\t\t<label [innerHTML]=\"label\"></label>\r\n\t\t\t<input type=\"text\" class=\"control--text\" [formControl]=\"control\" [placeholder]=\"label\" required email />\r\n\t\t\t<span class=\"required__badge\" [innerHTML]=\"'required' | label\"></span>\r\n\t\t</div>\r\n\t\t<errors-component [control]=\"control\"></errors-component>\r\n\t`\r\n};\r\n","import { ControlComponent } from './control.component';\r\n\r\nexport class ControlSearchComponent extends ControlComponent {\r\n\r\n\tonInit() {\r\n\t\tthis.label = this.label || 'label';\r\n\t\tthis.disabled = this.disabled || false;\r\n\t}\r\n\r\n}\r\n\r\nControlSearchComponent.meta = {\r\n\tselector: '[control-search]',\r\n\tinputs: ['control', 'label', 'disabled'],\r\n\ttemplate: /* html */ `\r\n\t\t<div class=\"group--form\" [class]=\"{ required: control.validators.length, disabled: disabled }\">\r\n\t\t\t<svg class=\"search\"><use xlink:href=\"#search\"></use></svg>\r\n\t\t\t<input type=\"text\" class=\"control--text\" [formControl]=\"control\" [placeholder]=\"label\" [disabled]=\"disabled\" />\r\n\t\t</div>\r\n\t`\r\n};\r\n","import { Pipe } from 'rxcomp';\r\n\r\n/*\r\n['quot', 'amp', 'apos', 'lt', 'gt', 'nbsp', 'iexcl', 'cent', 'pound', 'curren', 'yen', 'brvbar', 'sect', 'uml', 'copy', 'ordf', 'laquo', 'not', 'shy', 'reg', 'macr', 'deg', 'plusmn', 'sup2', 'sup3', 'acute', 'micro', 'para', 'middot', 'cedil', 'sup1', 'ordm', 'raquo', 'frac14', 'frac12', 'frac34', 'iquest', 'Agrave', 'Aacute', 'Acirc', 'Atilde', 'Auml', 'Aring', 'AElig', 'Ccedil', 'Egrave', 'Eacute', 'Ecirc', 'Euml', 'Igrave', 'Iacute', 'Icirc', 'Iuml', 'ETH', 'Ntilde', 'Ograve', 'Oacute', 'Ocirc', 'Otilde', 'Ouml', 'times', 'Oslash', 'Ugrave', 'Uacute', 'Ucirc', 'Uuml', 'Yacute', 'THORN', 'szlig', 'agrave', 'aacute', 'atilde', 'auml', 'aring', 'aelig', 'ccedil', 'egrave', 'eacute', 'ecirc', 'euml', 'igrave', 'iacute', 'icirc', 'iuml', 'eth', 'ntilde', 'ograve', 'oacute', 'ocirc', 'otilde', 'ouml', 'divide', 'oslash', 'ugrave', 'uacute', 'ucirc', 'uuml', 'yacute', 'thorn', 'yuml', 'amp', 'bull', 'deg', 'infin', 'permil', 'sdot', 'plusmn', 'dagger', 'mdash', 'not', 'micro', 'perp', 'par', 'euro', 'pound', 'yen', 'cent', 'copy', 'reg', 'trade', 'alpha', 'beta', 'gamma', 'delta', 'epsilon', 'zeta', 'eta', 'theta', 'iota', 'kappa', 'lambda', 'mu', 'nu', 'xi', 'omicron', 'pi', 'rho', 'sigma', 'tau', 'upsilon', 'phi', 'chi', 'psi', 'omega', 'Alpha', 'Beta', 'Gamma', 'Delta', 'Epsilon', 'Zeta', 'Eta', 'Theta', 'Iota', 'Kappa', 'Lambda', 'Mu', 'Nu', 'Xi', 'Omicron', 'Pi', 'Rho', 'Sigma', 'Tau', 'Upsilon', 'Phi', 'Chi', 'Psi', 'Omega'];\r\n['\"', '&', ''', '<', '>', ' ', '¡', '¢', '£', '¤', '¥', '¦', '§', '¨', '©', 'ª', '«', '¬', '­', '®', '¯', '°', '±', '²', '³', '´', 'µ', '¶', '·', '¸', '¹', 'º', '»', '¼', '½', '¾', '¿', 'À', 'Á', 'Â', 'Ã', 'Ä', 'Å', 'Æ', 'Ç', 'È', 'É', 'Ê', 'Ë', 'Ì', 'Í', 'Î', 'Ï', 'Ð', 'Ñ', 'Ò', 'Ó', 'Ô', 'Õ', 'Ö', '×', 'Ø', 'Ù', 'Ú', 'Û', 'Ü', 'Ý', 'Þ', 'ß', 'à', 'á', 'ã', 'ä', 'å', 'æ', 'ç', 'è', 'é', 'ê', 'ë', 'ì', 'í', 'î', 'ï', 'ð', 'ñ', 'ò', 'ó', 'ô', 'õ', 'ö', '÷', 'ø', 'ù', 'ú', 'û', 'ü', 'ý', 'þ', 'ÿ', '&', '•', '°', '∞', '‰', '⋅', '±', '†', '—', '¬', 'µ', '⊥', '∥', '€', '£', '¥', '¢', '©', '®', '™', 'α', 'β', 'γ', 'δ', 'ε', 'ζ', 'η', 'θ', 'ι', 'κ', 'λ', 'μ', 'ν', 'ξ', 'ο', 'π', 'ρ', 'σ', 'τ', 'υ', 'φ', 'χ', 'ψ', 'ω', 'Α', 'Β', 'Γ', 'Δ', 'Ε', 'Ζ', 'Η', 'Θ', 'Ι', 'Κ', 'Λ', 'Μ', 'Ν', 'Ξ', 'Ο', 'Π', 'Ρ', 'Σ', 'Τ', 'Υ', 'Φ', 'Χ', 'Ψ', 'Ω'];\r\n*/\r\n\r\nexport class HtmlPipe extends Pipe {\r\n\r\n\tstatic transform(value) {\r\n\t\tif (value) {\r\n\t\t\tvalue = value.replace(/&#(\\d+);/g, function(m, n) {\r\n\t\t\t\treturn String.fromCharCode(parseInt(n));\r\n\t\t\t});\r\n\t\t\tconst escapes = ['quot', 'amp', 'apos', 'lt', 'gt', 'nbsp', 'iexcl', 'cent', 'pound', 'curren', 'yen', 'brvbar', 'sect', 'uml', 'copy', 'ordf', 'laquo', 'not', 'shy', 'reg', 'macr', 'deg', 'plusmn', 'sup2', 'sup3', 'acute', 'micro', 'para', 'middot', 'cedil', 'sup1', 'ordm', 'raquo', 'frac14', 'frac12', 'frac34', 'iquest', 'Agrave', 'Aacute', 'Acirc', 'Atilde', 'Auml', 'Aring', 'AElig', 'Ccedil', 'Egrave', 'Eacute', 'Ecirc', 'Euml', 'Igrave', 'Iacute', 'Icirc', 'Iuml', 'ETH', 'Ntilde', 'Ograve', 'Oacute', 'Ocirc', 'Otilde', 'Ouml', 'times', 'Oslash', 'Ugrave', 'Uacute', 'Ucirc', 'Uuml', 'Yacute', 'THORN', 'szlig', 'agrave', 'aacute', 'atilde', 'auml', 'aring', 'aelig', 'ccedil', 'egrave', 'eacute', 'ecirc', 'euml', 'igrave', 'iacute', 'icirc', 'iuml', 'eth', 'ntilde', 'ograve', 'oacute', 'ocirc', 'otilde', 'ouml', 'divide', 'oslash', 'ugrave', 'uacute', 'ucirc', 'uuml', 'yacute', 'thorn', 'yuml', 'amp', 'bull', 'deg', 'infin', 'permil', 'sdot', 'plusmn', 'dagger', 'mdash', 'not', 'micro', 'perp', 'par', 'euro', 'pound', 'yen', 'cent', 'copy', 'reg', 'trade', 'alpha', 'beta', 'gamma', 'delta', 'epsilon', 'zeta', 'eta', 'theta', 'iota', 'kappa', 'lambda', 'mu', 'nu', 'xi', 'omicron', 'pi', 'rho', 'sigma', 'tau', 'upsilon', 'phi', 'chi', 'psi', 'omega', 'Alpha', 'Beta', 'Gamma', 'Delta', 'Epsilon', 'Zeta', 'Eta', 'Theta', 'Iota', 'Kappa', 'Lambda', 'Mu', 'Nu', 'Xi', 'Omicron', 'Pi', 'Rho', 'Sigma', 'Tau', 'Upsilon', 'Phi', 'Chi', 'Psi', 'Omega'];\r\n\t\t\tconst unescapes = ['\"', '&', '\\'', '<', '>', ' ', '¡', '¢', '£', '¤', '¥', '¦', '§', '¨', '©', 'ª', '«', '¬', '­', '®', '¯', '°', '±', '²', '³', '´', 'µ', '¶', '·', '¸', '¹', 'º', '»', '¼', '½', '¾', '¿', 'À', 'Á', 'Â', 'Ã', 'Ä', 'Å', 'Æ', 'Ç', 'È', 'É', 'Ê', 'Ë', 'Ì', 'Í', 'Î', 'Ï', 'Ð', 'Ñ', 'Ò', 'Ó', 'Ô', 'Õ', 'Ö', '×', 'Ø', 'Ù', 'Ú', 'Û', 'Ü', 'Ý', 'Þ', 'ß', 'à', 'á', 'ã', 'ä', 'å', 'æ', 'ç', 'è', 'é', 'ê', 'ë', 'ì', 'í', 'î', 'ï', 'ð', 'ñ', 'ò', 'ó', 'ô', 'õ', 'ö', '÷', 'ø', 'ù', 'ú', 'û', 'ü', 'ý', 'þ', 'ÿ', '&', '•', '°', '∞', '‰', '⋅', '±', '†', '—', '¬', 'µ', '⊥', '∥', '€', '£', '¥', '¢', '©', '®', '™', 'α', 'β', 'γ', 'δ', 'ε', 'ζ', 'η', 'θ', 'ι', 'κ', 'λ', 'μ', 'ν', 'ξ', 'ο', 'π', 'ρ', 'σ', 'τ', 'υ', 'φ', 'χ', 'ψ', 'ω', 'Α', 'Β', 'Γ', 'Δ', 'Ε', 'Ζ', 'Η', 'Θ', 'Ι', 'Κ', 'Λ', 'Μ', 'Ν', 'Ξ', 'Ο', 'Π', 'Ρ', 'Σ', 'Τ', 'Υ', 'Φ', 'Χ', 'Ψ', 'Ω'];\r\n\t\t\tconst rx = new RegExp(`(&${escapes.join(';)|(&')};)`, 'g');\r\n\t\t\tvalue = value.replace(rx, function() {\r\n\t\t\t\tfor (let i = 1; i < arguments.length; i++) {\r\n\t\t\t\t\tif (arguments[i]) {\r\n\t\t\t\t\t\t// console.log(arguments[i], unescapes[i - 1]);\r\n\t\t\t\t\t\treturn unescapes[i - 1];\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\t// console.log(value);\r\n\t\t\treturn value;\r\n\t\t}\r\n\t}\r\n\r\n}\r\n\r\nHtmlPipe.meta = {\r\n\tname: 'html',\r\n};\r\n","import { Directive, getContext } from 'rxcomp';\r\n\r\nexport class IdDirective extends Directive {\r\n\r\n\tonChanges() {\r\n\t\tconst { node } = getContext(this);\r\n\t\tnode.setAttribute('id', this.id);\r\n\t}\r\n\r\n}\r\n\r\nIdDirective.meta = {\r\n\tselector: '[id]',\r\n\tinputs: ['id']\r\n};\r\n","import { Pipe } from 'rxcomp';\r\nimport { environment } from '../../environment';\r\nimport { Utils } from '../utils/utils';\r\n\r\nexport class LabelPipe extends Pipe {\r\n\r\n\tstatic transform(key) {\r\n\t\tconst labels = LabelPipe.labels_;\r\n\t\treturn labels[key] || key; // `#${key}#`;\r\n\t}\r\n\r\n\tstatic getKeys(...keys) {\r\n\t\treturn LabelPipe.transform(keys.map(x => x.replace('-', '_')).join('_'));\r\n\t}\r\n\r\n\tstatic setLabels() {\r\n\t\tconst LABELS = Utils.merge({\r\n\t\t\tselect: 'Seleziona',\r\n\t\t\tbrowse: 'Sfoglia',\r\n\t\t\tcancel: 'Annulla',\r\n\t\t\terror_email: 'Email non valida',\r\n\t\t\terror_match: 'I campi non corrispondono',\r\n\t\t\terror_required: 'Campo obbligatorio',\r\n\t\t\tloading: 'caricamento',\r\n\t\t\tremove: 'Rimuovi',\r\n\t\t\trequired: 'Richiesto',\r\n\t\t\tselect_file: 'Seleziona una file...',\r\n\t\t\tupdate: 'Aggiorna',\r\n\t\t\tupload: 'Carica',\r\n\t\t\tdrag_and_drop_images: 'Drag And Drop your images here',\r\n\t\t}, environment.labels);\r\n\t\tthis.labels_ = LABELS;\r\n\t}\r\n}\r\n\r\nLabelPipe.setLabels();\r\n\r\nLabelPipe.meta = {\r\n\tname: 'label',\r\n};\r\n","import { fromEvent, ReplaySubject } from 'rxjs';\r\nimport { delay, switchMap } from 'rxjs/operators';\r\n\r\nexport class LocomotiveScrollService {\r\n\r\n\tstatic scroll$ = new ReplaySubject(1);\r\n\tstatic scroll(scroll) {\r\n\t\t// console.log('LocomotiveScrollService.scroll', scroll);\r\n\t\tthis.scroll$.next(scroll);\r\n\t}\r\n\r\n\tstatic init(node, options) {\r\n\t\toptions = Object.assign({\r\n\t\t\tuseKeyboard: true,\r\n\t\t\tsmoothMobile: true,\r\n\t\t\tinertia: 0.5,\r\n\t\t\t// name:'scroll',\r\n\t\t\t// offset: [0,0], // bottom top\r\n\t\t\t// repeat: false,\r\n\t\t\tsmooth: true,\r\n\t\t\t// initPosition: { x: 0, y: 0 }\r\n\t\t\t// direction: 'vertical',\r\n\t\t\tlerp: 0.01,\r\n\t\t\tgetDirection: true, // add direction to scroll event\r\n\t\t\tgetSpeed: true, // add speed to scroll event\r\n\t\t\t// class: 'is-inview',\r\n\t\t\tinitClass: 'has-scroll-init',\r\n\t\t\tscrollingClass: 'has-scroll-scrolling',\r\n\t\t\tdraggingClass: 'has-scroll-dragging',\r\n\t\t\tsmoothClass: 'has-scroll-smooth',\r\n\t\t\tscrollbarContainer: false,\r\n\t\t\tscrollbarClass: 'c-scrollbar',\r\n\t\t\tmultiplier: 1,\r\n\t\t\tfirefoxMultiplier: 50,\r\n\t\t\ttouchMultiplier: 2,\r\n\t\t\tscrollFromAnywhere: true,\r\n\t\t\tgestureDirection: 'vertical',\r\n\t\t\treloadOnContextChange: false,\r\n\t\t\tresetNativeScroll: true,\r\n\t\t}, options, {\r\n\t\t\tel: node,\r\n\t\t});\r\n\t\tif (this.useLocomotiveScroll()) {\r\n\t\t\tconst instance = new LocomotiveScroll(options);\r\n\t\t\tLocomotiveScrollService.instance = instance;\r\n\t\t\treturn instance;\r\n\t\t} else {\r\n\t\t\tdocument.querySelector('html').classList.add('has-scroll-init');\r\n\t\t}\r\n\t}\r\n\r\n\tstatic useLocomotiveScroll() {\r\n\t\treturn window.innerWidth >= 768 && !this.isMacLike();\r\n\t}\r\n\r\n\tstatic isMacLike() {\r\n\t\tconst isMacLike = /(Mac|iPhone|iPod|iPad)/i.test(navigator.platform);\r\n\t\treturn isMacLike;\r\n\t}\r\n\r\n\tstatic isIOS() {\r\n\t\tconst isIOS = /(iPhone|iPod|iPad)/i.test(navigator.platform);\r\n\t\treturn isIOS;\r\n\t}\r\n\r\n\tstatic isMacOs() {\r\n\t\tconst isMacOs = navigator.platform.toLowerCase().indexOf('mac') >= 0;\r\n\t\treturn isMacOs;\r\n\t}\r\n\r\n\tstatic isSafari() {\r\n\t\tconst isSafari = navigator.vendor.match(/apple/i) &&\r\n\t\t\t!navigator.userAgent.match(/crios/i) &&\r\n\t\t\t!navigator.userAgent.match(/fxios/i);\r\n\t\treturn isSafari;\r\n\t}\r\n\r\n\tstatic init$(node) {\r\n\t\treturn fromEvent(window, 'load').pipe(\r\n\t\t\tdelay(1),\r\n\t\t\tswitchMap(_ => {\r\n\t\t\t\t// setTimeout(() => {\r\n\t\t\t\tconst instance = LocomotiveScrollService.init(node);\r\n\t\t\t\tif (instance) {\r\n\t\t\t\t\tinstance.on('scroll', instance => {\r\n\t\t\t\t\t\tLocomotiveScrollService.scroll(instance);\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconst event = { direction: null, scroll: { x: 0, y: 0 }, speed: 0 };\r\n\t\t\t\t\t// const body = document.querySelector('body');\r\n\t\t\t\t\tlet previousY = window.pageYOffset; // body.scrollTop;\r\n\t\t\t\t\twindow.addEventListener('scroll', () => {\r\n\t\t\t\t\t\tconst y = window.pageYOffset; // body.scrollTop;\r\n\t\t\t\t\t\tconst direction = y > previousY ? 'down' : 'up';\r\n\t\t\t\t\t\t// console.log('scroll', y, direction);\r\n\t\t\t\t\t\tpreviousY = y;\r\n\t\t\t\t\t\tevent.direction = direction;\r\n\t\t\t\t\t\tevent.scroll.y = y;\r\n\t\t\t\t\t\tLocomotiveScrollService.scroll(event);\r\n\t\t\t\t\t}, true);\r\n\t\t\t\t}\r\n\t\t\t\treturn LocomotiveScrollService.scroll$;\r\n\t\t\t\t// }, 1);\r\n\t\t\t})\r\n\t\t);\r\n\t}\r\n\r\n\tstatic update() {\r\n\t\tif (this.instance) {\r\n\t\t\tthis.instance.update();\r\n\t\t}\r\n\t}\r\n\r\n\tstatic scrollTo(target, options) {\r\n\t\tif (this.instance) {\r\n\t\t\tthis.instance.scrollTo(target, options);\r\n\t\t} else {\r\n\t\t\ttarget.scrollIntoView();\r\n\t\t}\r\n\t}\r\n\r\n}\r\n","import { Directive, getContext } from 'rxcomp';\r\nimport { takeUntil } from 'rxjs/operators';\r\nimport { LocomotiveScrollService } from './locomotive-scroll.service';\r\n\r\nexport class LocomotiveScrollDirective extends Directive {\r\n\r\n\tonInit() {\r\n\t\tconst { node } = getContext(this);\r\n\t\tLocomotiveScrollService.init$(node).pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$),\r\n\t\t).subscribe(event => {\r\n\t\t\t// console.log('LocomotiveScrollDirective', event);\r\n\t\t});\r\n\t\t/*\r\n\t\twindow.onload = () => {\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tconst instance = LocomotiveScrollService.init(node);\r\n\t\t\t\tif (instance) {\r\n\t\t\t\t\tinstance.on('scroll', instance => {\r\n\t\t\t\t\t\tLocomotiveScrollService.scroll(instance.scroll.y);\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconst body = document.querySelector('body');\r\n\t\t\t\t\twindow.addEventListener('scroll', () => {\r\n\t\t\t\t\t\tconst y = body.scrollTop; // window.pageYOffset\r\n\t\t\t\t\t\tLocomotiveScrollService.scroll(y);\r\n\t\t\t\t\t}, true);\r\n\t\t\t\t}\r\n\t\t\t}, 1);\r\n\t\t};\r\n\t\t*/\r\n\t}\r\n\r\n}\r\n\r\nLocomotiveScrollDirective.meta = {\r\n\tselector: '[locomotive-scroll],[[locomotive-scroll]]'\r\n};\r\n","import { Directive, getContext } from 'rxcomp';\r\nimport { takeUntil, tap } from 'rxjs/operators';\r\nimport { LocomotiveScrollService } from './locomotive-scroll.service';\r\n\r\nexport class ScrollDirective extends Directive {\r\n\r\n\tonInit() {\r\n\t\tif (!LocomotiveScrollService.useLocomotiveScroll()) {\r\n\t\t\tthis.scroll$().pipe(\r\n\t\t\t\ttakeUntil(this.unsubscribe$),\r\n\t\t\t).subscribe(event => {\r\n\t\t\t\t// console.log('ScrollDirective', event);\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tscroll$() {\r\n\t\tconst { node } = getContext(this);\r\n\t\tconst speed = node.hasAttribute('data-scroll-speed') ? parseFloat(node.getAttribute('data-scroll-speed')) : 1.5;\r\n\t\treturn LocomotiveScrollService.scroll$.pipe(\r\n\t\t\ttap(scroll => {\r\n\t\t\t\tconst wh = window.innerHeight;\r\n\t\t\t\tconst wh2 = wh / 2;\r\n\t\t\t\tconst rect = node.getBoundingClientRect();\r\n\t\t\t\tconst currentY = gsap.getProperty(node, 'y');\r\n\t\t\t\tconst top = rect.top - currentY;\r\n\t\t\t\tconst bottom = rect.bottom - currentY;\r\n\t\t\t\tif (top < wh && bottom > 0) {\r\n\t\t\t\t\tconst pow = (top - wh2) / wh2;\r\n\t\t\t\t\tconst y = pow * speed * 40;\r\n\t\t\t\t\tgsap.set(node, { y });\r\n\t\t\t\t}\r\n\t\t\t}),\r\n\t\t);\r\n\t}\r\n\r\n}\r\n\r\nScrollDirective.meta = {\r\n\tselector: '[data-scroll]'\r\n};\r\n","import { Pipe } from 'rxcomp';\r\nimport { environment } from '../../environment';\r\n\r\nexport class SlugPipe extends Pipe {\r\n\r\n\tstatic transform(key) {\r\n\t\tconst slug = environment.slug;\r\n\t\treturn slug[key] || `#${key}`;\r\n\t}\r\n\r\n}\r\n\r\nSlugPipe.meta = {\r\n\tname: 'slug',\r\n};\r\n","import { Component, getContext } from 'rxcomp';\r\nimport { Subject } from 'rxjs';\r\n\r\nexport class SwiperDirective extends Component {\r\n\r\n\tonInit() {\r\n\t\tthis.options = {\r\n\t\t\tslidesPerView: 'auto',\r\n\t\t\tspaceBetween: 0,\r\n\t\t\tcenteredSlides: true,\r\n\t\t\tspeed: 600,\r\n\t\t\tautoplay: {\r\n\t\t\t\tdelay: 5000,\r\n\t\t\t},\r\n\t\t\tkeyboardControl: true,\r\n\t\t\tmousewheelControl: false,\r\n\t\t\tpagination: {\r\n\t\t\t\tel: '.swiper-pagination',\r\n\t\t\t\tclickable: true,\r\n\t\t\t},\r\n\t\t\tkeyboard: {\r\n\t\t\t\tenabled: true,\r\n\t\t\t\tonlyInViewport: true,\r\n\t\t\t},\r\n\t\t};\r\n\t\tthis.init_();\r\n\t}\r\n\r\n\tget enabled() {\r\n\t\treturn !window.matchMedia('print').matches;\r\n\t}\r\n\r\n\tonChanges() {\r\n\t\tthis.swiperInitOrUpdate_();\r\n\t}\r\n\r\n\tonDestroy() {\r\n\t\tthis.removeListeners_();\r\n\t\tthis.swiperDestroy_();\r\n\t}\r\n\r\n\tonBeforePrint() {\r\n\t\tthis.swiperDestroy_();\r\n\t}\r\n\r\n\tslideToIndex(index) {\r\n\t\t// console.log('SwiperDirective.slideToIndex', index);\r\n\t\tif (this.swiper) {\r\n\t\t\tthis.swiper.slideTo(index);\r\n\t\t}\r\n\t}\r\n\r\n\thasPrev() {\r\n\t\tconst swiper = this.swiper;\r\n\t\tif (swiper && swiper.activeIndex > 0 && swiper.slides.length > swiper.activeIndex) {\r\n\t\t\t// console.log('SwiperDirective.hasPrev', swiper.activeIndex, swiper.realIndex, swiper.slides);\r\n\t\t\treturn true;\r\n\t\t}\r\n\t}\r\n\r\n\thasNext() {\r\n\t\tconst swiper = this.swiper;\r\n\t\tif (swiper) {\r\n\t\t\tconst slidesPerView = swiper.params.slidesPerView || 1;\r\n\t\t\t// console.log('SwiperDirective.hasNext', swiper.slides.length, swiper.params.slidesPerView);\r\n\t\t\tif (swiper.activeIndex < swiper.slides.length - slidesPerView) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tslidePrev() {\r\n\t\tconst swiper = this.swiper;\r\n\t\tif (this.hasPrev()) {\r\n\t\t\t// console.log('SwiperDirective.slidePrev', swiper.activeIndex, swiper.realIndex, swiper.slides);\r\n\t\t\tswiper.slideTo(swiper.activeIndex - 1);\r\n\t\t}\r\n\t}\r\n\r\n\tslideNext() {\r\n\t\tconst swiper = this.swiper;\r\n\t\tif (this.hasNext()) {\r\n\t\t\t// console.log('SwiperDirective.slideNext', swiper.activeIndex, swiper.realIndex, swiper.slides);\r\n\t\t\tswiper.slideTo(swiper.activeIndex + 1);\r\n\t\t}\r\n\t}\r\n\r\n\tinit_(target) {\r\n\t\tthis.events$ = new Subject();\r\n\t\tif (this.enabled) {\r\n\t\t\tconst { node } = getContext(this);\r\n\t\t\ttarget = target || node;\r\n\t\t\tthis.target = target;\r\n\t\t\tgsap.set(target, { opacity: 0 });\r\n\t\t\tthis.index = 0;\r\n\t\t\tconst on = this.options.on || {};\r\n\t\t\ton.slideChange = () => {\r\n\t\t\t\tconst swiper = this.swiper;\r\n\t\t\t\tif (swiper) {\r\n\t\t\t\t\tthis.index = swiper.activeIndex;\r\n\t\t\t\t\tthis.events$.next(this.index);\r\n\t\t\t\t\tthis.pushChanges();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthis.options.on = on;\r\n\t\t\tthis.addListeners_();\r\n\t\t}\r\n\t}\r\n\r\n\taddListeners_() {\r\n\t\tthis.onBeforePrint = this.onBeforePrint.bind(this);\r\n\t\twindow.addEventListener('beforeprint', this.onBeforePrint);\r\n\t\t/*\r\n\t\tscope.$on('onResize', ($scope) => {\r\n\t\t\tthis.onResize(scope, element, attributes);\r\n\t\t});\r\n\t\t*/\r\n\t}\r\n\r\n\tremoveListeners_() {\r\n\t\twindow.removeEventListener('beforeprint', this.onBeforePrint);\r\n\t}\r\n\r\n\tswiperInitOrUpdate_() {\r\n\t\tif (this.enabled) {\r\n\t\t\tconst target = this.target;\r\n\t\t\tif (this.swiper) {\r\n\t\t\t\tthis.swiper.update();\r\n\t\t\t} else {\r\n\t\t\t\tlet swiper;\r\n\t\t\t\tconst on = this.options.on || (this.options.on = {});\r\n\t\t\t\tconst callback = on.init;\r\n\t\t\t\tif (!on.init || !on.init.swiperDirectiveInit) {\r\n\t\t\t\t\ton.init = function() {\r\n\t\t\t\t\t\tgsap.to(target, {\r\n\t\t\t\t\t\t\tduration: 0.4,\r\n\t\t\t\t\t\t\topacity: 1,\r\n\t\t\t\t\t\t\tease: Power2.easeOut,\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\tif (typeof callback === 'function') {\r\n\t\t\t\t\t\t\t\tcallback.apply(this, [swiper, element, scope]);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}, 1);\r\n\t\t\t\t\t};\r\n\t\t\t\t\ton.init.swiperDirectiveInit = true;\r\n\t\t\t\t}\r\n\t\t\t\tgsap.set(target, { opacity: 1 });\r\n\t\t\t\tswiper = new Swiper(target, this.options);\r\n\t\t\t\t// console.log(swiper);\r\n\t\t\t\tthis.swiper = swiper;\r\n\t\t\t\tthis.swiper._opening = true;\r\n\t\t\t\ttarget.classList.add('swiper-init');\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tswiperDestroy_() {\r\n\t\tif (this.swiper) {\r\n\t\t\tthis.swiper.destroy();\r\n\t\t}\r\n\t}\r\n\r\n}\r\n\r\nSwiperDirective.meta = {\r\n\tselector: '[swiper]',\r\n\tinputs: ['consumer']\r\n};\r\n","import { Component, getContext } from 'rxcomp';\r\n\r\nlet ID = 0;\r\n\r\nexport class ThronComponent extends Component {\r\n\r\n\tplaying_ = false;\r\n\tget playing() {\r\n\t\treturn this.playing_;\r\n\t}\r\n\tset playing(playing) {\r\n\t\tif (this.playing_ !== playing) {\r\n\t\t\tthis.playing_ = playing;\r\n\t\t\tconst { node } = getContext(this);\r\n\t\t\tif (node) {\r\n\t\t\t\tplaying ? node.classList.add('playing') : node.classList.remove('playing');\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tonInit() {\r\n\t\t// console.log('ThronComponent.onInit');\r\n\t\tconst THRON = window.THRONContentExperience || window.THRONPlayer;\r\n\t\tif (!THRON) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t// console.log('THRONContentExperience', window.THRONContentExperience, 'THRONPlayer', window.THRONPlayer);\r\n\t\tconst { node } = getContext(this);\r\n\t\tconst target = this.target = node.querySelector('.video > .thron');\r\n\t\tconst id = target.id = `thron-${++ID}`;\r\n\t\tlet media = this.thron;\r\n\t\tif (media.indexOf('pkey=') === -1) {\r\n\t\t\tconst splitted = media.split('/');\r\n\t\t\tconst clientId = splitted[6];\r\n\t\t\tconst xcontentId = splitted[7];\r\n\t\t\tconst pkey = splitted[8];\r\n\t\t\tmedia = `https://gruppoconcorde-view.thron.com/api/xcontents/resources/delivery/getContentDetail?clientId=${clientId}&xcontentId=${xcontentId}&pkey=${pkey}`;\r\n\t\t}\r\n\t\tconst controls = this.controls = node.hasAttribute('controls') ? true : false,\r\n\t\t\tloop = this.loop = node.hasAttribute('loop') ? true : false,\r\n\t\t\tautoplay = this.autoplay = node.hasAttribute('autoplay') ? true : false;\r\n\t\tconst player = this.player = THRON(id, {\r\n\t\t\tmedia: media,\r\n\t\t\tloop: loop,\r\n\t\t\tautoplay: autoplay,\r\n\t\t\tmuted: !controls,\r\n\t\t\tdisplayLinked: 'close',\r\n\t\t\tnoSkin: !controls,\r\n\t\t\t// lockBitrate: 'max',\r\n\t\t});\r\n\t\tthis.onReady = this.onReady.bind(this);\r\n\t\tthis.onCanPlay = this.onCanPlay.bind(this);\r\n\t\tthis.onPlaying = this.onPlaying.bind(this);\r\n\t\tthis.onPlay = this.onPlay.bind(this);\r\n\t\tthis.onPause = this.onPause.bind(this);\r\n\t\tthis.onComplete = this.onComplete.bind(this);\r\n\t\tplayer.on('ready', this.onReady);\r\n\t\tplayer.on('canPlay', this.onCanPlay);\r\n\t\tplayer.on('playing', this.onPlaying);\r\n\t\tplayer.on('play', this.onPlay);\r\n\t\tplayer.on('pause', this.onPause);\r\n\t\tplayer.on('complete', this.onComplete);\r\n\t}\r\n\r\n\tonReady() {\r\n\t\tconst { node } = getContext(this);\r\n\t\tconst id = this.target.id;\r\n\t\tconst player = this.player;\r\n\t\tif (!this.controls) {\r\n\t\t\tconst mediaContainer = player.mediaContainer();\r\n\t\t\tconst video = mediaContainer.querySelector('video');\r\n\t\t\tvideo.setAttribute('playsinline', 'true');\r\n\t\t\tvideo.setAttribute('autoplay', 'true');\r\n\t\t}\r\n\t\tthis.ready.next(id);\r\n\t\t// video.setAttribute('autoplay', 'true');\r\n\t};\r\n\r\n\tonCanPlay() {\r\n\t\tconst { node } = getContext(this);\r\n\t\tconst id = this.target.id;\r\n\t\t// console.log('ThronDirective.onCanPlay', id);\r\n\t\tthis.canPlay.next(id);\r\n\t}\r\n\r\n\tonPlaying() {\r\n\t\tconst { node } = getContext(this);\r\n\t\tconst id = this.target.id;\r\n\t\tconst player = this.player;\r\n\t\tplayer.off('playing', this.onPlaying);\r\n\t\tif (!this.controls) {\r\n\t\t\tconst qualities = player.qualityLevels();\r\n\t\t\t// console.log('ThronDirective.onPlaying', id, qualities);\r\n\t\t\tif (qualities.length) {\r\n\t\t\t\tconst highestQuality = qualities[qualities.length - 1].index;\r\n\t\t\t\tconst lowestQuality = qualities[0].index;\r\n\t\t\t\tplayer.currentQuality(highestQuality);\r\n\t\t\t\t// console.log('ThronDirective.onPlaying', id, 'currentQuality', player.currentQuality());\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tonPlay() {\r\n\t\tconst { node } = getContext(this);\r\n\t\tconst id = this.target.id;\r\n\t\t// console.log('ThronDirective.onComplete', id);\r\n\t\tthis.playing = true;\r\n\t\tthis.play.next(id);\r\n\t}\r\n\r\n\tonPause() {\r\n\t\tconst { node } = getContext(this);\r\n\t\tconst id = this.target.id;\r\n\t\t// console.log('ThronDirective.onComplete', id);\r\n\t\tthis.playing = false;\r\n\t\tthis.pause.next(id);\r\n\t}\r\n\r\n\tonComplete() {\r\n\t\tconst { node } = getContext(this);\r\n\t\tconst id = this.target.id;\r\n\t\t// console.log('ThronDirective.onComplete', id);\r\n\t\tthis.playing = false;\r\n\t\tthis.complete.next(id);\r\n\t}\r\n\r\n\tplayVideo() {\r\n\t\tconst { node } = getContext(this);\r\n\t\tconst id = this.target.id;\r\n\t\tconst player = this.player;\r\n\t\tconst status = player.status();\r\n\t\t// console.log('ThronDirective.playVideo', id, status);\r\n\t\tif (status && !status.playing) {\r\n\t\t\tplayer.play();\r\n\t\t}\r\n\t}\r\n\r\n\tpauseVideo() {\r\n\t\tconst { node } = getContext(this);\r\n\t\tconst id = this.target.id;\r\n\t\tconst player = this.player;\r\n\t\tconst status = player.status();\r\n\t\t// console.log('ThronDirective.pauseVideo', id, status);\r\n\t\tif (status && status.playing) {\r\n\t\t\tplayer.pause();\r\n\t\t}\r\n\t}\r\n\r\n\ttoggle() {\r\n\t\tconst { node } = getContext(this);\r\n\t\tconst id = this.target.id;\r\n\t\tconst player = this.player;\r\n\t\tconst status = player.status();\r\n\t\t// console.log('ThronDirective.pauseVideo', id, status);\r\n\t\tif (status && status.playing) {\r\n\t\t\tplayer.pause();\r\n\t\t} else {\r\n\t\t\tplayer.play();\r\n\t\t}\r\n\t}\r\n\r\n\tplay(id) {\r\n\t\t// console.log('ThronDirective.play', id, id, id === id);\r\n\t\tconst { node } = getContext(this);\r\n\t\tif (id === this.target.id) {\r\n\t\t\tthis.playVideo();\r\n\t\t}\r\n\t}\r\n\r\n\tpause(id) {\r\n\t\t// console.log('ThronDirective.pause', id, id, id === id);\r\n\t\tconst { node } = getContext(this);\r\n\t\tif (id === this.target.id) {\r\n\t\t\tthis.pauseVideo();\r\n\t\t}\r\n\t}\r\n\r\n\tonDestroy() {\r\n\t\tconst player = this.player;\r\n\t\tif (player) {\r\n\t\t\tplayer.off('ready', this.onReady);\r\n\t\t\tplayer.off('canPlay', this.onCanPlay);\r\n\t\t\tplayer.off('playing', this.onPlaying);\r\n\t\t\tplayer.off('play', this.onPlay);\r\n\t\t\tplayer.off('pause', this.onPause);\r\n\t\t\tplayer.off('complete', this.onComplete);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nThronComponent.meta = {\r\n\tselector: '[thron],[[thron]]',\r\n\toutputs: ['ready', 'canPlay', 'play', 'pause', 'complete'],\r\n\tinputs: ['thron', 'm3u8'],\r\n\ttemplate: /* html */``,\r\n};\r\n","import { Directive, getContext } from 'rxcomp';\r\n\r\nexport class TitleDirective extends Directive {\r\n\tset title(title) {\r\n\t\tif (this.title_ !== title) {\r\n\t\t\tthis.title_ = title;\r\n\t\t\tconst { node } = getContext(this);\r\n\t\t\ttitle ? node.setAttribute('title', title) : node.removeAttribute('title');\r\n\t\t}\r\n\t}\r\n\tget title() {\r\n\t\treturn this.title_;\r\n\t}\r\n}\r\n\r\nTitleDirective.meta = {\r\n\tselector: '[[title]]',\r\n\tinputs: ['title'],\r\n};\r\n","import { BehaviorSubject } from 'rxjs';\r\n\r\nexport const FilterMode = {\r\n\tSELECT: 'select',\r\n\tAND: 'and',\r\n\tOR: 'or',\r\n\tQUERY: 'query',\r\n};\r\n\r\nexport class FilterItem {\r\n\r\n\tconstructor(filter) {\r\n\t\tthis.change$ = new BehaviorSubject();\r\n\t\tthis.mode = FilterMode.SELECT;\r\n\t\tthis.filter = 'Filter';\r\n\t\tthis.placeholder = 'Select';\r\n\t\tthis.values = [];\r\n\t\tthis.options = [];\r\n\t\tif (filter) {\r\n\t\t\tObject.assign(this, filter);\r\n\t\t}\r\n\t\tif (filter.mode === FilterMode.SELECT) {\r\n\t\t\tfilter.options.unshift({\r\n\t\t\t\tlabel: filter.placeholder,\r\n\t\t\t\tvalue: undefined,\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tfilter(item, value) {\r\n\t\treturn item.options.indexOf(value) !== -1;\r\n\t}\r\n\r\n\tmatch(item) {\r\n\t\tlet match;\r\n\t\tif (this.mode === FilterMode.OR) {\r\n\t\t\tmatch = this.values.length ? false : true;\r\n\t\t\tthis.values.forEach(value => {\r\n\t\t\t\tmatch = match || this.filter(item, value);\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tmatch = true;\r\n\t\t\tthis.values.forEach(value => {\r\n\t\t\t\tmatch = match && this.filter(item, value);\r\n\t\t\t});\r\n\t\t}\r\n\t\treturn match;\r\n\t}\r\n\r\n\tgetLabel() {\r\n\t\tif (this.mode === FilterMode.SELECT || this.mode === FilterMode.QUERY) {\r\n\t\t\treturn this.placeholder || this.label;\r\n\t\t} else {\r\n\t\t\treturn this.label;\r\n\t\t}\r\n\t}\r\n\r\n\thas(item) {\r\n\t\treturn this.values.indexOf(item.value) !== -1;\r\n\t}\r\n\r\n\tset(item) {\r\n\t\tif (this.mode === FilterMode.QUERY) {\r\n\t\t\tthis.values = item ? [item] : [];\r\n\t\t\tthis.placeholder = item;\r\n\t\t} else {\r\n\t\t\tif (this.mode === FilterMode.SELECT) {\r\n\t\t\t\tthis.values = [];\r\n\t\t\t}\r\n\t\t\tconst index = this.values.indexOf(item.value);\r\n\t\t\tif (index === -1) {\r\n\t\t\t\tif (item.value !== undefined) {\r\n\t\t\t\t\tthis.values.push(item.value);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (this.mode === FilterMode.SELECT) {\r\n\t\t\t\tthis.placeholder = item.label;\r\n\t\t\t}\r\n\t\t}\r\n\t\t// console.log('FilterItem.set', item);\r\n\t\tthis.change$.next();\r\n\t}\r\n\r\n\tremove(item) {\r\n\t\tconst index = this.values.indexOf(item.value);\r\n\t\tif (index !== -1) {\r\n\t\t\tthis.values.splice(index, 1);\r\n\t\t}\r\n\t\tif (this.mode === FilterMode.SELECT) {\r\n\t\t\tconst first = this.options[0];\r\n\t\t\tthis.placeholder = first.label;\r\n\t\t}\r\n\t\t// console.log('FilterItem.remove', item);\r\n\t\tthis.change$.next();\r\n\t}\r\n\r\n\ttoggle(item) {\r\n\t\tif (this.has(item)) {\r\n\t\t\tthis.remove(item);\r\n\t\t} else {\r\n\t\t\tthis.set(item);\r\n\t\t}\r\n\t}\r\n\r\n\tclear() {\r\n\t\tthis.values = [];\r\n\t\tif (this.mode === FilterMode.SELECT) {\r\n\t\t\tconst first = this.options[0];\r\n\t\t\tthis.placeholder = first.label;\r\n\t\t}\r\n\t\tthis.change$.next();\r\n\t}\r\n}\r\n","export class LocationService {\r\n\r\n\tstatic has(key) {\r\n\t\tconst params = new URLSearchParams(window.location.search);\r\n\t\t// console.log('LocationService.has', params);\r\n\t\treturn params.has(key);\r\n\t}\r\n\r\n\tstatic get(key) {\r\n\t\tconst params = new URLSearchParams(window.location.search);\r\n\t\t// console.log('LocationService.get', params);\r\n\t\treturn params.get(key);\r\n\t}\r\n\r\n\tstatic set(keyOrValue, value) {\r\n\t\tconst params = new URLSearchParams(window.location.search);\r\n\t\tif (typeof keyOrValue === 'string') {\r\n\t\t\tparams.set(keyOrValue, value);\r\n\t\t} else {\r\n\t\t\tparams.set(keyOrValue, '');\r\n\t\t}\r\n\t\tthis.pushParams(params);\r\n\t\t// console.log('LocationService.set', params, keyOrValue, value);\r\n\t}\r\n\r\n\tstatic pushParams(params) {\r\n\t\tif (window.history && window.history.pushState) {\r\n\t\t\tconst title = document.title;\r\n\t\t\tconst url = `${window.location.href.split('?')[0]}?${params.toString()}`;\r\n\t\t\twindow.history.pushState(params.toString(), title, url);\r\n\t\t}\r\n\t}\r\n\r\n\tstatic replace(from, to) {\r\n\t\tconst history = window.history;\r\n\t\tif (history && history.replaceState) {\r\n\t\t\tconst location = window.location;\r\n\t\t\tconst title = document.title;\r\n\t\t\tif (location.pathname === '/') {\r\n\t\t\t\tconst url = location.origin + to + location.search;\r\n\t\t\t\thistory.replaceState(history.state, title, url);\r\n\t\t\t} else if (location.href.indexOf(from) !== -1) {\r\n\t\t\t\tconst url = location.href.replace(from, to);\r\n\t\t\t\thistory.replaceState(history.state, title, url);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tstatic deserialize(key) {\r\n\t\tconst encoded = this.get('params');\r\n\t\treturn this.decode(key, encoded);\r\n\t}\r\n\r\n\tstatic serialize(keyOrValue, value) {\r\n\t\tconst params = this.deserialize();\r\n\t\tconst encoded = this.encode(keyOrValue, value, params);\r\n\t\tthis.set('params', encoded);\r\n\t}\r\n\r\n\tstatic decode(key, encoded) {\r\n\t\tlet decoded = null;\r\n\t\tif (encoded) {\r\n\t\t\tconst json = window.atob(encoded);\r\n\t\t\tdecoded = JSON.parse(json);\r\n\t\t}\r\n\t\tif (key && decoded) {\r\n\t\t\tdecoded = decoded[key];\r\n\t\t}\r\n\t\treturn decoded || null;\r\n\t}\r\n\r\n\tstatic encode(keyOrValue, value, params) {\r\n\t\tparams = params || {};\r\n\t\tlet encoded = null;\r\n\t\tif (typeof keyOrValue === 'string') {\r\n\t\t\tparams[keyOrValue] = value;\r\n\t\t} else {\r\n\t\t\tparams = keyOrValue;\r\n\t\t}\r\n\t\tconst json = JSON.stringify(params);\r\n\t\tencoded = window.btoa(json);\r\n\t\treturn encoded;\r\n\t}\r\n\r\n}\r\n","import { merge } from 'rxjs';\r\nimport { map, tap } from 'rxjs/operators';\r\nimport { LocationService } from '../location/location.service';\r\nimport { FilterItem } from './filter-item';\r\n\r\nexport class FilterService {\r\n\r\n\tconstructor(options, initialParams, callback) {\r\n\t\tconst filters = {};\r\n\t\tif (options) {\r\n\t\t\tObject.keys(options).forEach(key => {\r\n\t\t\t\tconst filter = new FilterItem(options[key]);\r\n\t\t\t\tif (typeof callback === 'function') {\r\n\t\t\t\t\tcallback(key, filter);\r\n\t\t\t\t}\r\n\t\t\t\tfilters[key] = filter;\r\n\t\t\t});\r\n\t\t}\r\n\t\tthis.filters = filters;\r\n\t\tthis.deserialize(this.filters, initialParams);\r\n\t}\r\n\r\n\tgetParamsCount(params) {\r\n\t\tif (params) {\r\n\t\t\tconst paramsCount = Object.keys(params).reduce((p, c, i) => {\r\n\t\t\t\tconst values = params[c];\r\n\t\t\t\treturn p + (values ? values.length : 0);\r\n\t\t\t}, 0);\r\n\t\t\treturn paramsCount;\r\n\t\t} else {\r\n\t\t\treturn 0;\r\n\t\t}\r\n\t}\r\n\r\n\tdeserialize(filters, initialParams) {\r\n\t\tlet params;\r\n\t\tif (initialParams && this.getParamsCount(initialParams)) {\r\n\t\t\tparams = initialParams;\r\n\t\t}\r\n\t\tconst locationParams = LocationService.deserialize('filters');\r\n\t\tif (locationParams && this.getParamsCount(locationParams)) {\r\n\t\t\tparams = locationParams;\r\n\t\t}\r\n\t\tif (params) {\r\n\t\t\tObject.keys(filters).forEach(key => {\r\n\t\t\t\tfilters[key].values = params[key] || [];\r\n\t\t\t});\r\n\t\t}\r\n\t\treturn filters;\r\n\t}\r\n\r\n\tserialize(filters) {\r\n\t\tlet params = {};\r\n\t\tlet any = false;\r\n\t\tObject.keys(filters).forEach(x => {\r\n\t\t\tconst filter = filters[x];\r\n\t\t\tif (filter.value !== null) {\r\n\t\t\t\tparams[x] = filter.values;\r\n\t\t\t\tany = true;\r\n\t\t\t}\r\n\t\t});\r\n\t\tif (!any) {\r\n\t\t\tparams = null;\r\n\t\t}\r\n\t\t// console.log('ReferenceCtrl.serialize', params);\r\n\t\tLocationService.serialize('filters', params);\r\n\t\treturn params;\r\n\t}\r\n\r\n\titems$(items) {\r\n\t\tconst filters = this.filters;\r\n\t\tconst changes = Object.keys(filters).map(key => filters[key].change$);\r\n\t\treturn merge(...changes).pipe(\r\n\t\t\t// tap(() => console.log(filters)),\r\n\t\t\ttap(() => this.serialize(filters)),\r\n\t\t\tmap(() => this.filterItems(items)),\r\n\t\t\ttap(() => this.updateFilterStates(filters, items))\r\n\t\t);\r\n\t}\r\n\r\n\tfilterItems(items, skipFilter) {\r\n\t\tconst filters = Object.keys(this.filters).map((x) => this.filters[x]).filter(x => x.value !== null);\r\n\t\titems = items.filter(item => {\r\n\t\t\tlet has = true;\r\n\t\t\tfilters.forEach(filter => {\r\n\t\t\t\tif (filter !== skipFilter) {\r\n\t\t\t\t\thas = has && filter.match(item);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\treturn has;\r\n\t\t});\r\n\t\treturn items;\r\n\t}\r\n\r\n\tupdateFilterStates(filters, items) {\r\n\t\tObject.keys(filters).forEach(x => {\r\n\t\t\tconst filter = filters[x];\r\n\t\t\tconst filteredItems = this.filterItems(items, filter);\r\n\t\t\tfilter.options.forEach(option => {\r\n\t\t\t\tlet count = 0;\r\n\t\t\t\tif (option.value) {\r\n\t\t\t\t\tlet i = 0;\r\n\t\t\t\t\twhile (i < filteredItems.length) {\r\n\t\t\t\t\t\tconst item = filteredItems[i];\r\n\t\t\t\t\t\tif (filter.filter(item, option.value)) {\r\n\t\t\t\t\t\t\tcount++;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\ti++;\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tcount = filteredItems.length;\r\n\t\t\t\t}\r\n\t\t\t\toption.count = count;\r\n\t\t\t\toption.disabled = count === 0;\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\treset() {\r\n\t\tlet filter;\r\n\t\tObject.keys(this.filters).forEach(x => {\r\n\t\t\tfilter = this.filters[x];\r\n\t\t\tfilter.values = [];\r\n\t\t});\r\n\t\tif (filter) {\r\n\t\t\tfilter.change$.next();\r\n\t\t}\r\n\t}\r\n\r\n}\r\n","import { from, throwError } from 'rxjs';\r\nimport { catchError } from 'rxjs/operators';\r\n\r\nexport class HttpResponse {\r\n\r\n\tget static() {\r\n\t\treturn this.url.indexOf('.json') === this.url.length - 5;\r\n\t}\r\n\r\n\tconstructor(response) {\r\n\t\tthis.data = null;\r\n\t\tif (response) {\r\n\t\t\tthis.url = response.url;\r\n\t\t\tthis.status = response.status;\r\n\t\t\tthis.statusText = response.statusText;\r\n\t\t\tthis.ok = response.ok;\r\n\t\t\tthis.redirected = response.redirected;\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport class HttpService {\r\n\r\n\tstatic http$(method, url, data, format = 'json', userPass = null) {\r\n\t\tconst methods = ['POST', 'PUT', 'PATCH'];\r\n\t\tlet response_ = null;\r\n\t\t// url = this.getUrl(url, format);\r\n\t\tconst options = {\r\n\t\t\tmethod: method,\r\n\t\t\theaders: {\r\n\t\t\t\t'Accept': 'application/json',\r\n\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t},\r\n\t\t\tbody: methods.indexOf(method) !== -1 ? JSON.stringify(data) : undefined\r\n\t\t}\r\n\t\tif (userPass) {\r\n\t\t\t// options.mode = 'no-cors';\r\n\t\t\toptions.credentials = 'include';\r\n\t\t\tuserPass = window.btoa(userPass);\r\n\t\t\toptions.headers['Authorization'] = `Basic ${userPass}`;\r\n\t\t}\r\n\t\toptions.headers = new Headers(options.headers);\r\n\t\treturn from(fetch(url, options).then((response) => {\r\n\t\t\tresponse_ = response;\r\n\t\t\t// console.log(response);\r\n\t\t\ttry {\r\n\t\t\t\tconst contentType = response.headers.get('content-type');\r\n\t\t\t\tlet typedResponse;\r\n\t\t\t\tif (contentType && contentType.indexOf('application/json') !== -1) {\r\n\t\t\t\t\ttypedResponse = response.json();\r\n\t\t\t\t} else {\r\n\t\t\t\t\ttypedResponse = response.text();\r\n\t\t\t\t}\r\n\t\t\t\tif (response.ok) {\r\n\t\t\t\t\treturn typedResponse;\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn typedResponse.then(data => {\r\n\t\t\t\t\t\treturn Promise.reject(data);\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t} catch (error) {\r\n\t\t\t\tif (response.ok) {\r\n\t\t\t\t\tconsole.warn('HttpService.http$', 'Cannot parse response');\r\n\t\t\t\t\treturn Promise.resolve();\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn Promise.reject(error);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t})).pipe(\r\n\t\t\tcatchError(error => {\r\n\t\t\t\treturn throwError(this.getError(error, response_));\r\n\t\t\t})\r\n\t\t);\r\n\t}\r\n\r\n\t/*\r\n\t// !!! todo mapping response.data\r\n\tstatic http$(method, url, data, format = 'json') {\r\n\t\tconst methods = ['POST', 'PUT', 'PATCH'];\r\n\t\tconst body = (data && methods.indexOf(method) !== -1) ? JSON.stringify(data) : undefined;\r\n\t\tconst queryString = (data && methods.indexOf(method) !== -1) ? Object.keys(data).map(function(key) {\r\n\t\t\treturn key + '=' + encodeURI(data[key]);\r\n\t\t}).join('&') : undefined;\r\n\t\tif (queryString) {\r\n\t\t\turl = `${url}?${queryString}`;\r\n\t\t}\r\n\t\tlet response_ = null;\r\n\t\treturn from(fetch(url, {\r\n\t\t\tmethod: method,\r\n\t\t\theaders: {\r\n\t\t\t\t'Accept': 'application/json',\r\n\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t},\r\n\t\t\tbody: body,\r\n\t\t}).then((response) => {\r\n\t\t\tresponse_ = new HttpResponse(response);\r\n\t\t\ttry {\r\n\t\t\t\tconst contentType = response.headers.get('content-type');\r\n\t\t\t\tlet typedResponse;\r\n\t\t\t\tif (contentType && format === 'json' && contentType.indexOf('application/json') !== -1) {\r\n\t\t\t\t\ttypedResponse = response.json();\r\n\t\t\t\t} else if (format === 'blob') {\r\n\t\t\t\t\ttypedResponse = response.blob();\r\n\t\t\t\t} else {\r\n\t\t\t\t\ttypedResponse = response.text();\r\n\t\t\t\t}\r\n\t\t\t\treturn typedResponse.then(data => {\r\n\t\t\t\t\tresponse_.data = data;\r\n\t\t\t\t\tif (response.ok) {\r\n\t\t\t\t\t\treturn Promise.resolve(response_);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treturn Promise.reject(response_);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t} catch(error) {\r\n\t\t\t\tif (response.ok) {\r\n\t\t\t\t\tconsole.warn('HttpService.http$', 'Cannot parse response');\r\n\t\t\t\t\treturn Promise.resolve(response_);\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn Promise.reject(this.getError(error, response_));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t})).pipe(\r\n\t\t\tcatchError(error => {\r\n\t\t\t\treturn throwError(this.getError(error, response_));\r\n\t\t\t}),\r\n\t\t);\r\n\t}\r\n\t*/\r\n\r\n\tstatic get$(url, data, format) {\r\n\t\tconst query = this.query(data);\r\n\t\treturn this.http$('GET', `${url}${query}`, undefined, format);\r\n\t}\r\n\r\n\tstatic delete$(url) {\r\n\t\treturn this.http$('DELETE', url);\r\n\t}\r\n\r\n\tstatic post$(url, data) {\r\n\t\treturn this.http$('POST', url, data);\r\n\t}\r\n\r\n\tstatic put$(url, data) {\r\n\t\treturn this.http$('PUT', url, data);\r\n\t}\r\n\r\n\tstatic patch$(url, data) {\r\n\t\treturn this.http$('PATCH', url, data);\r\n\t}\r\n\r\n\tstatic query(data) {\r\n\t\treturn ''; // todo\r\n\t}\r\n\r\n\tstatic getError(object, response) {\r\n\t\tlet error = typeof object === 'object' ? object : {};\r\n\t\tif (!error.status) {\r\n\t\t\terror.status = response ? response.status : 0;\r\n\t\t}\r\n\t\tif (!error.statusCode) {\r\n\t\t\terror.statusCode = response ? response.status : 0;\r\n\t\t}\r\n\t\tif (!error.statusMessage) {\r\n\t\t\terror.statusMessage = response ? response.statusText : object;\r\n\t\t}\r\n\t\t// console.log('HttpService.getError', error, object);\r\n\t\treturn error;\r\n\t}\r\n\r\n}\r\n","import { from } from 'rxjs';\r\nimport { tap } from 'rxjs/operators';\r\nimport { environment } from '../../environment';\r\nimport { LabelPipe } from '../label/label.pipe';\r\nimport { LocationService } from '../location/location.service';\r\nimport { Utils } from '../utils/utils';\r\n\r\nexport class LanguageService {\r\n\r\n\tstatic languages = this.getDefaultLanguages();\r\n\tstatic defaultLanguage = this.getDefaultLanguage();\r\n\tstatic selectedLanguage = this.defaultLanguage;\r\n\r\n\tstatic get hasLanguages() {\r\n\t\treturn this.languages.length > 1;\r\n\t}\r\n\r\n\tstatic get activeLanguage() {\r\n\t\treturn this.languages.find(language => language.lang === this.selectedLanguage);\r\n\t}\r\n\r\n\tstatic getDefaultLanguages() {\r\n\t\treturn environment.alternates || [];\r\n\t}\r\n\r\n\tstatic getDefaultLanguage() {\r\n\t\treturn environment.defaultLanguage || (this.languages ? this.languages[0].lang : null);\r\n\t}\r\n\r\n\tstatic setLanguage(language) {\r\n\t\tthis.selectedLanguage = language.lang;\r\n\t}\r\n\r\n\tstatic setLanguage$(language) {\r\n\t\treturn from(fetch(language.href).then(response => {\r\n\t\t\treturn response.text();\r\n\t\t})).pipe(\r\n\t\t\ttap(html => {\r\n\t\t\t\t// console.log('html', html);\r\n\t\t\t\tconst labelsMatch = /(window\\.labels\\s*=\\s*\\n*\\s*\\{((\\{.+?\\})|.)+?\\})/gms.exec(html);\r\n\t\t\t\tif (labelsMatch) {\r\n\t\t\t\t\t// console.log('labels', labelsMatch[0]);\r\n\t\t\t\t\tnew Function(labelsMatch[0]).call(window);\r\n\t\t\t\t\tLabelPipe.setLabels();\r\n\t\t\t\t}\r\n\t\t\t\tconst bhereMatch = /(window\\.bhere\\s*=\\s*\\n*\\s*\\{((\\{.+?\\})|.)+?\\})/gms.exec(html);\r\n\t\t\t\tif (bhereMatch) {\r\n\t\t\t\t\t// console.log('bhere', bhereMatch[0]);\r\n\t\t\t\t\tconst data = {};\r\n\t\t\t\t\tnew Function(bhereMatch[0].replace('window', 'this')).call(data);\r\n\t\t\t\t\tif (data.bhere) {\r\n\t\t\t\t\t\tUtils.merge(environment, data.bhere);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tLocationService.replace(this.activeLanguage.href, language.href);\r\n\t\t\t\t// console.log(window.labels);\r\n\t\t\t\tthis.selectedLanguage = language.lang;\r\n\t\t\t}),\r\n\t\t);\r\n\t}\r\n\r\n\tstatic toggleLanguages() {\r\n\t\tthis.showLanguages = !this.showLanguages;\r\n\t\tthis.pushChanges();\r\n\t}\r\n\r\n}\r\n","import { environment } from '../../environment';\r\nimport { HttpService } from '../http/http.service';\r\nimport { LanguageService } from '../language/language.service';\r\n\r\nexport class ApiService extends HttpService {\r\n\r\n\tstatic currentLanguage = LanguageService.activeLanguage;\r\n\r\n\tstatic get$(url, data, format) {\r\n\t\treturn super.get$(`${environment.api}${url}`, data, format);\r\n\t}\r\n\r\n\tstatic delete$(url) {\r\n\t\treturn super.delete$(`${environment.api}${url}`);\r\n\t}\r\n\r\n\tstatic post$(url, data) {\r\n\t\treturn super.post$(`${environment.api}${url}`, data);\r\n\t}\r\n\r\n\tstatic put$(url, data) {\r\n\t\treturn super.put$(`${environment.api}${url}`, data);\r\n\t}\r\n\r\n\tstatic patch$(url, data) {\r\n\t\treturn super.patch$(`${environment.api}${url}`, data);\r\n\t}\r\n}\r\n","import { ApiService } from '../../core/api/api.service';\r\n\r\nexport class AteliersAndStoresService {\r\n\r\n\tstatic all$() {\r\n\t\treturn ApiService.get$('/ateliers-and-stores/all.json');\r\n\t}\r\n\r\n\tstatic ateliers$() {\r\n\t\treturn ApiService.get$('/ateliers-and-stores/ateliers.json');\r\n\t}\r\n\r\n\tstatic stores$() {\r\n\t\treturn ApiService.get$('/ateliers-and-stores/stores.json');\r\n\t}\r\n\r\n\tstatic filters$() {\r\n\t\treturn ApiService.get$('/ateliers-and-stores/filters.json');\r\n\t}\r\n\r\n}\r\n","import { Component } from 'rxcomp';\nimport { FormControl, FormGroup, Validators } from 'rxcomp-form';\nimport { combineLatest } from 'rxjs';\nimport { first, takeUntil } from 'rxjs/operators';\nimport { FilterMode } from '../../core/filter/filter-item';\nimport { FilterService } from '../../core/filter/filter.service';\nimport { LocomotiveScrollService } from '../../core/locomotive-scroll/locomotive-scroll.service';\nimport { AteliersAndStoresService } from './ateliers-and-stores.service';\n\nexport class AteliersAndStoresComponent extends Component {\n\n\tonInit() {\n\t\tthis.types = {\n\t\t\tAtelier: 1,\n\t\t\tStore: 2,\n\t\t};\n\t\tthis.items = [];\n\t\tthis.filteredItems = [];\n\t\tthis.filteredAteliers = [];\n\t\tthis.filteredStores = [];\n\t\tthis.filters = {};\n\t\tconst form = this.form = new FormGroup({\n\t\t\tcountry: new FormControl(null, [Validators.RequiredValidator()]),\n\t\t\tsearch: new FormControl(null, [Validators.RequiredValidator()]),\n\t\t});\n\t\tconst controls = this.controls = form.controls;\n\t\tform.changes$.pipe(\n\t\t\ttakeUntil(this.unsubscribe$)\n\t\t).subscribe((_) => {\n\t\t\t// console.log('AteliersAndStoresComponent.changes$', form.value);\n\t\t\tthis.setFilterByKeyAndValue('country', form.value.country);\n\t\t\tthis.setFilterByKeyAndValue('search', form.value.search);\n\t\t\tthis.pushChanges();\n\t\t});\n\t\tthis.load$().pipe(\n\t\t\tfirst(),\n\t\t).subscribe(data => {\n\t\t\tthis.items = data[0];\n\t\t\tthis.filters = data[1];\n\t\t\tconst options = this.filters.country.options.slice().map(x => ({ id: x.value, name: x.label }));\n\t\t\toptions.unshift({ id: null, name: 'select' }); // , // LabelPipe.transform('select')\n\t\t\tcontrols.country.options = options;\n\t\t\tthis.onLoad();\n\t\t\tthis.pushChanges();\n\t\t});\n\t}\n\n\tload$() {\n\t\treturn combineLatest([\n\t\t\tAteliersAndStoresService.all$(),\n\t\t\tAteliersAndStoresService.filters$(),\n\t\t]);\n\t}\n\n\tonLoad() {\n\t\tconst items = this.items;\n\t\tconst filters = this.filters;\n\t\tObject.keys(filters).forEach(key => {\n\t\t\tfilters[key].mode = filters[key].mode || FilterMode.OR;\n\t\t});\n\t\tconst initialParams = {};\n\t\tconst filterService = new FilterService(filters, initialParams, (key, filter) => {\n\t\t\tswitch (key) {\n\t\t\t\tdefault:\n\t\t\t\t\tfilter.filter = (item, value) => {\n\t\t\t\t\t\tswitch (key) {\n\t\t\t\t\t\t\tcase 'country':\n\t\t\t\t\t\t\t\treturn item.country.id === value;\n\t\t\t\t\t\t\tcase 'search':\n\t\t\t\t\t\t\t\treturn item.title.toLowerCase().indexOf(value.toLowerCase()) !== -1 || item.country.name.toLowerCase().indexOf(value.toLowerCase()) !== -1\n\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t}\n\t\t});\n\t\tthis.filterService = filterService;\n\t\tthis.filters = filterService.filters;\n\t\tconst country = this.filters.country.values.length ? this.filters.country.values[0] : null;\n\t\tconst search = this.filters.search.values.length ? this.filters.search.values[0] : null;\n\t\tthis.form.patch({ country, search });\n\t\tfilterService.items$(items).pipe(\n\t\t\ttakeUntil(this.unsubscribe$),\n\t\t).subscribe(filteredItems => {\n\t\t\tthis.filteredItems = filteredItems;\n\t\t\tthis.filteredAteliers = filteredItems.filter(x => x.type === this.types.Atelier);\n\t\t\tthis.filteredStores = filteredItems.filter(x => x.type === this.types.Store);\n\t\t\tthis.pushChanges();\n\t\t\tLocomotiveScrollService.update();\n\t\t\t// console.log('AteliersAndStoresComponent.filteredItems', filteredItems.length);\n\t\t});\n\t}\n\n\tsetFilterByKeyAndValue(key, value) {\n\t\tconst filter = this.filters[key];\n\t\tif (filter) {\n\t\t\tif (filter.mode === FilterMode.QUERY) {\n\t\t\t\tfilter.set(value);\n\t\t\t} else {\n\t\t\t\tconst option = filter.options.find(x => x.value === value);\n\t\t\t\t// console.log(filter.options, option);\n\t\t\t\tif (option) {\n\t\t\t\t\tfilter.set(option);\n\t\t\t\t} else {\n\t\t\t\t\tfilter.clear();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tonSearch(model) {\n\t\t// console.log('AteliersAndStoresComponent.onSearch', this.form.value);\n\t\tthis.setFilterByKeyAndValue('country', this.form.value.country);\n\t\tthis.setFilterByKeyAndValue('search', this.form.value.search);\n\t\tthis.pushChanges();\n\t}\n\n\tclearFilter(event, filter) {\n\t\tevent.preventDefault();\n\t\tevent.stopImmediatePropagation();\n\t\tfilter.clear();\n\t\tthis.pushChanges();\n\t}\n}\n\nAteliersAndStoresComponent.meta = {\n\tselector: '[ateliers-and-stores]',\n};\n","import { ApiService } from '../../core/api/api.service';\r\n\r\nexport class DesignersService {\r\n\r\n\tstatic all$() {\r\n\t\treturn ApiService.get$('/designers/all.json');\r\n\t}\r\n\r\n\tstatic filters$() {\r\n\t\treturn ApiService.get$('/designers/filters.json');\r\n\t}\r\n\r\n}\r\n","import { Component } from 'rxcomp';\nimport { FormControl, FormGroup, Validators } from 'rxcomp-form';\nimport { combineLatest } from 'rxjs';\nimport { first, takeUntil } from 'rxjs/operators';\nimport { FilterMode } from '../../core/filter/filter-item';\nimport { FilterService } from '../../core/filter/filter.service';\nimport { LocomotiveScrollService } from '../../core/locomotive-scroll/locomotive-scroll.service';\nimport { DesignersService } from './designers.service';\n\nexport class DesignersComponent extends Component {\n\n\tonInit() {\n\t\tthis.items = [];\n\t\tthis.filteredItems = [];\n\t\tthis.filters = {};\n\t\tconst form = this.form = new FormGroup({\n\t\t\tcategory: new FormControl(null, [Validators.RequiredValidator()]),\n\t\t\tsearch: new FormControl(null, [Validators.RequiredValidator()]),\n\t\t});\n\t\tconst controls = this.controls = form.controls;\n\t\tform.changes$.pipe(\n\t\t\ttakeUntil(this.unsubscribe$)\n\t\t).subscribe((_) => {\n\t\t\t// console.log('DesignersComponent.changes$', form.value);\n\t\t\tthis.setFilterByKeyAndValue('category', form.value.category);\n\t\t\tthis.setFilterByKeyAndValue('search', form.value.search);\n\t\t\tthis.pushChanges();\n\t\t});\n\t\tthis.load$().pipe(\n\t\t\tfirst(),\n\t\t).subscribe(data => {\n\t\t\tthis.items = data[0];\n\t\t\tthis.filters = data[1];\n\t\t\tconst options = this.filters.category.options.slice().map(x => ({ id: x.value, name: x.label }));\n\t\t\toptions.unshift({ id: null, name: 'select' }); // , // LabelPipe.transform('select')\n\t\t\tcontrols.category.options = options;\n\t\t\tthis.onLoad();\n\t\t\tthis.pushChanges();\n\t\t});\n\t}\n\n\tload$() {\n\t\treturn combineLatest([\n\t\t\tDesignersService.all$(),\n\t\t\tDesignersService.filters$(),\n\t\t]);\n\t}\n\n\tonLoad() {\n\t\tconst items = this.items;\n\t\tconst filters = this.filters;\n\t\tObject.keys(filters).forEach(key => {\n\t\t\tfilters[key].mode = filters[key].mode || FilterMode.OR;\n\t\t});\n\t\tconst initialParams = {};\n\t\tconst filterService = new FilterService(filters, initialParams, (key, filter) => {\n\t\t\tswitch (key) {\n\t\t\t\tdefault:\n\t\t\t\t\tfilter.filter = (item, value) => {\n\t\t\t\t\t\tswitch (key) {\n\t\t\t\t\t\t\tcase 'category':\n\t\t\t\t\t\t\t\treturn item.category.id === value;\n\t\t\t\t\t\t\tcase 'search':\n\t\t\t\t\t\t\t\treturn item.name.toLowerCase().indexOf(value.toLowerCase()) !== -1\n\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t}\n\t\t});\n\t\tthis.filterService = filterService;\n\t\tthis.filters = filterService.filters;\n\t\tconst category = this.filters.category.values.length ? this.filters.category.values[0] : null;\n\t\tconst search = this.filters.search.values.length ? this.filters.search.values[0] : null;\n\t\tthis.form.patch({ category, search });\n\t\tfilterService.items$(items).pipe(\n\t\t\ttakeUntil(this.unsubscribe$),\n\t\t).subscribe(filteredItems => {\n\t\t\tthis.filteredItems = filteredItems;\n\t\t\tthis.pushChanges();\n\t\t\tLocomotiveScrollService.update();\n\t\t\t// console.log('DesignersComponent.filteredItems', filteredItems.length);\n\t\t});\n\t}\n\n\tsetFilterByKeyAndValue(key, value) {\n\t\tconst filter = this.filters[key];\n\t\tif (filter) {\n\t\t\tif (filter.mode === FilterMode.QUERY) {\n\t\t\t\tfilter.set(value);\n\t\t\t} else {\n\t\t\t\tconst option = filter.options.find(x => x.value === value);\n\t\t\t\t// console.log(filter.options, option);\n\t\t\t\tif (option) {\n\t\t\t\t\tfilter.set(option);\n\t\t\t\t} else {\n\t\t\t\t\tfilter.clear();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tonSearch(model) {\n\t\t// console.log('DesignersComponent.onSearch', this.form.value);\n\t\tthis.setFilterByKeyAndValue('category', this.form.value.category);\n\t\tthis.setFilterByKeyAndValue('search', this.form.value.search);\n\t\tthis.pushChanges();\n\t}\n\n\tclearFilter(event, filter) {\n\t\tevent.preventDefault();\n\t\tevent.stopImmediatePropagation();\n\t\tfilter.clear();\n\t\tthis.pushChanges();\n\t}\n}\n\nDesignersComponent.meta = {\n\tselector: '[designers]',\n};\n","import { Component, getContext } from 'rxcomp';\nimport { takeUntil } from 'rxjs/operators';\nimport { LocomotiveScrollService } from '../../core/locomotive-scroll/locomotive-scroll.service';\n\nexport class HeaderComponent extends Component {\n\n\tdirection_ = null;\n\tget direction() {\n\t\treturn this.direction_;\n\t}\n\tset direction(direction) {\n\t\tif (this.direction_ !== direction) {\n\t\t\tconst { node } = getContext(this);\n\t\t\tnode.classList.remove(`scrolling-${this.direction_}`);\n\t\t\tnode.classList.add(`scrolling-${direction}`);\n\t\t\tthis.direction_ = direction;\n\t\t}\n\t}\n\n\tscrolled_ = null;\n\tget scrolled() {\n\t\treturn this.scrolled_;\n\t}\n\tset scrolled(scrolled) {\n\t\tif (this.scrolled_ !== scrolled) {\n\t\t\tthis.scrolled_ = scrolled;\n\t\t\tconst { node } = getContext(this);\n\t\t\tscrolled ? node.classList.add(`scrolled`) : node.classList.remove(`scrolled`);\n\t\t}\n\t}\n\n\tonInit() {\n\t\tconst pictogram = document.querySelector('.page > .pictogram');\n\t\tLocomotiveScrollService.scroll$.pipe(\n\t\t\ttakeUntil(this.unsubscribe$),\n\t\t).subscribe((event) => {\n\t\t\tthis.direction = event.direction;\n\t\t\tthis.scrolled = event.scroll.y > 100;\n\t\t\tconst opacity = 0.1 - 0.1 * Math.min(1, event.scroll.y / window.innerHeight / 4);\n\t\t\tgsap.set(pictogram, { opacity });\n\t\t\t// console.log('HeaderComponent', event.scroll.y, event.direction, event.speed);\n\t\t});\n\t}\n}\n\nHeaderComponent.meta = {\n\tselector: '[header]',\n};\n","/**\n * Copyright 2019 Google LLC. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n// eslint-disable-next-line @typescript-eslint/no-empty-interface\nexport interface OverlayViewSafe extends google.maps.OverlayView {}\n\n/**\n * Extends an object's prototype by another's.\n *\n * @param type1 The Type to be extended.\n * @param type2 The Type to extend with.\n * @ignore\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction extend(type1: any, type2: any): void {\n  // eslint-disable-next-line prefer-const\n  for (let property in type2.prototype) {\n    type1.prototype[property] = type2.prototype[property];\n  }\n}\n\n/**\n * @ignore\n */\nexport class OverlayViewSafe {\n  constructor() {\n    // MarkerClusterer implements google.maps.OverlayView interface. We use the\n    // extend function to extend MarkerClusterer with google.maps.OverlayView\n    // because it might not always be available when the code is defined so we\n    // look for it at the last possible moment. If it doesn't exist now then\n    // there is no point going ahead :)\n    extend(OverlayViewSafe, google.maps.OverlayView);\n  }\n}\n","/**\n * Copyright 2019 Google LLC. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * This class represents the object for values in the `styles` array passed\n * to the {@link MarkerClusterer} constructor. The element in this array that is used to\n * style the cluster icon is determined by calling the `calculator` function.\n */\nimport { Cluster } from \"./cluster\";\nimport { OverlayViewSafe } from \"./overlay-view-safe\";\n\n/**\n *\n * @hidden\n */\nfunction toCssText(styles: { [key: string]: string }): string {\n  return Object.keys(styles)\n    .reduce((acc, key) => {\n      if (styles[key]) {\n        acc.push(key + \":\" + styles[key]);\n      }\n      return acc;\n    }, [])\n    .join(\";\");\n}\n\n/**\n *\n * @hidden\n */\nfunction coercePixels(pixels: number): string {\n  return pixels ? pixels + \"px\" : undefined;\n}\n\nexport interface ClusterIconStyle {\n  /** The URL of the cluster icon image file. If not set, img element will not be created */\n  url?: string;\n  /** The name of the CSS class defining styles for the cluster markers. */\n  className?: string;\n  /** Height The display height (in pixels) of the cluster icon. Required. */\n  height: number;\n  /** Width The display width (in pixels) of the cluster icon. Required. */\n  width: number;\n  /**\n   * The position (in pixels) from the center of the cluster icon to\n   * where the text label is to be centered and drawn. The format is `[yoffset, xoffset]`\n   * where `yoffset` increases as you go down from center and `xoffset`\n   * increases to the right of center. The default is `[0, 0]`.\n   */\n  anchorText?: [number, number];\n  /**\n   * The anchor position (in pixels) of the cluster icon. This is the\n   * spot on the cluster icon that is to be aligned with the cluster position. The format is\n   * `[yoffset, xoffset]` where `yoffset` increases as you go down and\n   * `xoffset` increases to the right of the top-left corner of the icon. The default\n   * anchor position is the center of the cluster icon.\n   */\n  anchorIcon?: [number, number];\n  /**\n   * The color of the label text shown on the cluster icon.\n   * @default `\"black\"`\n   */\n  textColor?: string;\n  /** The size (in pixels) of the label text shown on the cluster icon.\n   * @default `11`\n   */\n  textSize?: number;\n\n  /** The line height (in pixels) of the label text shown on the cluster icon.\n   * @default the same as cluster icon height\n   */\n  textLineHeight?: number;\n  /**\n   * The value of the CSS `text-decoration`\n   * property for the label text shown on the cluster icon.\n   *\n   * @default `\"none\"`\n   */\n  textDecoration?: string;\n  /**\n   * The value of the CSS `font-weight`\n   * property for the label text shown on the cluster icon.\n   *\n   *  @default `\"bold\"`\n   */\n  fontWeight?: string;\n  /**\n   *  The value of the CSS `font-style`\n   *  property for the label text shown on the cluster icon.\n   *\n   *  @default `\"normal\"`\n   */\n  fontStyle?: string;\n  /**\n   *  The value of the CSS `font-family`\n   *  property for the label text shown on the cluster icon.\n   *  @default `\"Arial,sans-serif\"`\n   */\n  fontFamily?: string;\n  /**\n   * The position of the cluster icon image\n   * within the image defined by `url`. The format is `\"xpos ypos\"`\n   * (the same format as for the CSS `background-position` property). You must set\n   * this property appropriately when the image defined by `url` represents a sprite\n   * containing multiple images. Note that the position <i>must</i> be specified in px units.\n   *\n   * @default `\"0 0\"`\n   */\n  backgroundPosition?: string;\n}\n\n/**\n * @description This is an object containing general information about a cluster icon. This is\n *  the object that a `calculator` function returns.\n */\nexport interface ClusterIconInfo {\n  /**\n   * The text of the label to be shown on the cluster icon.\n   */\n  text: string;\n  /**\n   * The index plus 1 of the element in the `styles`\n   */\n  index: number;\n  /**\n   * The tooltip to display when the mouse moves over the cluster icon.\n   * If this value is `undefined` or `\"\"`, `title` is set to the\n   * value of the `title` property passed to the MarkerClusterer.\n   */\n  title: string;\n  /**\n   * An override for dynamic cluster icon url (if not provided, the component will use the default style icon)\n   */\n  url?: string;\n}\n\n/**\n * A cluster icon.\n */\nexport class ClusterIcon extends OverlayViewSafe {\n  private className_: string;\n  private center_: google.maps.LatLng = null;\n  private div_: HTMLDivElement = null;\n  private sums_: ClusterIconInfo = null;\n  private visible_ = false;\n\n  private style: ClusterIconStyle = null;\n\n  private anchorText_: [number, number];\n  private anchorIcon_: [number, number];\n\n  private boundsChangedListener_: google.maps.MapsEventListener;\n\n  /**\n   * @param cluster_ The cluster with which the icon is to be associated.\n   * @param styles_ An array of {@link ClusterIconStyle} defining the cluster icons\n   *  to use for various cluster sizes.\n   */\n  constructor(private cluster_: Cluster, private styles_: ClusterIconStyle[]) {\n    super();\n\n    this.setMap(cluster_.getMap()); // Note: this causes onAdd to be called\n  }\n\n  /**\n   * Adds the icon to the DOM.\n   */\n  onAdd(): void {\n    let cMouseDownInCluster: boolean;\n    let cDraggingMapByCluster: boolean;\n\n    const mc = this.cluster_.getMarkerClusterer();\n\n    const [major, minor] = google.maps.version.split(\".\");\n\n    const gmVersion = parseInt(major, 10) * 100 + parseInt(minor, 10);\n\n    this.div_ = document.createElement(\"div\");\n    if (this.visible_) {\n      this.show();\n    }\n\n    this.getPanes().overlayMouseTarget.appendChild(this.div_);\n\n    // Fix for Issue 157\n    this.boundsChangedListener_ = google.maps.event.addListener(\n      this.getMap(),\n      \"bounds_changed\",\n      () => {\n        cDraggingMapByCluster = cMouseDownInCluster;\n      }\n    );\n\n    google.maps.event.addDomListener(this.div_, \"mousedown\", () => {\n      cMouseDownInCluster = true;\n      cDraggingMapByCluster = false;\n    });\n\n    // March 1, 2018: Fix for this 3.32 exp bug, https://issuetracker.google.com/issues/73571522\n    // But it doesn't work with earlier releases so do a version check.\n    if (gmVersion >= 332) {\n      // Ugly version-dependent code\n      google.maps.event.addDomListener(this.div_, \"touchstart\", (e: Event) => {\n        e.stopPropagation();\n      });\n    }\n\n    google.maps.event.addDomListener(this.div_, \"click\", (e: Event) => {\n      cMouseDownInCluster = false;\n      if (!cDraggingMapByCluster) {\n        /**\n         * This event is fired when a cluster marker is clicked.\n         * @name MarkerClusterer#click\n         * @param {Cluster} c The cluster that was clicked.\n         * @event\n         */\n        google.maps.event.trigger(mc, \"click\", this.cluster_);\n        google.maps.event.trigger(mc, \"clusterclick\", this.cluster_); // deprecated name\n\n        // The default click handler follows. Disable it by setting\n        // the zoomOnClick property to false.\n        if (mc.getZoomOnClick()) {\n          // Zoom into the cluster.\n          const mz = mc.getMaxZoom();\n          const theBounds = this.cluster_.getBounds();\n          (mc.getMap() as google.maps.Map).fitBounds(theBounds);\n          // There is a fix for Issue 170 here:\n          setTimeout(() => {\n            (mc.getMap() as google.maps.Map).fitBounds(theBounds);\n            // Don't zoom beyond the max zoom level\n            if (mz !== null && mc.getMap().getZoom() > mz) {\n              mc.getMap().setZoom(mz + 1);\n            }\n          }, 100);\n        }\n\n        // Prevent event propagation to the map:\n        e.cancelBubble = true;\n        if (e.stopPropagation) {\n          e.stopPropagation();\n        }\n      }\n    });\n\n    google.maps.event.addDomListener(this.div_, \"mouseover\", () => {\n      /**\n       * This event is fired when the mouse moves over a cluster marker.\n       * @name MarkerClusterer#mouseover\n       * @param {Cluster} c The cluster that the mouse moved over.\n       * @event\n       */\n      google.maps.event.trigger(mc, \"mouseover\", this.cluster_);\n    });\n\n    google.maps.event.addDomListener(this.div_, \"mouseout\", () => {\n      /**\n       * This event is fired when the mouse moves out of a cluster marker.\n       * @name MarkerClusterer#mouseout\n       * @param {Cluster} c The cluster that the mouse moved out of.\n       * @event\n       */\n      google.maps.event.trigger(mc, \"mouseout\", this.cluster_);\n    });\n  }\n\n  /**\n   * Removes the icon from the DOM.\n   */\n  onRemove(): void {\n    if (this.div_ && this.div_.parentNode) {\n      this.hide();\n      google.maps.event.removeListener(this.boundsChangedListener_);\n      google.maps.event.clearInstanceListeners(this.div_);\n      this.div_.parentNode.removeChild(this.div_);\n      this.div_ = null;\n    }\n  }\n\n  /**\n   * Draws the icon.\n   */\n  draw(): void {\n    if (this.visible_) {\n      const pos = this.getPosFromLatLng_(this.center_);\n      this.div_.style.top = pos.y + \"px\";\n      this.div_.style.left = pos.x + \"px\";\n    }\n  }\n\n  /**\n   * Hides the icon.\n   */\n  hide(): void {\n    if (this.div_) {\n      this.div_.style.display = \"none\";\n    }\n    this.visible_ = false;\n  }\n\n  /**\n   * Positions and shows the icon.\n   */\n  show(): void {\n    if (this.div_) {\n      this.div_.className = this.className_;\n      this.div_.style.cssText = this.createCss_(\n        this.getPosFromLatLng_(this.center_)\n      );\n\n      this.div_.innerHTML =\n        (this.style.url ? this.getImageElementHtml() : \"\") +\n        this.getLabelDivHtml();\n\n      if (typeof this.sums_.title === \"undefined\" || this.sums_.title === \"\") {\n        this.div_.title = this.cluster_.getMarkerClusterer().getTitle();\n      } else {\n        this.div_.title = this.sums_.title;\n      }\n      this.div_.style.display = \"\";\n    }\n    this.visible_ = true;\n  }\n\n  private getLabelDivHtml(): string {\n    const mc = this.cluster_.getMarkerClusterer();\n    const ariaLabel = mc.ariaLabelFn(this.sums_.text);\n\n    const divStyle: { [key: string]: string } = {\n      position: \"absolute\",\n      top: coercePixels(this.anchorText_[0]),\n      left: coercePixels(this.anchorText_[1]),\n      color: this.style.textColor,\n      \"font-size\": coercePixels(this.style.textSize),\n      \"font-family\": this.style.fontFamily,\n      \"font-weight\": this.style.fontWeight,\n      \"font-style\": this.style.fontStyle,\n      \"text-decoration\": this.style.textDecoration,\n      \"text-align\": \"center\",\n      width: coercePixels(this.style.width),\n      \"line-height\": coercePixels(this.style.textLineHeight),\n    };\n\n    return `\n<div aria-label=\"${ariaLabel}\" style=\"${toCssText(divStyle)}\" tabindex=\"0\">\n  <span aria-hidden=\"true\">${this.sums_.text}</span>\n</div>\n`;\n  }\n\n  private getImageElementHtml(): string {\n    // NOTE: values must be specified in px units\n    const bp = (this.style.backgroundPosition || \"0 0\").split(\" \");\n    const spriteH = parseInt(bp[0].replace(/^\\s+|\\s+$/g, \"\"), 10);\n    const spriteV = parseInt(bp[1].replace(/^\\s+|\\s+$/g, \"\"), 10);\n\n    let dimensions: { [key: string]: string } = {};\n\n    if (this.cluster_.getMarkerClusterer().getEnableRetinaIcons()) {\n      dimensions = {\n        width: coercePixels(this.style.width),\n        height: coercePixels(this.style.height),\n      };\n    } else {\n      const [Y1, X1, Y2, X2] = [\n        -1 * spriteV,\n        -1 * spriteH + this.style.width,\n        -1 * spriteV + this.style.height,\n        -1 * spriteH,\n      ];\n      dimensions = {\n        clip: `rect(${Y1}px, ${X1}px, ${Y2}px, ${X2}px)`,\n      };\n    }\n\n    const overrideDimensionsDynamicIcon = this.sums_.url\n      ? { width: \"100%\", height: \"100%\" }\n      : {};\n\n    const cssText = toCssText({\n      position: \"absolute\",\n      top: coercePixels(spriteV),\n      left: coercePixels(spriteH),\n      ...dimensions,\n      ...overrideDimensionsDynamicIcon,\n    });\n\n    return `<img alt=\"${this.sums_.text}\" aria-hidden=\"true\" src=\"${this.style.url}\" style=\"${cssText}\"/>`;\n  }\n\n  /**\n   * Sets the icon styles to the appropriate element in the styles array.\n   *\n   * @ignore\n   * @param sums The icon label text and styles index.\n   */\n  useStyle(sums: ClusterIconInfo): void {\n    this.sums_ = sums;\n    let index = Math.max(0, sums.index - 1);\n    index = Math.min(this.styles_.length - 1, index);\n    this.style = this.sums_.url\n      ? { ...this.styles_[index], url: this.sums_.url }\n      : this.styles_[index];\n\n    this.anchorText_ = this.style.anchorText || [0, 0];\n    this.anchorIcon_ = this.style.anchorIcon || [\n      Math.floor(this.style.height / 2),\n      Math.floor(this.style.width / 2),\n    ];\n\n    this.className_ =\n      this.cluster_.getMarkerClusterer().getClusterClass() +\n      \" \" +\n      (this.style.className || \"cluster-\" + index);\n  }\n\n  /**\n   * Sets the position at which to center the icon.\n   *\n   * @param center The latlng to set as the center.\n   */\n  setCenter(center: google.maps.LatLng): void {\n    this.center_ = center;\n  }\n\n  /**\n   * Creates the `cssText` style parameter based on the position of the icon.\n   *\n   * @param pos The position of the icon.\n   * @return The CSS style text.\n   */\n  private createCss_(pos: google.maps.Point): string {\n    return toCssText({\n      \"z-index\": `${this.cluster_.getMarkerClusterer().getZIndex()}`,\n      top: coercePixels(pos.y),\n      left: coercePixels(pos.x),\n      width: coercePixels(this.style.width),\n      height: coercePixels(this.style.height),\n      cursor: \"pointer\",\n      position: \"absolute\",\n      \"-webkit-user-select\": \"none\",\n      \"-khtml-user-select\": \"none\",\n      \"-moz-user-select\": \"none\",\n      \"-o-user-select\": \"none\",\n      \"user-select\": \"none\",\n    });\n  }\n\n  /**\n   * Returns the position at which to place the DIV depending on the latlng.\n   *\n   * @param latlng The position in latlng.\n   * @return The position in pixels.\n   */\n  private getPosFromLatLng_(latlng: google.maps.LatLng): google.maps.Point {\n    const pos = this.getProjection().fromLatLngToDivPixel(latlng);\n    pos.x = Math.floor(pos.x - this.anchorIcon_[1]);\n    pos.y = Math.floor(pos.y - this.anchorIcon_[0]);\n    return pos;\n  }\n}\n","import MarkerClusterer from '@googlemaps/markerclustererplus';\r\nimport { Component, getContext } from 'rxcomp';\r\nimport { environment } from '../../environment';\r\nimport { MAP_STYLE } from './map.style';\r\n\r\nconst USE_CLUSTERER = true;\r\n\r\nlet GOOGLE_MAPS;\r\n\r\nexport class MapComponent extends Component {\r\n\r\n\tonInit() {\r\n\t\tconst apiKey = environment.googleMaps.apiKey;\r\n\t\tif (GOOGLE_MAPS != null) {\r\n\t\t\tthis.initMap();\r\n\t\t} else {\r\n\t\t\twindow.onGoogleMapsLoaded = () => {\r\n\t\t\t\tGOOGLE_MAPS = window.google.maps;\r\n\t\t\t\tthis.initMap();\r\n\t\t\t};\r\n\t\t\tconst script = document.createElement('script');\r\n\t\t\tscript.setAttribute('type', 'text/javascript');\r\n\t\t\tscript.setAttribute('src', `https://maps.googleapis.com/maps/api/js?callback=onGoogleMapsLoaded${apiKey ? `&key=${apiKey}` : ''}&libraries=places`);\r\n\t\t\t(document.getElementsByTagName('head')[0] || document.documentElement).appendChild(script);\r\n\t\t}\r\n\t}\r\n\r\n\tinitMap() {\r\n\t\tconst google = window.google;\r\n\t\tconst { node } = getContext(this);\r\n\t\tconst center = this.center;\r\n\r\n\t\tconst item = this.items && this.items.length ? this.items[0] : null;\r\n\r\n\t\tconst position = item ? new google.maps.LatLng(item.latitude, item.longitude) : null;\r\n\r\n\t\tconst mapOptions = {\r\n\t\t\tzoom: 15, // 9,\r\n\t\t\tcenter: position,\r\n\r\n\t\t\tscrollwheel: false,\r\n\t\t\t// mapTypeId: google.maps.MapTypeId.ROADMAP,\r\n\t\t\tzoomControlOptions: {\r\n\t\t\t\tstyle: google.maps.ZoomControlStyle.DEFAULT\r\n\t\t\t},\r\n\t\t\t// overviewMapControl: true,\r\n\r\n\t\t\tscaleControl: false,\r\n\t\t\tzoomControl: true,\r\n\t\t\tmapTypeControl: false,\r\n\t\t\tstreetViewControl: false,\r\n\t\t\trotateControl: true,\r\n\t\t\tfullscreenControl: true,\r\n\r\n\t\t\tstyles: MAP_STYLE\r\n\t\t};\r\n\r\n\t\tconst mapElement = node.querySelector('.map');\r\n\r\n\t\tconst map = this.map = new google.maps.Map(mapElement, mapOptions);\r\n\r\n\t\tthis.addMarkers(this.items);\r\n\r\n\t\tif (!this.items) {\r\n\t\t\tmap.fitBounds(this.getItalyBounds());\r\n\t\t}\r\n\t}\r\n\r\n\tonChanges() {\r\n\t\tthis.clearMarkers();\r\n\t\tthis.addMarkers(this.items);\r\n\t}\r\n\r\n\tcalculateDistance(lat1, lon1, lat2, lon2, unit) {\r\n\t\tif ((lat1 == lat2) && (lon1 == lon2)) {\r\n\t\t\treturn 0;\r\n\t\t} else {\r\n\t\t\tconst radlat1 = Math.PI * lat1 / 180;\r\n\t\t\tconst radlat2 = Math.PI * lat2 / 180;\r\n\t\t\tconst theta = lon1 - lon2;\r\n\t\t\tconst radtheta = Math.PI * theta / 180;\r\n\t\t\tlet dist = Math.sin(radlat1) * Math.sin(radlat2) + Math.cos(radlat1) * Math.cos(radlat2) * Math.cos(radtheta);\r\n\t\t\tif (dist > 1) {\r\n\t\t\t\tdist = 1;\r\n\t\t\t}\r\n\t\t\tdist = Math.acos(dist);\r\n\t\t\tdist = dist * 180 / Math.PI;\r\n\t\t\tdist = dist * 60 * 1.1515;\r\n\t\t\tif (unit == \"K\") {\r\n\t\t\t\tdist = dist * 1.609344;\r\n\t\t\t}\r\n\t\t\tif (unit == \"N\") {\r\n\t\t\t\tdist = dist * 0.8684;\r\n\t\t\t}\r\n\t\t\treturn dist;\r\n\t\t}\r\n\t}\r\n\r\n\tclearMarkers() {\r\n\t\tif (this.markerCluster) {\r\n\t\t\tthis.markerCluster.clearMarkers();\r\n\t\t}\r\n\t\tif (this.markers) {\r\n\t\t\tthis.markers.forEach(marker => marker.setMap(null));\r\n\t\t}\r\n\t}\r\n\r\n\taddMarkers(items) {\r\n\t\tconst map = this.map;\r\n\t\tif (map && items) {\r\n\t\t\tconst bounds = new google.maps.LatLngBounds();\r\n\r\n\t\t\tconst markers = items.map((item) => {\r\n\r\n\t\t\t\tconst position = new google.maps.LatLng(item.latitude, item.longitude);\r\n\r\n\t\t\t\tbounds.extend(position);\r\n\r\n\t\t\t\tlet content = /* html */`<div class=\"card--store-locator\">\r\n\t\t\t\t\t<div class=\"card__content\">\r\n\t\t\t\t\t\t<div class=\"card__name\"><span>${item.name}</span></div>\r\n\t\t\t\t\t\t<div class=\"card__address\">${item.address}</div>\r\n\t\t\t\t\t\t<div class=\"card__city\">${item.city}</div>\r\n\t\t\t\t\t\t<div class=\"card__country\">${item.country.name}</div>\r\n\t\t\t\t\t\t${item.phone ? `<a class=\"card__phone\" href=\"tel:${item.phone}\">${item.phone}</a>` : ''}\r\n\t\t\t\t\t\t${item.fax ? `<a class=\"card__fax\" href=\"tel:${item.fax}\">${item.fax}</a>` : ''}\r\n\t\t\t\t\t\t${item.email ? `<a class=\"card__email\" href=\"mailto:${item.email}\">${item.email}</a>` : ''}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>`;\r\n\r\n\t\t\t\t/*\r\n\t\t\t\t`<div class=\"marker__content\">\r\n\t\t\t\t\t<div class=\"title\"><span>${item.name}</span></div>\r\n\t\t\t\t\t<div class=\"group group--info\">\r\n\t\t\t\t\t\t<div class=\"address\">\r\n\t\t\t\t\t\t\t${item.address}<br>\r\n\t\t\t\t\t\t\t${item.city} ${item.country}<br>\r\n\t\t\t\t\t\t\t${item.phone ? `<span><a href=\"tel:${item.phone}\">${item.phone}</a><br></span>` : ''}\r\n\t\t\t\t\t\t\t${item.fax ? `<span><a href=\"tel:${item.fax}\">${item.fax}</a><br></span>` : ''}\r\n\t\t\t\t\t\t\t${item.email ? `<span><a href=\"mailto:${item.email}\">${item.email}</a><br></span>` : ''}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t${item.address !== '' ? `<div class=\"distance\">${this.labels.approximately} <b>${Math.floor(item.distance)} km</b></div>` : ``}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"group group--cta\">\r\n\t\t\t\t\t\t${item.address !== '' ? `<a id=\"locator-marker\" href=\"https://www.google.it/maps/dir/${position.lat()},${position.lng()}/${item.title}/@${item.latitude},${item.longitude}/\" target=\"_blank\" class=\"btn btn--link\"><span>${this.labels.reachStore}</span></a>` : ``}\r\n\t\t\t\t\t\t${item.type === 8 || item.type === 9 ? `<a id=\"contact-item\" href=\"${window.itemLocatorSettings.urlStoreContact}?item=${item.id}\" target=\"_blank\" class=\"btn btn--link\"><span>${this.labels.contactStore}</span></a>` : ''}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>`\r\n\t\t\t\t*/\r\n\r\n\t\t\t\tconst markerImage = new google.maps.MarkerImage(\r\n\t\t\t\t\t`${environment.assets}img/maps/marker-sm.png`,\r\n\t\t\t\t\tnew google.maps.Size(24, 32),\r\n\t\t\t\t);\r\n\r\n\t\t\t\tlet marker = new google.maps.Marker({\r\n\t\t\t\t\tposition: position,\r\n\t\t\t\t\tmap: USE_CLUSTERER ? null : map,\r\n\t\t\t\t\ticon: markerImage,\r\n\t\t\t\t\ttitle: item.title,\r\n\t\t\t\t\titem: item,\r\n\t\t\t\t\tcontent: content,\r\n\t\t\t\t});\r\n\t\t\t\tmarker.addListener('click', () => {\r\n\t\t\t\t\tthis.setMarkerWindow(marker.position, content);\r\n\t\t\t\t\t// this.scrollToStore(item);\r\n\t\t\t\t\t// GtmService.push({ event: 'dealerlocator', action: 'marker-click', label: item.title });\r\n\t\t\t\t});\r\n\t\t\t\titem.marker = marker;\r\n\t\t\t\treturn marker;\r\n\t\t\t});\r\n\r\n\t\t\tif (USE_CLUSTERER) {\r\n\t\t\t\tconst markerCluster = new MarkerClusterer(this.map, markers, {\r\n\t\t\t\t\timagePath: `${environment.assets}img/maps/cluster-`,\r\n\t\t\t\t});\r\n\t\t\t\tconst styles = markerCluster.getStyles();\r\n\t\t\t\tconst sizes = [48, 56, 64, 72, 80];\r\n\t\t\t\tstyles.forEach((style, i) => {\r\n\t\t\t\t\tstyle.width = sizes[i];\r\n\t\t\t\t\tstyle.height = sizes[i];\r\n\t\t\t\t\tstyle.textLineHeight = sizes[i];\r\n\t\t\t\t\tstyle.textSize = Math.floor(style.width / 5);\r\n\t\t\t\t\tstyle.textColor = '#ffffff';\r\n\t\t\t\t});\r\n\t\t\t\tmarkerCluster.setStyles(styles);\r\n\t\t\t\tthis.markerCluster = markerCluster;\r\n\t\t\t}\r\n\r\n\t\t\tthis.markers = markers;\r\n\r\n\t\t\tmap.fitBounds(bounds);\r\n\t\t}\r\n\t}\r\n\r\n\tgetGeolocation(map) {\r\n\t\tthis.error = null;\r\n\t\tthis.busyLocation = true;\r\n\t\tlet position = this.map.getCenter();\r\n\r\n\t\t// Try HTML5 geolocation.\r\n\t\tif (navigator.geolocation) {\r\n\t\t\tnavigator.geolocation.getCurrentPosition((location) => {\r\n\t\t\t\tposition = new google.maps.LatLng(location.coords.latitude, location.coords.longitude);\r\n\r\n\t\t\t\tconst geocoder = this.geocoder || new google.maps.Geocoder();\r\n\t\t\t\tthis.geocoder = geocoder;\r\n\t\t\t\tgeocoder.geocode({ 'location': position }, (results, status) => {\r\n\t\t\t\t\tif (status == 'OK') {\r\n\t\t\t\t\t\tvar filteredInfoCity = results.filter(function(address_component) {\r\n\t\t\t\t\t\t\treturn address_component.types.includes(\"locality\");\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tthis.model.city = filteredInfoCity.length ? filteredInfoCity[0].formatted_address : undefined;\r\n\t\t\t\t\t\tthis.model.address = results[0].formatted_address;\r\n\r\n\t\t\t\t\t\tfor (let i = 0; i < results[0].address_components.length; i++) {\r\n\t\t\t\t\t\t\tif (results[0].address_components[i].types[0] == \"country\" || results[0].address_components[i].types[0] == \"political\") {\r\n\t\t\t\t\t\t\t\tthis.searchCountry = results[0].address_components[i].short_name;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tthis.setInfoWindow(position, 1);\r\n\t\t\t\t\t\tthis.searchPosition(position).finally(() => this.busyLocation = false);\r\n\t\t\t\t\t\tthis.map.setCenter(position);\r\n\t\t\t\t\t\tthis.map.setZoom(ZOOM_LEVEL);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}, () => {\r\n\t\t\t\tthis.setInfoWindow(position, 2);\r\n\t\t\t\tthis.searchPosition(position).finally(() => this.busyLocation = false);\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\t// Browser doesn't support Geolocation\r\n\t\t\tthis.setInfoWindow(position, 3);\r\n\t\t\tthis.searchPosition(position).finally(() => this.busyLocation = false);\r\n\t\t}\r\n\t}\r\n\r\n\tfitBounds(items) {\r\n\t\tif (items.length) {\r\n\t\t\tconst bounds = new google.maps.LatLngBounds();\r\n\t\t\titems.forEach((item) => {\r\n\t\t\t\tconst position = new google.maps.LatLng(item.latitude, item.longitude);\r\n\t\t\t\tbounds.extend(position);\r\n\t\t\t});\r\n\t\t\tthis.map.fitBounds(bounds);\r\n\t\t\t// console.log('fitBounds');\r\n\t\t}\r\n\t}\r\n\r\n\tfindNearStores(items, position) {\r\n\t\tif (items) {\r\n\t\t\titems.forEach((item) => {\r\n\t\t\t\titem.distance = this.calculateDistance(item.latitude, item.longitude, position.lat(), position.lng(), 'K');\r\n\t\t\t\titem.visible = (item.cod_stato == window.userCountry || !window.userCountry) && item.distance <= MAX_DISTANCE /* Km */;\r\n\t\t\t\tif (item.visible) {\r\n\t\t\t\t\tif (item.removed) {\r\n\t\t\t\t\t\tthis.markerCluster.addMarker(item.marker);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tdelete item.removed;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.markerCluster.removeMarker(item.marker);\r\n\t\t\t\t\titem.removed = true;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\titems = items.slice();\r\n\t\t\titems.sort((a, b) => {\r\n\t\t\t\treturn a.distance * (a.importante ? 0.5 : 1) - b.distance * (b.importante ? 0.5 : 1);\r\n\t\t\t});\r\n\t\t\tconst visibleStores = items.filter(item => item.visible).slice(0, 50);\r\n\t\t\tthis.$timeout(() => {\r\n\t\t\t\tthis.visibleStores = visibleStores;\r\n\t\t\t}, 1);\r\n\t\t\t// console.log('findNearStores', visibleStores);\r\n\t\t\treturn visibleStores;\r\n\t\t}\r\n\t}\r\n\r\n\tpanTo(item) {\r\n\t\tconst position = new google.maps.LatLng(item.latitude, item.longitude);\r\n\t\tthis.map.setZoom(ZOOM_LEVEL);\r\n\t\tthis.map.panTo(position);\r\n\t\tconst marker = this.markers.find(x => x.item === item);\r\n\t\tthis.setMarkerWindow(marker.position, marker.content);\r\n\t}\r\n\r\n\tsetMarkerWindow(position, content) {\r\n\t\tif (position) {\r\n\t\t\tconst markerWindow = this.markerWindow || new google.maps.InfoWindow({\r\n\t\t\t\tpixelOffset: new google.maps.Size(0, -35)\r\n\t\t\t});\r\n\t\t\tthis.markerWindow = markerWindow;\r\n\t\t\tmarkerWindow.setPosition(position);\r\n\t\t\tmarkerWindow.setContent(content);\r\n\t\t\tmarkerWindow.open(this.map);\r\n\t\t} else {\r\n\t\t\tthis.closeMarkerWindow();\r\n\t\t}\r\n\t}\r\n\r\n\tcloseMarkerWindow() {\r\n\t\tif (this.markerWindow) {\r\n\t\t\tthis.markerWindow.close();\r\n\t\t}\r\n\t}\r\n\r\n\tgetWorldBounds() {\r\n\t\treturn new google.maps.LatLngBounds(\r\n\t\t\tnew google.maps.LatLng(61, 60),\r\n\t\t\tnew google.maps.LatLng(-37, -92)\r\n\t\t);\r\n\t}\r\n\r\n\tgetItalyBounds() {\r\n\t\treturn new google.maps.LatLngBounds(\r\n\t\t\tnew google.maps.LatLng(46.4657567, 5.233972),\r\n\t\t\tnew google.maps.LatLng(36.8257773, 18.963541)\r\n\t\t);\r\n\t}\r\n}\r\n\r\nMapComponent.meta = {\r\n\tselector: '[map]',\r\n\tinputs: ['center', 'items'],\r\n};\r\n","/**\n * Copyright 2019 Google LLC. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { MarkerClusterer, ClusterAugmentedMarker } from \"./markerclusterer\";\nimport { ClusterIcon } from \"./cluster-icon\";\n\n/**\n * Creates a single cluster that manages a group of proximate markers.\n *  Used internally, do not call this constructor directly.\n */\nexport class Cluster {\n  private map_ = this.markerClusterer_.getMap() as google.maps.Map;\n  private minClusterSize_: number = this.markerClusterer_.getMinimumClusterSize();\n  private averageCenter_: boolean = this.markerClusterer_.getAverageCenter();\n  private markers_: ClusterAugmentedMarker[] = []; // TODO: type;\n  private center_: google.maps.LatLng = null;\n  private bounds_: google.maps.LatLngBounds = null;\n  private clusterIcon_ = new ClusterIcon(\n    this,\n    this.markerClusterer_.getStyles()\n  );\n\n  /**\n   *\n   * @param markerClusterer_ The `MarkerClusterer` object with which this\n   *  cluster is associated.\n   */\n  constructor(private markerClusterer_: MarkerClusterer) {}\n\n  /**\n   * Returns the number of markers managed by the cluster. You can call this from\n   * a `click`, `mouseover`, or `mouseout` event handler for the `MarkerClusterer` object.\n   *\n   * @return The number of markers in the cluster.\n   */\n  public getSize(): number {\n    return this.markers_.length;\n  }\n\n  /**\n   * Returns the array of markers managed by the cluster. You can call this from\n   * a `click`, `mouseover`, or `mouseout` event handler for the `MarkerClusterer` object.\n   *\n   * @return The array of markers in the cluster.\n   */\n  public getMarkers(): google.maps.Marker[] {\n    return this.markers_;\n  }\n\n  /**\n   * Returns the center of the cluster. You can call this from\n   * a `click`, `mouseover`, or `mouseout` event handler\n   * for the `MarkerClusterer` object.\n   *\n   * @return The center of the cluster.\n   */\n  public getCenter(): google.maps.LatLng {\n    return this.center_;\n  }\n\n  /**\n   * Returns the map with which the cluster is associated.\n   *\n   * @return The map.\n   * @ignore\n   */\n  public getMap(): google.maps.Map {\n    return this.map_;\n  }\n\n  /**\n   * Returns the `MarkerClusterer` object with which the cluster is associated.\n   *\n   * @return The associated marker clusterer.\n   * @ignore\n   */\n  public getMarkerClusterer(): MarkerClusterer {\n    return this.markerClusterer_;\n  }\n\n  /**\n   * Returns the bounds of the cluster.\n   *\n   * @return the cluster bounds.\n   * @ignore\n   */\n  public getBounds(): google.maps.LatLngBounds {\n    const bounds = new google.maps.LatLngBounds(this.center_, this.center_);\n    const markers = this.getMarkers();\n    for (let i = 0; i < markers.length; i++) {\n      bounds.extend(markers[i].getPosition());\n    }\n    return bounds;\n  }\n\n  /**\n   * Removes the cluster from the map.\n   *\n   * @ignore\n   */\n  public remove(): void {\n    this.clusterIcon_.setMap(null);\n    this.markers_ = [];\n    delete this.markers_;\n  }\n\n  /**\n   * Adds a marker to the cluster.\n   *\n   * @param marker The marker to be added.\n   * @return True if the marker was added.\n   * @ignore\n   */\n  public addMarker(\n    marker: google.maps.Marker & { isAdded?: boolean }\n  ): boolean {\n    if (this.isMarkerAlreadyAdded_(marker)) {\n      return false;\n    }\n\n    if (!this.center_) {\n      this.center_ = marker.getPosition();\n      this.calculateBounds_();\n    } else {\n      if (this.averageCenter_) {\n        const l = this.markers_.length + 1;\n        const lat =\n          (this.center_.lat() * (l - 1) + marker.getPosition().lat()) / l;\n        const lng =\n          (this.center_.lng() * (l - 1) + marker.getPosition().lng()) / l;\n        this.center_ = new google.maps.LatLng(lat, lng);\n        this.calculateBounds_();\n      }\n    }\n\n    marker.isAdded = true;\n    this.markers_.push(marker);\n\n    const mCount = this.markers_.length;\n    const mz = this.markerClusterer_.getMaxZoom();\n    if (mz !== null && this.map_.getZoom() > mz) {\n      // Zoomed in past max zoom, so show the marker.\n      if (marker.getMap() !== this.map_) {\n        marker.setMap(this.map_);\n      }\n    } else if (mCount < this.minClusterSize_) {\n      // Min cluster size not reached so show the marker.\n      if (marker.getMap() !== this.map_) {\n        marker.setMap(this.map_);\n      }\n    } else if (mCount === this.minClusterSize_) {\n      // Hide the markers that were showing.\n      for (let i = 0; i < mCount; i++) {\n        this.markers_[i].setMap(null);\n      }\n    } else {\n      marker.setMap(null);\n    }\n\n    return true;\n  }\n\n  /**\n   * Determines if a marker lies within the cluster's bounds.\n   *\n   * @param marker The marker to check.\n   * @return True if the marker lies in the bounds.\n   * @ignore\n   */\n  public isMarkerInClusterBounds(marker: google.maps.Marker): boolean {\n    return this.bounds_.contains(marker.getPosition());\n  }\n\n  /**\n   * Calculates the extended bounds of the cluster with the grid.\n   */\n  private calculateBounds_(): void {\n    const bounds = new google.maps.LatLngBounds(this.center_, this.center_);\n    this.bounds_ = this.markerClusterer_.getExtendedBounds(bounds);\n  }\n\n  /**\n   * Updates the cluster icon.\n   */\n  public updateIcon(): void {\n    const mCount = this.markers_.length;\n    const mz = this.markerClusterer_.getMaxZoom();\n\n    if (mz !== null && this.map_.getZoom() > mz) {\n      this.clusterIcon_.hide();\n      return;\n    }\n\n    if (mCount < this.minClusterSize_) {\n      // Min cluster size not yet reached.\n      this.clusterIcon_.hide();\n      return;\n    }\n\n    const numStyles = this.markerClusterer_.getStyles().length;\n    const sums = this.markerClusterer_.getCalculator()(\n      this.markers_,\n      numStyles\n    );\n    this.clusterIcon_.setCenter(this.center_);\n    this.clusterIcon_.useStyle(sums);\n    this.clusterIcon_.show();\n  }\n\n  /**\n   * Determines if a marker has already been added to the cluster.\n   *\n   * @param marker The marker to check.\n   * @return True if the marker has already been added.\n   */\n  private isMarkerAlreadyAdded_(marker: google.maps.Marker): boolean {\n    if (this.markers_.indexOf) {\n      return this.markers_.indexOf(marker) !== -1;\n    } else {\n      for (let i = 0; i < this.markers_.length; i++) {\n        if (marker === this.markers_[i]) {\n          return true;\n        }\n      }\n    }\n    return false;\n  }\n}\n","/**\n * Copyright 2019 Google LLC. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @name MarkerClustererPlus for Google Maps V3\n * @author Gary Little\n * @fileoverview\n * The library creates and manages per-zoom-level clusters for large amounts of markers.\n * <p>\n * This is an enhanced V3 implementation of the V2 MarkerClusterer by Xiaoxi Wu. It is\n * based on the V3 MarkerClusterer port by Luke Mahe. MarkerClustererPlus was created\n * by Gary Little.\n * <p>\n * v2.0 release: MarkerClustererPlus v2.0 is backward compatible with MarkerClusterer v1.0. It\n *  adds support for the `ignoreHidden`, `title`, `batchSizeIE`,\n *  and `calculator` properties as well as support for four more events. It also allows\n *  greater control over the styling of the text that appears on the cluster marker. The\n *  documentation has been significantly improved and the overall code has been simplified and\n *  polished. Very large numbers of markers can now be managed without causing Javascript timeout\n *  errors on Internet Explorer. Note that the name of the `clusterclick` event has been\n *  deprecated. The new name is `click`, so please change your application code now.\n */\n\nimport { ClusterIconInfo, ClusterIconStyle } from \"./cluster-icon\";\n\nimport { Cluster } from \"./cluster\";\nimport { OverlayViewSafe } from \"./overlay-view-safe\";\n\n/**\n * @param text The text attribute of the cluster\n */\ntype AriaLabelFn = (text: string) => string;\n\nexport type Calculator = (\n  markers: google.maps.Marker[],\n  clusterIconStylesCount: number\n) => ClusterIconInfo;\n\nexport interface ClusterAugmentedMarker extends google.maps.Marker {\n  isAdded?: boolean;\n}\n\n/**\n * This event is fired on the {@link MarkerClusterer} instance when the `MarkerClusterer` stops clustering markers.\n *\n * Example:\n * ```typescript\n *  mc.addListener('clusteringend', (mc: MarkerClusterer) => {})\n * ```\n *\n * @param mc The MarkerClusterer whose markers are being clustered.\n * @event clusteringend\n */\nexport declare function clusteringend(mc: MarkerClusterer): void;\n\n/**\n * This event is fired on the {@link MarkerClusterer} instance when the `MarkerClusterer` begins clustering markers.\n *\n * Example:\n * ```typescript\n *  mc.addListener('clusteringbegin', (mc: MarkerClusterer) => {})\n * ```\n *\n * @param mc The MarkerClusterer whose markers are being clustered.\n * @event clusteringbegin\n */\nexport declare function clusteringbegin(mc: MarkerClusterer): void;\n\n/**\n * Optional parameter passed to the {@link MarkerClusterer} constructor.\n */\nexport interface MarkerClustererOptions {\n  /**\n   * The grid size of a cluster in pixels. The grid is a square.\n   *\n   * @default `60`\n   */\n  gridSize?: number;\n  /**\n   * The maximum zoom level at which clustering is enabled or\n   * `null` if clustering is to be enabled at all zoom levels.\n   *\n   * @default `null`\n   */\n  maxZoom?: number;\n\n  /**\n   * Whether to zoom the map when a cluster marker is\n   * clicked. You may want to set this to `false` if you have installed a handler\n   * for the `click` event and it deals with zooming on its own.\n   *\n   * @default `true`\n   */\n  zoomOnClick?: boolean;\n  /***\n   * Whether the position of a cluster marker should be\n   * the average position of all markers in the cluster. If set to `false`, the\n   * cluster marker is positioned at the location of the first marker added to the cluster.\n   *\n   * @default `false`\n   */\n  averageCenter?: boolean;\n  /**\n   * The minimum number of markers needed in a cluster\n   * before the markers are hidden and a cluster marker appears.\n   *\n   * @default `2`\n   */\n  minimumClusterSize?: number;\n\n  /**\n   *  the z-index of a cluster.\n   *\n   *  @default `google.maps.Marker.MAX_ZINDEX + 1`\n   */\n  zIndex?: number;\n\n  /**\n   * Whether to ignore hidden markers in clusters. You\n   * may want to set this to `true` to ensure that hidden markers are not included\n   * in the marker count that appears on a cluster marker (this count is the value of the\n   * `text` property of the result returned by the default  {@link calculator}).\n   * If set to `true` and you change the visibility of a marker being clustered, be\n   * sure to also call {@link MarkerClusterer#repaint()}.\n   *\n   * @default `false`\n   */\n  ignoreHidden?: boolean;\n  /**\n   * The tooltip to display when the mouse moves over a cluster\n   * marker. (Alternatively, you can use a custom `calculator` function to specify a\n   * different tooltip for each cluster marker.)\n   *\n   * @default `\"\"`\n   */\n  title?: string;\n  /**\n   * The function used to determine\n   * the text to be displayed on a cluster marker and the index indicating which style to use\n   * for the cluster marker. The input parameters for the function are (1) the array of markers\n   * represented by a cluster marker and (2) the number of cluster icon styles. It returns a\n   * {@link ClusterIconInfo} object. The default `calculator` returns a\n   * `text` property which is the number of markers in the cluster and an\n   * `index` property which is one higher than the lowest integer such that\n   * `10^i` exceeds the number of markers in the cluster, or the size of the styles\n   * array, whichever is less. The `styles` array element used has an index of\n   * `index` minus 1. For example, the default `calculator` returns a\n   * `text` value of `\"125\"` and an `index` of `3`\n   * for a cluster icon representing 125 markers so the element used in the `styles`\n   * array is `2`. A `calculator` may also return a `title`\n   * property that contains the text of the tooltip to be used for the cluster marker. If\n   * `title` is not defined, the tooltip is set to the value of the `title`\n   * property for the MarkerClusterer.\n   *\n   * @default {@link MarkerClusterer.CALCULATOR}\n   */\n  calculator?: Calculator;\n  /**\n   * The name of the CSS class defining general styles\n   * for the cluster markers. Use this class to define CSS styles that are not set up by the code\n   * that processes the `styles` array.\n   *\n   * @default `\"cluster\"`\n   */\n  clusterClass?: string;\n  /**\n   * An array of {@link ClusterIconStyle} elements defining the styles\n   * of the cluster markers to be used. The element to be used to style a given cluster marker\n   * is determined by the function defined by the `calculator` property.\n   * The default is an array of {@link ClusterIconStyle} elements whose properties are derived\n   * from the values for `imagePath`, `imageExtension`, and `imageSizes`.\n   *\n   * @default `styles`\n   */\n  styles?: ClusterIconStyle[];\n  /**\n   * Whether to allow the use of cluster icons that\n   * have sizes that are some multiple (typically double) of their actual display size. Icons such\n   * as these look better when viewed on high-resolution monitors such as Apple's Retina displays.\n   * Note: if this property is `true`, sprites cannot be used as cluster icons.\n   *\n   * @default `false`\n   */\n  enableRetinaIcons?: boolean;\n  /**\n   * Set this property to the number of markers to be processed in a single batch when using\n   * a browser other than Internet Explorer (for Internet Explorer, use the batchSizeIE property instead).\n   *\n   * @default `MarkerClusterer.BATCH_SIZE`\n   */\n  batchSize?: number;\n  /**\n   * When Internet Explorer is\n   * being used, markers are processed in several batches with a small delay inserted between\n   * each batch in an attempt to avoid Javascript timeout errors. Set this property to the\n   * number of markers to be processed in a single batch; select as high a number as you can\n   * without causing a timeout error in the browser. This number might need to be as low as 100\n   * if 15,000 markers are being managed, for example.\n   *\n   * @default `MarkerClusterer.BATCH_SIZE_IE`\n   */\n  batchSizeIE?: number;\n  /**\n   * The full URL of the root name of the group of image files to use for cluster icons.\n   * The complete file name is of the form `imagePath`n.`imageExtension`\n   * where n is the image file number (1, 2, etc.).\n   *\n   * @default `MarkerClusterer.IMAGE_PATH`\n   */\n  imagePath?: string;\n  /**\n   * The extension name for the cluster icon image files (e.g., `\"png\"` or\n   * `\"jpg\"`).\n   *\n   * @default `MarkerClusterer.IMAGE_EXTENSION`\n   */\n  imageExtension?: string;\n  /**\n   * An array of numbers containing the widths of the group of\n   * `imagePath`n.`imageExtension` image files.\n   * (The images are assumed to be square.)\n   *\n   * @default `MarkerClusterer.IMAGE_SIZES`\n   */\n  imageSizes?: number[];\n  /**\n   * A function to take the text attribute associated with the cluster and output a string to attach an\n   * ariaLabel to the cluster\n   */\n  ariaLabelFn?: AriaLabelFn;\n}\n\n/**\n * @ignore\n */\nconst getOption = <T, K extends keyof T>(\n  options: T,\n  prop: K,\n  def: T[K]\n): T[K] => {\n  if (options[prop] !== undefined) {\n    return options[prop];\n  } else {\n    return def;\n  }\n};\n\nexport class MarkerClusterer extends OverlayViewSafe {\n  /**\n   * The number of markers to process in one batch.\n   */\n  static BATCH_SIZE = 2000;\n\n  /**\n   * The number of markers to process in one batch (IE only).\n   */\n  static BATCH_SIZE_IE = 500;\n\n  /**\n   * The default root name for the marker cluster images.\n   */\n  static IMAGE_PATH = \"../images/m\";\n\n  /**\n   * The default extension name for the marker cluster images.\n   */\n  static IMAGE_EXTENSION = \"png\";\n\n  /**\n   * The default array of sizes for the marker cluster images.\n   */\n  static IMAGE_SIZES: number[] = [53, 56, 66, 78, 90];\n\n  private markers_: ClusterAugmentedMarker[] = [];\n  private clusters_: Cluster[] = [];\n  private listeners_: google.maps.MapsEventListener[] = [];\n\n  private activeMap_: google.maps.Map = null;\n  private ready_ = false;\n\n  public ariaLabelFn = this.options.ariaLabelFn || ((): string => \"\");\n\n  private zIndex_ =\n    this.options.zIndex || Number(google.maps.Marker.MAX_ZINDEX) + 1;\n  private gridSize_ = this.options.gridSize || 60;\n  private minClusterSize_ = this.options.minimumClusterSize || 2;\n  private maxZoom_ = this.options.maxZoom || null;\n  private styles_: ClusterIconStyle[] = this.options.styles || [];\n  private title_ = this.options.title || \"\";\n\n  private zoomOnClick_ = getOption(this.options, \"zoomOnClick\", true);\n  private averageCenter_ = getOption(this.options, \"averageCenter\", false);\n\n  private ignoreHidden_ = getOption(this.options, \"ignoreHidden\", false);\n  private enableRetinaIcons_ = getOption(\n    this.options,\n    \"enableRetinaIcons\",\n    false\n  );\n\n  private imagePath_ = this.options.imagePath || MarkerClusterer.IMAGE_PATH;\n  private imageExtension_ =\n    this.options.imageExtension || MarkerClusterer.IMAGE_EXTENSION;\n  private imageSizes_ = this.options.imageSizes || MarkerClusterer.IMAGE_SIZES;\n  private calculator_ = this.options.calculator || MarkerClusterer.CALCULATOR;\n  private batchSize_ = this.options.batchSize || MarkerClusterer.BATCH_SIZE;\n  private batchSizeIE_ =\n    this.options.batchSizeIE || MarkerClusterer.BATCH_SIZE_IE;\n  private clusterClass_ = this.options.clusterClass || \"cluster\";\n\n  private prevZoom_: number;\n  private timerRefStatic: number;\n\n  /**\n   * Creates a MarkerClusterer object with the options specified in {@link MarkerClustererOptions}.\n   * @param map The Google map to attach to.\n   * @param markers The markers to be added to the cluster.\n   * @param options The optional parameters.\n   */\n  constructor(\n    map: google.maps.Map,\n    markers: google.maps.Marker[] = [],\n    private options: MarkerClustererOptions = {}\n  ) {\n    super();\n\n    if (navigator.userAgent.toLowerCase().indexOf(\"msie\") !== -1) {\n      // Try to avoid IE timeout when processing a huge number of markers:\n      this.batchSize_ = this.batchSizeIE_;\n    }\n\n    this.setupStyles_();\n\n    this.addMarkers(markers, true);\n    this.setMap(map); // Note: this causes onAdd to be called\n  }\n\n  /**\n   * Implementation of the onAdd interface method.\n   * @ignore\n   */\n  onAdd(): void {\n    this.activeMap_ = this.getMap() as google.maps.Map;\n    this.ready_ = true;\n\n    this.repaint();\n\n    this.prevZoom_ = this.getMap().getZoom();\n\n    // Add the map event listeners\n    this.listeners_ = [\n      google.maps.event.addListener(this.getMap(), \"zoom_changed\", () => {\n        const map: google.maps.Map & {\n          minZoom: number;\n          maxZoom: number;\n          mapTypes: { [type: string]: google.maps.MapType };\n        } = this.getMap() as any; // eslint-disable-line @typescript-eslint/no-explicit-any\n\n        // Fix for bug #407\n        // Determines map type and prevents illegal zoom levels\n        const minZoom = map.minZoom || 0;\n        const maxZoom = Math.min(\n          map.maxZoom || 100,\n          map.mapTypes[map.getMapTypeId()].maxZoom\n        );\n        const zoom = Math.min(\n          Math.max(this.getMap().getZoom(), minZoom),\n          maxZoom\n        );\n\n        if (this.prevZoom_ != zoom) {\n          this.prevZoom_ = zoom;\n          this.resetViewport_(false);\n        }\n      }),\n      google.maps.event.addListener(this.getMap(), \"idle\", () => {\n        this.redraw_();\n      }),\n    ];\n  }\n\n  /**\n   * Implementation of the onRemove interface method.\n   * Removes map event listeners and all cluster icons from the DOM.\n   * All managed markers are also put back on the map.\n   * @ignore\n   */\n  onRemove(): void {\n    // Put all the managed markers back on the map:\n    for (let i = 0; i < this.markers_.length; i++) {\n      if (this.markers_[i].getMap() !== this.activeMap_) {\n        this.markers_[i].setMap(this.activeMap_);\n      }\n    }\n\n    // Remove all clusters:\n    for (let i = 0; i < this.clusters_.length; i++) {\n      this.clusters_[i].remove();\n    }\n    this.clusters_ = [];\n\n    // Remove map event listeners:\n    for (let i = 0; i < this.listeners_.length; i++) {\n      google.maps.event.removeListener(this.listeners_[i]);\n    }\n    this.listeners_ = [];\n\n    this.activeMap_ = null;\n    this.ready_ = false;\n  }\n\n  /**\n   * Implementation of the draw interface method.\n   * @ignore\n   */\n  draw(): void {}\n\n  /**\n   * Sets up the styles object.\n   */\n  private setupStyles_(): void {\n    if (this.styles_.length > 0) {\n      return;\n    }\n\n    for (let i = 0; i < this.imageSizes_.length; i++) {\n      const size = this.imageSizes_[i];\n      this.styles_.push(\n        MarkerClusterer.withDefaultStyle({\n          url: this.imagePath_ + (i + 1) + \".\" + this.imageExtension_,\n          height: size,\n          width: size,\n        })\n      );\n    }\n  }\n\n  /**\n   *  Fits the map to the bounds of the markers managed by the clusterer.\n   */\n  fitMapToMarkers(padding: number | google.maps.Padding): void {\n    const markers = this.getMarkers();\n    const bounds = new google.maps.LatLngBounds();\n    for (let i = 0; i < markers.length; i++) {\n      // March 3, 2018: Bug fix -- honor the ignoreHidden property\n      if (markers[i].getVisible() || !this.getIgnoreHidden()) {\n        bounds.extend(markers[i].getPosition());\n      }\n    }\n\n    (this.getMap() as google.maps.Map).fitBounds(bounds, padding);\n  }\n\n  /**\n   * Returns the value of the `gridSize` property.\n   *\n   * @return The grid size.\n   */\n  getGridSize(): number {\n    return this.gridSize_;\n  }\n\n  /**\n   * Sets the value of the `gridSize` property.\n   *\n   * @param gridSize The grid size.\n   */\n  setGridSize(gridSize: number): void {\n    this.gridSize_ = gridSize;\n  }\n\n  /**\n   * Returns the value of the `minimumClusterSize` property.\n   *\n   * @return The minimum cluster size.\n   */\n  getMinimumClusterSize(): number {\n    return this.minClusterSize_;\n  }\n\n  /**\n   * Sets the value of the `minimumClusterSize` property.\n   *\n   * @param minimumClusterSize The minimum cluster size.\n   */\n  setMinimumClusterSize(minimumClusterSize: number): void {\n    this.minClusterSize_ = minimumClusterSize;\n  }\n\n  /**\n   *  Returns the value of the `maxZoom` property.\n   *\n   *  @return The maximum zoom level.\n   */\n  getMaxZoom(): number {\n    return this.maxZoom_;\n  }\n\n  /**\n   *  Sets the value of the `maxZoom` property.\n   *\n   *  @param maxZoom The maximum zoom level.\n   */\n  setMaxZoom(maxZoom: number): void {\n    this.maxZoom_ = maxZoom;\n  }\n\n  getZIndex(): number {\n    return this.zIndex_;\n  }\n\n  setZIndex(zIndex: number): void {\n    this.zIndex_ = zIndex;\n  }\n\n  /**\n   *  Returns the value of the `styles` property.\n   *\n   *  @return The array of styles defining the cluster markers to be used.\n   */\n  getStyles(): ClusterIconStyle[] {\n    return this.styles_;\n  }\n\n  /**\n   *  Sets the value of the `styles` property.\n   *\n   *  @param styles The array of styles to use.\n   */\n  setStyles(styles: ClusterIconStyle[]): void {\n    this.styles_ = styles;\n  }\n\n  /**\n   * Returns the value of the `title` property.\n   *\n   * @return The content of the title text.\n   */\n  getTitle(): string {\n    return this.title_;\n  }\n\n  /**\n   *  Sets the value of the `title` property.\n   *\n   *  @param title The value of the title property.\n   */\n  setTitle(title: string): void {\n    this.title_ = title;\n  }\n\n  /**\n   * Returns the value of the `zoomOnClick` property.\n   *\n   * @return True if zoomOnClick property is set.\n   */\n  getZoomOnClick(): boolean {\n    return this.zoomOnClick_;\n  }\n\n  /**\n   *  Sets the value of the `zoomOnClick` property.\n   *\n   *  @param zoomOnClick The value of the zoomOnClick property.\n   */\n  setZoomOnClick(zoomOnClick: boolean): void {\n    this.zoomOnClick_ = zoomOnClick;\n  }\n\n  /**\n   * Returns the value of the `averageCenter` property.\n   *\n   * @return True if averageCenter property is set.\n   */\n  getAverageCenter(): boolean {\n    return this.averageCenter_;\n  }\n\n  /**\n   *  Sets the value of the `averageCenter` property.\n   *\n   *  @param averageCenter The value of the averageCenter property.\n   */\n  setAverageCenter(averageCenter: boolean): void {\n    this.averageCenter_ = averageCenter;\n  }\n\n  /**\n   * Returns the value of the `ignoreHidden` property.\n   *\n   * @return True if ignoreHidden property is set.\n   */\n  getIgnoreHidden(): boolean {\n    return this.ignoreHidden_;\n  }\n\n  /**\n   *  Sets the value of the `ignoreHidden` property.\n   *\n   *  @param ignoreHidden The value of the ignoreHidden property.\n   */\n  setIgnoreHidden(ignoreHidden: boolean): void {\n    this.ignoreHidden_ = ignoreHidden;\n  }\n\n  /**\n   * Returns the value of the `enableRetinaIcons` property.\n   *\n   * @return True if enableRetinaIcons property is set.\n   */\n  getEnableRetinaIcons(): boolean {\n    return this.enableRetinaIcons_;\n  }\n\n  /**\n   *  Sets the value of the `enableRetinaIcons` property.\n   *\n   *  @param enableRetinaIcons The value of the enableRetinaIcons property.\n   */\n  setEnableRetinaIcons(enableRetinaIcons: boolean): void {\n    this.enableRetinaIcons_ = enableRetinaIcons;\n  }\n\n  /**\n   * Returns the value of the `imageExtension` property.\n   *\n   * @return The value of the imageExtension property.\n   */\n  getImageExtension(): string {\n    return this.imageExtension_;\n  }\n\n  /**\n   *  Sets the value of the `imageExtension` property.\n   *\n   *  @param imageExtension The value of the imageExtension property.\n   */\n  setImageExtension(imageExtension: string): void {\n    this.imageExtension_ = imageExtension;\n  }\n\n  /**\n   * Returns the value of the `imagePath` property.\n   *\n   * @return The value of the imagePath property.\n   */\n  getImagePath(): string {\n    return this.imagePath_;\n  }\n\n  /**\n   *  Sets the value of the `imagePath` property.\n   *\n   *  @param imagePath The value of the imagePath property.\n   */\n  setImagePath(imagePath: string): void {\n    this.imagePath_ = imagePath;\n  }\n\n  /**\n   * Returns the value of the `imageSizes` property.\n   *\n   * @return The value of the imageSizes property.\n   */\n  getImageSizes(): number[] {\n    return this.imageSizes_;\n  }\n\n  /**\n   *  Sets the value of the `imageSizes` property.\n   *\n   *  @param imageSizes The value of the imageSizes property.\n   */\n  setImageSizes(imageSizes: number[]): void {\n    this.imageSizes_ = imageSizes;\n  }\n\n  /**\n   * Returns the value of the `calculator` property.\n   *\n   * @return the value of the calculator property.\n   */\n  getCalculator(): Calculator {\n    return this.calculator_;\n  }\n\n  /**\n   * Sets the value of the `calculator` property.\n   *\n   * @param calculator The value of the calculator property.\n   */\n  setCalculator(calculator: Calculator): void {\n    this.calculator_ = calculator;\n  }\n\n  /**\n   * Returns the value of the `batchSizeIE` property.\n   *\n   * @return the value of the batchSizeIE property.\n   */\n  getBatchSizeIE(): number {\n    return this.batchSizeIE_;\n  }\n\n  /**\n   * Sets the value of the `batchSizeIE` property.\n   *\n   *  @param batchSizeIE The value of the batchSizeIE property.\n   */\n  setBatchSizeIE(batchSizeIE: number): void {\n    this.batchSizeIE_ = batchSizeIE;\n  }\n\n  /**\n   * Returns the value of the `clusterClass` property.\n   *\n   * @return the value of the clusterClass property.\n   */\n  getClusterClass(): string {\n    return this.clusterClass_;\n  }\n\n  /**\n   * Sets the value of the `clusterClass` property.\n   *\n   *  @param clusterClass The value of the clusterClass property.\n   */\n  setClusterClass(clusterClass: string): void {\n    this.clusterClass_ = clusterClass;\n  }\n\n  /**\n   *  Returns the array of markers managed by the clusterer.\n   *\n   *  @return The array of markers managed by the clusterer.\n   */\n  getMarkers(): google.maps.Marker[] {\n    return this.markers_;\n  }\n\n  /**\n   *  Returns the number of markers managed by the clusterer.\n   *\n   *  @return The number of markers.\n   */\n  getTotalMarkers(): number {\n    return this.markers_.length;\n  }\n\n  /**\n   * Returns the current array of clusters formed by the clusterer.\n   *\n   * @return The array of clusters formed by the clusterer.\n   */\n  getClusters(): Cluster[] {\n    return this.clusters_;\n  }\n\n  /**\n   * Returns the number of clusters formed by the clusterer.\n   *\n   * @return The number of clusters formed by the clusterer.\n   */\n  getTotalClusters(): number {\n    return this.clusters_.length;\n  }\n\n  /**\n   * Adds a marker to the clusterer. The clusters are redrawn unless\n   *  `nodraw` is set to `true`.\n   *\n   * @param marker The marker to add.\n   * @param nodraw Set to `true` to prevent redrawing.\n   */\n  addMarker(marker: google.maps.Marker, nodraw?: boolean): void {\n    this.pushMarkerTo_(marker);\n    if (!nodraw) {\n      this.redraw_();\n    }\n  }\n\n  /**\n   * Adds an array of markers to the clusterer. The clusters are redrawn unless\n   *  `nodraw` is set to `true`.\n   *\n   * @param markers The markers to add.\n   * @param nodraw Set to `true` to prevent redrawing.\n   */\n  addMarkers(markers: google.maps.Marker[], nodraw?: boolean): void {\n    for (const key in markers) {\n      if (Object.prototype.hasOwnProperty.call(markers, key)) {\n        this.pushMarkerTo_(markers[key]);\n      }\n    }\n    if (!nodraw) {\n      this.redraw_();\n    }\n  }\n\n  /**\n   * Pushes a marker to the clusterer.\n   *\n   * @param marker The marker to add.\n   */\n  private pushMarkerTo_(\n    marker: google.maps.Marker & { isAdded?: boolean }\n  ): void {\n    // If the marker is draggable add a listener so we can update the clusters on the dragend:\n    if (marker.getDraggable()) {\n      google.maps.event.addListener(marker, \"dragend\", () => {\n        if (this.ready_) {\n          marker.isAdded = false;\n          this.repaint();\n        }\n      });\n    }\n    marker.isAdded = false;\n    this.markers_.push(marker);\n  }\n\n  /**\n   * Removes a marker from the cluster.  The clusters are redrawn unless\n   *  `nodraw` is set to `true`. Returns `true` if the\n   *  marker was removed from the clusterer.\n   *\n   * @param marker The marker to remove.\n   * @param nodraw Set to `true` to prevent redrawing.\n   * @return True if the marker was removed from the clusterer.\n   */\n  removeMarker(marker: google.maps.Marker, nodraw?: boolean): boolean {\n    const removed = this.removeMarker_(marker);\n\n    if (!nodraw && removed) {\n      this.repaint();\n    }\n\n    return removed;\n  }\n\n  /**\n   * Removes an array of markers from the cluster. The clusters are redrawn unless\n   *  `nodraw` is set to `true`. Returns `true` if markers were removed from the clusterer.\n   *\n   * @param markers The markers to remove.\n   * @param nodraw Set to `true` to prevent redrawing.\n   * @return True if markers were removed from the clusterer.\n   */\n  removeMarkers(markers: google.maps.Marker[], nodraw?: boolean): boolean {\n    let removed = false;\n\n    for (let i = 0; i < markers.length; i++) {\n      const r = this.removeMarker_(markers[i]);\n      removed = removed || r;\n    }\n\n    if (!nodraw && removed) {\n      this.repaint();\n    }\n\n    return removed;\n  }\n\n  /**\n   * Removes a marker and returns true if removed, false if not.\n   *\n   * @param marker The marker to remove\n   * @return Whether the marker was removed or not\n   */\n  private removeMarker_(marker: google.maps.Marker): boolean {\n    let index = -1;\n    if (this.markers_.indexOf) {\n      index = this.markers_.indexOf(marker);\n    } else {\n      for (let i = 0; i < this.markers_.length; i++) {\n        if (marker === this.markers_[i]) {\n          index = i;\n          break;\n        }\n      }\n    }\n\n    if (index === -1) {\n      // Marker is not in our list of markers, so do nothing:\n      return false;\n    }\n\n    marker.setMap(null);\n    this.markers_.splice(index, 1); // Remove the marker from the list of managed markers\n    return true;\n  }\n\n  /**\n   * Removes all clusters and markers from the map and also removes all markers\n   *  managed by the clusterer.\n   */\n  clearMarkers(): void {\n    this.resetViewport_(true);\n    this.markers_ = [];\n  }\n\n  /**\n   * Recalculates and redraws all the marker clusters from scratch.\n   *  Call this after changing any properties.\n   */\n  repaint(): void {\n    const oldClusters = this.clusters_.slice();\n    this.clusters_ = [];\n    this.resetViewport_(false);\n    this.redraw_();\n\n    // Remove the old clusters.\n    // Do it in a timeout to prevent blinking effect.\n    setTimeout(() => {\n      for (let i = 0; i < oldClusters.length; i++) {\n        oldClusters[i].remove();\n      }\n    }, 0);\n  }\n\n  /**\n   * Returns the current bounds extended by the grid size.\n   *\n   * @param bounds The bounds to extend.\n   * @return The extended bounds.\n   * @ignore\n   */\n  getExtendedBounds(\n    bounds: google.maps.LatLngBounds\n  ): google.maps.LatLngBounds {\n    const projection = this.getProjection();\n\n    // Turn the bounds into latlng.\n    const tr = new google.maps.LatLng(\n      bounds.getNorthEast().lat(),\n      bounds.getNorthEast().lng()\n    );\n    const bl = new google.maps.LatLng(\n      bounds.getSouthWest().lat(),\n      bounds.getSouthWest().lng()\n    );\n\n    // Convert the points to pixels and the extend out by the grid size.\n    const trPix = projection.fromLatLngToDivPixel(tr);\n    trPix.x += this.gridSize_;\n    trPix.y -= this.gridSize_;\n\n    const blPix = projection.fromLatLngToDivPixel(bl);\n    blPix.x -= this.gridSize_;\n    blPix.y += this.gridSize_;\n\n    // Convert the pixel points back to LatLng\n    const ne = projection.fromDivPixelToLatLng(trPix);\n    const sw = projection.fromDivPixelToLatLng(blPix);\n\n    // Extend the bounds to contain the new bounds.\n    bounds.extend(ne);\n    bounds.extend(sw);\n\n    return bounds;\n  }\n\n  /**\n   * Redraws all the clusters.\n   */\n  private redraw_(): void {\n    this.createClusters_(0);\n  }\n\n  /**\n   * Removes all clusters from the map. The markers are also removed from the map\n   *  if `hide` is set to `true`.\n   *\n   * @param hide Set to `true` to also remove the markers from the map.\n   */\n  private resetViewport_(hide?: boolean): void {\n    // Remove all the clusters\n    for (let i = 0; i < this.clusters_.length; i++) {\n      this.clusters_[i].remove();\n    }\n    this.clusters_ = [];\n\n    // Reset the markers to not be added and to be removed from the map.\n    for (let i = 0; i < this.markers_.length; i++) {\n      const marker = this.markers_[i];\n      marker.isAdded = false;\n      if (hide) {\n        marker.setMap(null);\n      }\n    }\n  }\n\n  /**\n   * Calculates the distance between two latlng locations in km.\n   *\n   * @param p1 The first lat lng point.\n   * @param p2 The second lat lng point.\n   * @return The distance between the two points in km.\n   * @link http://www.movable-type.co.uk/scripts/latlong.html\n   */\n  private distanceBetweenPoints_(\n    p1: google.maps.LatLng,\n    p2: google.maps.LatLng\n  ): number {\n    const R = 6371; // Radius of the Earth in km\n    const dLat = ((p2.lat() - p1.lat()) * Math.PI) / 180;\n    const dLon = ((p2.lng() - p1.lng()) * Math.PI) / 180;\n    const a =\n      Math.sin(dLat / 2) * Math.sin(dLat / 2) +\n      Math.cos((p1.lat() * Math.PI) / 180) *\n        Math.cos((p2.lat() * Math.PI) / 180) *\n        Math.sin(dLon / 2) *\n        Math.sin(dLon / 2);\n    const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\n    return R * c;\n  }\n\n  /**\n   * Determines if a marker is contained in a bounds.\n   *\n   * @param marker The marker to check.\n   * @param bounds The bounds to check against.\n   * @return True if the marker is in the bounds.\n   */\n  private isMarkerInBounds_(\n    marker: google.maps.Marker,\n    bounds: google.maps.LatLngBounds\n  ): boolean {\n    return bounds.contains(marker.getPosition());\n  }\n\n  /**\n   * Adds a marker to a cluster, or creates a new cluster.\n   *\n   * @param marker The marker to add.\n   */\n  private addToClosestCluster_(marker: google.maps.Marker): void {\n    let distance = 40000; // Some large number\n    let clusterToAddTo = null;\n    for (let i = 0; i < this.clusters_.length; i++) {\n      const cluster = this.clusters_[i];\n      const center = cluster.getCenter();\n      if (center) {\n        const d = this.distanceBetweenPoints_(center, marker.getPosition());\n        if (d < distance) {\n          distance = d;\n          clusterToAddTo = cluster;\n        }\n      }\n    }\n\n    if (clusterToAddTo && clusterToAddTo.isMarkerInClusterBounds(marker)) {\n      clusterToAddTo.addMarker(marker);\n    } else {\n      const cluster = new Cluster(this);\n      cluster.addMarker(marker);\n      this.clusters_.push(cluster);\n    }\n  }\n\n  /**\n   * Creates the clusters. This is done in batches to avoid timeout errors\n   *  in some browsers when there is a huge number of markers.\n   *\n   * @param iFirst The index of the first marker in the batch of\n   *  markers to be added to clusters.\n   */\n  private createClusters_(iFirst: number): void {\n    if (!this.ready_) {\n      return;\n    }\n\n    // Cancel previous batch processing if we're working on the first batch:\n    if (iFirst === 0) {\n      google.maps.event.trigger(this, \"clusteringbegin\", this);\n\n      if (typeof this.timerRefStatic !== \"undefined\") {\n        clearTimeout(this.timerRefStatic);\n        delete this.timerRefStatic;\n      }\n    }\n\n    // Get our current map view bounds.\n    // Create a new bounds object so we don't affect the map.\n    //\n    // See Comments 9 & 11 on Issue 3651 relating to this workaround for a Google Maps bug:\n    let mapBounds: google.maps.LatLngBounds;\n\n    if (this.getMap().getZoom() > 3) {\n      mapBounds = new google.maps.LatLngBounds(\n        (this.getMap() as google.maps.Map).getBounds().getSouthWest(),\n        (this.getMap() as google.maps.Map).getBounds().getNorthEast()\n      );\n    } else {\n      mapBounds = new google.maps.LatLngBounds(\n        new google.maps.LatLng(85.02070771743472, -178.48388434375),\n        new google.maps.LatLng(-85.08136444384544, 178.00048865625)\n      );\n    }\n    const bounds = this.getExtendedBounds(mapBounds);\n\n    const iLast = Math.min(iFirst + this.batchSize_, this.markers_.length);\n\n    for (let i = iFirst; i < iLast; i++) {\n      const marker = this.markers_[i];\n      if (!marker.isAdded && this.isMarkerInBounds_(marker, bounds)) {\n        if (\n          !this.ignoreHidden_ ||\n          (this.ignoreHidden_ && marker.getVisible())\n        ) {\n          this.addToClosestCluster_(marker);\n        }\n      }\n    }\n\n    if (iLast < this.markers_.length) {\n      this.timerRefStatic = window.setTimeout(() => {\n        this.createClusters_(iLast);\n      }, 0);\n    } else {\n      delete this.timerRefStatic;\n      google.maps.event.trigger(this, \"clusteringend\", this);\n\n      for (let i = 0; i < this.clusters_.length; i++) {\n        this.clusters_[i].updateIcon();\n      }\n    }\n  }\n\n  /**\n   * The default function for determining the label text and style\n   * for a cluster icon.\n   *\n   * @param markers The array of markers represented by the cluster.\n   * @param numStyles The number of marker styles available.\n   * @return The information resource for the cluster.\n   */\n  static CALCULATOR(\n    markers: google.maps.Marker[],\n    numStyles: number\n  ): ClusterIconInfo {\n    let index = 0;\n    const count: number = markers.length;\n\n    let dv = count;\n    while (dv !== 0) {\n      dv = Math.floor(dv / 10);\n      index++;\n    }\n\n    index = Math.min(index, numStyles);\n    return {\n      text: count.toString(),\n      index: index,\n      title: \"\",\n    };\n  }\n\n  /**\n   * Generates default styles augmented with user passed values.\n   * Useful when you want to override some default values but keep untouched\n   *\n   * @param overrides override default values\n   */\n  static withDefaultStyle(overrides: ClusterIconStyle): ClusterIconStyle {\n    return {\n      textColor: \"black\",\n      textSize: 11,\n      textDecoration: \"none\",\n      textLineHeight: overrides.height,\n      fontWeight: \"bold\",\n      fontStyle: \"normal\",\n      fontFamily: \"Arial,sans-serif\",\n      backgroundPosition: \"0 0\",\n      ...overrides,\n    };\n  }\n}\n","export const MAP_STYLE = [\r\n\t{\r\n\t\t\"featureType\": \"administrative\",\r\n\t\t\"elementType\": \"labels.text.fill\",\r\n\t\t\"stylers\": [\r\n\t\t\t{\r\n\t\t\t\t\"color\": \"#444444\"\r\n\t\t\t}\r\n\t\t]\r\n\t},\r\n\t{\r\n\t\t\"featureType\": \"landscape\",\r\n\t\t\"elementType\": \"all\",\r\n\t\t\"stylers\": [\r\n\t\t\t{\r\n\t\t\t\t\"color\": \"#f2f2f2\"\r\n\t\t\t}\r\n\t\t]\r\n\t},\r\n\t{\r\n\t\t\"featureType\": \"poi\",\r\n\t\t\"elementType\": \"all\",\r\n\t\t\"stylers\": [\r\n\t\t\t{\r\n\t\t\t\t\"visibility\": \"off\"\r\n\t\t\t}\r\n\t\t]\r\n\t},\r\n\t{\r\n\t\t\"featureType\": \"road\",\r\n\t\t\"elementType\": \"all\",\r\n\t\t\"stylers\": [\r\n\t\t\t{\r\n\t\t\t\t\"saturation\": -100\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"lightness\": 45\r\n\t\t\t}\r\n\t\t]\r\n\t},\r\n\t{\r\n\t\t\"featureType\": \"road.highway\",\r\n\t\t\"elementType\": \"all\",\r\n\t\t\"stylers\": [\r\n\t\t\t{\r\n\t\t\t\t\"visibility\": \"simplified\"\r\n\t\t\t}\r\n\t\t]\r\n\t},\r\n\t{\r\n\t\t\"featureType\": \"road.arterial\",\r\n\t\t\"elementType\": \"labels.icon\",\r\n\t\t\"stylers\": [\r\n\t\t\t{\r\n\t\t\t\t\"visibility\": \"off\"\r\n\t\t\t}\r\n\t\t]\r\n\t},\r\n\t{\r\n\t\t\"featureType\": \"transit\",\r\n\t\t\"elementType\": \"all\",\r\n\t\t\"stylers\": [\r\n\t\t\t{\r\n\t\t\t\t\"visibility\": \"off\"\r\n\t\t\t}\r\n\t\t]\r\n\t},\r\n\t{\r\n\t\t\"featureType\": \"water\",\r\n\t\t\"elementType\": \"all\",\r\n\t\t\"stylers\": [\r\n\t\t\t{\r\n\t\t\t\t\"color\": \"#e2e0df\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"visibility\": \"on\"\r\n\t\t\t}\r\n\t\t]\r\n\t}\r\n];\r\n","import { ApiService } from '../../core/api/api.service';\r\n\r\nexport class MaterialsService {\r\n\r\n\tstatic all$() {\r\n\t\treturn ApiService.get$('/materials/all.json');\r\n\t}\r\n\r\n\tstatic filters$() {\r\n\t\treturn ApiService.get$('/materials/filters.json');\r\n\t}\r\n\r\n}\r\n","import { Component, getContext } from 'rxcomp';\nimport { FormControl, FormGroup, Validators } from 'rxcomp-form';\nimport { combineLatest } from 'rxjs';\nimport { first, takeUntil } from 'rxjs/operators';\nimport { FilterMode } from '../../core/filter/filter-item';\nimport { FilterService } from '../../core/filter/filter.service';\nimport { LocomotiveScrollService } from '../../core/locomotive-scroll/locomotive-scroll.service';\nimport { MaterialsService } from './materials.service';\n\nexport class MaterialsComponent extends Component {\n\n\tonInit() {\n\t\tthis.selectedItem = null;\n\t\tthis.items = [];\n\t\tthis.filteredItems = [];\n\t\tthis.filters = {};\n\t\tconst form = this.form = new FormGroup({\n\t\t\tcategory: new FormControl(null, [Validators.RequiredValidator()]),\n\t\t});\n\t\tconst controls = this.controls = form.controls;\n\t\tform.changes$.pipe(\n\t\t\ttakeUntil(this.unsubscribe$)\n\t\t).subscribe((_) => {\n\t\t\tthis.setFilterByKeyAndValue('category', form.value.category);\n\t\t\tthis.pushChanges();\n\t\t});\n\t\tthis.load$().pipe(\n\t\t\tfirst(),\n\t\t).subscribe(data => {\n\t\t\tthis.items = data[0];\n\t\t\tthis.filters = data[1];\n\t\t\tconst options = this.filters.category.options.slice().map(x => ({ id: x.value, name: x.label }));\n\t\t\tcontrols.category.options = options;\n\t\t\tthis.onLoad();\n\t\t\tthis.pushChanges();\n\t\t});\n\t}\n\n\tload$() {\n\t\treturn combineLatest([\n\t\t\tMaterialsService.all$(),\n\t\t\tMaterialsService.filters$(),\n\t\t]);\n\t}\n\n\tonLoad() {\n\t\tconst items = this.items;\n\t\tconst filters = this.filters;\n\t\tObject.keys(filters).forEach(key => {\n\t\t\tfilters[key].mode = filters[key].mode || FilterMode.OR;\n\t\t});\n\t\tconst initialParams = {};\n\t\tconst filterService = new FilterService(filters, initialParams, (key, filter) => {\n\t\t\tswitch (key) {\n\t\t\t\tdefault:\n\t\t\t\t\tfilter.filter = (item, value) => {\n\t\t\t\t\t\tswitch (key) {\n\t\t\t\t\t\t\tcase 'category':\n\t\t\t\t\t\t\t\treturn item.category.id === value;\n\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t}\n\t\t});\n\t\tthis.filterService = filterService;\n\t\tthis.filters = filterService.filters;\n\t\tconst category = this.filters.category.values.length ? this.filters.category.values[0] : null;\n\t\tthis.form.patch({ category, search });\n\t\tfilterService.items$(items).pipe(\n\t\t\ttakeUntil(this.unsubscribe$),\n\t\t).subscribe(filteredItems => {\n\t\t\tthis.filteredItems = filteredItems;\n\t\t\tthis.pushChanges();\n\t\t\tLocomotiveScrollService.update();\n\t\t\t// console.log('MaterialsComponent.filteredItems', filteredItems.length);\n\t\t});\n\t}\n\n\tsetFilterByKeyAndValue(key, value) {\n\t\tconst filter = this.filters[key];\n\t\tif (filter) {\n\t\t\tif (filter.mode === FilterMode.QUERY) {\n\t\t\t\tfilter.set(value);\n\t\t\t} else {\n\t\t\t\tconst option = filter.options.find(x => x.value === value);\n\t\t\t\t// console.log(filter.options, option);\n\t\t\t\tif (option) {\n\t\t\t\t\tfilter.set(option);\n\t\t\t\t} else {\n\t\t\t\t\tfilter.clear();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tonToggle(item) {\n\t\tthis.selectedItem = this.selectedItem === item ? null : item;\n\t\t/*\n\t\tif (this.selectedItem) {\n\t\t\tconst selector = '#cat-' + item.category.id + '-' + item.id;\n\t\t\tthis.scrollTo(selector);\n\t\t}\n\t\t*/\n\t\tthis.pushChanges();\n\t}\n\n\tscrollTo(selector, event) {\n\t\tif (event) {\n\t\t\tevent.preventDefault();\n\t\t}\n\t\tconst { node } = getContext(this);\n\t\tconst target = node.querySelector(selector);\n\t\tLocomotiveScrollService.scrollTo(target, { offset: - 160 });\n\t}\n\n\tclearFilter(event, filter) {\n\t\tevent.preventDefault();\n\t\tevent.stopImmediatePropagation();\n\t\tfilter.clear();\n\t\tthis.pushChanges();\n\t}\n}\n\nMaterialsComponent.meta = {\n\tselector: '[materials]',\n};\n","import { Directive, getContext } from 'rxcomp';\r\n\r\nconst MENUS = [];\r\n\r\nexport class MenuDirective extends Directive {\r\n\r\n\tonInit() {\r\n\t\tconst { node } = getContext(this);\r\n\t\tconst submenus = this.submenus = document.querySelector(`.group--submenus`);\r\n\t\tconst target = this.target = document.querySelector(`#menu-${this.menu}`);\r\n\t\tconst container = this.container = target.querySelector(`.container`);\r\n\t\tthis.onOver = this.onOver.bind(this);\r\n\t\tthis.onLeave = this.onLeave.bind(this);\r\n\t\tnode.addEventListener('click', this.onOver);\r\n\t\tMENUS.push(this);\r\n\t}\r\n\r\n\tonOver(event) {\r\n\t\tevent.preventDefault();\r\n\t\tMENUS.forEach(x => x.onLeave(true));\r\n\t\tconst submenus = this.submenus;\r\n\t\tsubmenus.classList.add('active');\r\n\t\tconst target = this.target;\r\n\t\ttarget.classList.add('active');\r\n\t\tconst container = this.container;\r\n\t\tcontainer.addEventListener('mouseleave', this.onLeave);\r\n\t}\r\n\r\n\tonLeave(keepBackground) {\r\n\t\tif (keepBackground !== true) {\r\n\t\t\tconst submenus = this.submenus;\r\n\t\t\tsubmenus.classList.remove('active');\r\n\t\t}\r\n\t\tconst target = this.target;\r\n\t\ttarget.classList.remove('active');\r\n\t\tconst container = this.container;\r\n\t\tcontainer.removeEventListener('mouseleave', this.onLeave);\r\n\t}\r\n\r\n\tonDestroy() {\r\n\t\tthis.onLeave();\r\n\t\tconst { node } = getContext(this);\r\n\t\tnode.removeEventListener('mouseover', this.onOver);\r\n\t}\r\n}\r\n\r\nMenuDirective.meta = {\r\n\tselector: '[menu]',\r\n\tinputs: ['menu'],\r\n};\r\n","import { ApiService } from '../../core/api/api.service';\r\n\r\nexport class NewsService {\r\n\r\n\tstatic all$() {\r\n\t\treturn ApiService.get$('/news/all.json');\r\n\t}\r\n\r\n\tstatic filters$() {\r\n\t\treturn ApiService.get$('/news/filters.json');\r\n\t}\r\n\r\n}\r\n","import { Component } from 'rxcomp';\nimport { FormControl, FormGroup, Validators } from 'rxcomp-form';\nimport { combineLatest } from 'rxjs';\nimport { first, takeUntil } from 'rxjs/operators';\nimport { FilterMode } from '../../core/filter/filter-item';\nimport { FilterService } from '../../core/filter/filter.service';\nimport { LocomotiveScrollService } from '../../core/locomotive-scroll/locomotive-scroll.service';\nimport { NewsService } from './news.service';\n\nexport class NewsComponent extends Component {\n\n\tonInit() {\n\t\tthis.items = [];\n\t\tthis.filteredItems = [];\n\t\tthis.filters = {};\n\t\tconst form = this.form = new FormGroup({\n\t\t\tcountry: new FormControl(null, [Validators.RequiredValidator()]),\n\t\t\tsearch: new FormControl(null, [Validators.RequiredValidator()]),\n\t\t});\n\t\tconst controls = this.controls = form.controls;\n\t\tform.changes$.pipe(\n\t\t\ttakeUntil(this.unsubscribe$)\n\t\t).subscribe((_) => {\n\t\t\t// console.log('NewsComponent.changes$', form.value);\n\t\t\tthis.setFilterByKeyAndValue('country', form.value.country);\n\t\t\tthis.setFilterByKeyAndValue('search', form.value.search);\n\t\t\tthis.pushChanges();\n\t\t});\n\t\tthis.load$().pipe(\n\t\t\tfirst(),\n\t\t).subscribe(data => {\n\t\t\tthis.items = data[0];\n\t\t\tthis.filters = data[1];\n\t\t\tconst options = this.filters.country.options.slice().map(x => ({ id: x.value, name: x.label }));\n\t\t\toptions.unshift({ id: null, name: 'select' }); // , // LabelPipe.transform('select')\n\t\t\tcontrols.country.options = options;\n\t\t\tthis.onLoad();\n\t\t\tthis.pushChanges();\n\t\t});\n\t}\n\n\tload$() {\n\t\treturn combineLatest([\n\t\t\tNewsService.all$(),\n\t\t\tNewsService.filters$(),\n\t\t]);\n\t}\n\n\tonLoad() {\n\t\tconst items = this.items;\n\t\tconst filters = this.filters;\n\t\tObject.keys(filters).forEach(key => {\n\t\t\tfilters[key].mode = filters[key].mode || FilterMode.OR;\n\t\t});\n\t\tconst initialParams = {};\n\t\tconst filterService = new FilterService(filters, initialParams, (key, filter) => {\n\t\t\tswitch (key) {\n\t\t\t\tdefault:\n\t\t\t\t\tfilter.filter = (item, value) => {\n\t\t\t\t\t\tswitch (key) {\n\t\t\t\t\t\t\tcase 'country':\n\t\t\t\t\t\t\t\treturn item.country.id === value;\n\t\t\t\t\t\t\tcase 'search':\n\t\t\t\t\t\t\t\treturn item.title.toLowerCase().indexOf(value.toLowerCase()) !== -1 ||\n\t\t\t\t\t\t\t\t\titem.abstract.toLowerCase().indexOf(value.toLowerCase()) !== -1\n\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t}\n\t\t});\n\t\tthis.filterService = filterService;\n\t\tthis.filters = filterService.filters;\n\t\tconst country = this.filters.country.values.length ? this.filters.country.values[0] : null;\n\t\tconst search = this.filters.search.values.length ? this.filters.search.values[0] : null;\n\t\tthis.form.patch({ country, search });\n\t\tfilterService.items$(items).pipe(\n\t\t\ttakeUntil(this.unsubscribe$),\n\t\t).subscribe(filteredItems => {\n\t\t\tthis.filteredItems = filteredItems;\n\t\t\tthis.pushChanges();\n\t\t\tLocomotiveScrollService.update();\n\t\t\t// console.log('NewsComponent.filteredItems', filteredItems.length);\n\t\t});\n\t}\n\n\tsetFilterByKeyAndValue(key, value) {\n\t\tconst filter = this.filters[key];\n\t\tif (filter) {\n\t\t\tif (filter.mode === FilterMode.QUERY) {\n\t\t\t\tfilter.set(value);\n\t\t\t} else {\n\t\t\t\tconst option = filter.options.find(x => x.value === value);\n\t\t\t\t// console.log(filter.options, option);\n\t\t\t\tif (option) {\n\t\t\t\t\tfilter.set(option);\n\t\t\t\t} else {\n\t\t\t\t\tfilter.clear();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tonSearch(model) {\n\t\t// console.log('NewsComponent.onSearch', this.form.value);\n\t\tthis.setFilterByKeyAndValue('country', this.form.value.country);\n\t\tthis.setFilterByKeyAndValue('search', this.form.value.search);\n\t\tthis.pushChanges();\n\t}\n\n\tclearFilter(event, filter) {\n\t\tevent.preventDefault();\n\t\tevent.stopImmediatePropagation();\n\t\tfilter.clear();\n\t\tthis.pushChanges();\n\t}\n}\n\nNewsComponent.meta = {\n\tselector: '[news]',\n};\n","import { Component } from 'rxcomp';\nimport { FormControl, FormGroup, Validators } from 'rxcomp-form';\nimport { takeUntil } from 'rxjs/operators';\n\nexport class NewsletterPropositionComponent extends Component {\n\n\tonInit() {\n\t\tconst form = this.form = new FormGroup({\n\t\t\temail: new FormControl(null, [Validators.RequiredValidator()]),\n\t\t});\n\t\tconst controls = this.controls = form.controls;\n\t\tform.changes$.pipe(\n\t\t\ttakeUntil(this.unsubscribe$)\n\t\t).subscribe((_) => {\n\t\t\tthis.pushChanges();\n\t\t});\n\t}\n\n\tonNewsletter(event) {\n\t\tconsole.log('NewsletterPropositionComponent.onNewsletter', this.form.value);\n\t}\n}\n\nNewsletterPropositionComponent.meta = {\n\tselector: '[newsletter-proposition]',\n};\n","import { Component, getContext } from 'rxcomp';\r\nimport { first } from 'rxjs/operators';\r\nimport { HttpService } from '../../core/http/http.service';\r\nimport { LocomotiveScrollService } from '../../core/locomotive-scroll/locomotive-scroll.service';\r\n\r\nconst breadcumbStyle = `font-size: .8rem; text-transform: uppercase; letter-spacing: 0.075em; color: #37393b;`;\r\nconst titleStyle = `letter-spacing: 0; font-family: 'Bauer Bodoni', sans-serif; font-size: 2.9rem; margin: 0;word-wrap: break-word;text-transform: uppercase;color:#37393b;`;\r\nconst designerStyle = `font-size: .8rem; letter-spacing: 0.075em;margin-bottom: 15px;word-wrap: break-word;text-transform: uppercase;`;\r\nconst descriptionStyle = `font-size: .8rem; text-align: left;margin-bottom: 15px; letter-spacing: 0.05em;`;\r\n\r\nconst key = 'a9$hhVGHxos';\r\n\r\nexport class ProductsConfigureComponent extends Component {\r\n\r\n\tonInit() {\r\n\t\tthis.isReady = false;\r\n\t\tthis.isComplete = false;\r\n\t\tthis.isConfiguring = false;\r\n\t\tconst { node } = getContext(this);\r\n\t\tconst iframe = this.iframe = node.querySelector('#showefy');\r\n\t\tif (!iframe) {\r\n\t\t\tthrow ('missing iframe');\r\n\t\t}\r\n\t\tthis.onEvent = this.onEvent.bind(this);\r\n\r\n\t\tHttpService.http$('POST', 'https://www.showefy.com/en/ApiExt/token/v1', { grant_type: 'client_credentials' }, 'json', 'giorgetti:AGdW%Q_8@Pe,2&#').pipe(\r\n\t\t\tfirst(),\r\n\t\t).subscribe(response => {\r\n\t\t\tconsole.log(response);\r\n\t\t});\r\n\r\n\t\tconst sfy = this.sfy = new SFYFrame(iframe, key, this.onEvent);\r\n\t\tsfy.init();\r\n\t\tconsole.log('ProductsConfigureComponent.onInit', sfy, iframe);\r\n\t}\r\n\r\n\tgetIframeDocument(iframe) {\r\n\t\tconst content = iframe.contentWindow || iframe.contentDocument\r\n\t\tconst iframeDocument = content.document ? content.document : content;\r\n\t\treturn iframeDocument;\r\n\t}\r\n\r\n\tonEvent(data) {\r\n\t\tconst event = JSON.parse(data);\r\n\t\tconst eventName = event.emit;\r\n\t\tif (event.status == 0) {\r\n\t\t\t// console.log('ProductsConfigureComponent.onEvent', event);\r\n\t\t\tswitch (eventName) {\r\n\t\t\t\tcase 'showefy_ready':\r\n\t\t\t\t\tthis.onReady(event);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'showefy_complete':\r\n\t\t\t\t\tthis.onShowefyComplete(event);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'start_configurator':\r\n\t\t\t\t\tthis.onStartConfigurator(event);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'button_pressed':\r\n\t\t\t\t\tthis.onButtonPressed(event);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'setButtonStatus':\r\n\t\t\t\t\tthis.onSetButtonStatus(event);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'getIframeSize':\r\n\t\t\t\t\tthis.onGetIframeSize(event);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'getProductExtData':\r\n\t\t\t\t\tthis.onGetProductExtData(event);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'getFastProductExtData':\r\n\t\t\t\t\tthis.onGetFastProductExtData(event);\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tif (this.isConfiguring && this.isReady && this.isComplete) {\r\n\t\t\t\tconsole.log('set taratura impaginazione configuratore');\r\n\t\t\t\tconst { node } = getContext(this);\r\n\t\t\t\t// window.scroll(0, findPos(document.getElementById('container_ifrshowefy')));\r\n\t\t\t\tLocomotiveScrollService.update();\r\n\t\t\t\tLocomotiveScrollService.scrollTo(node, { offset: -100 });\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tconsole.log('ProductsConfigureComponent.onEvent.error', event.status, event.statusTxt, eventName);\r\n\t\t}\r\n\t}\r\n\r\n\tonReady(event) {\r\n\t\tconsole.log('ProductsConfigureComponent.onReady', event);\r\n\t\tthis.isReady = true;\r\n\t\tthis.addTexts();\r\n\t\tthis.addButtons();\r\n\t\tthis.addBreadcrumb();\r\n\t\treturn;\r\n\t\tconst iframeDocument = this.getIframeDocument(this.iframe);\r\n\t\tconsole.log(iframeDocument.querySelector('head'));\r\n\t\tconst style = iframeDocument.createElement('style');\r\n\t\tstyle.innerHTML = `\r\n\t\t\t* {\r\n\t\t\t\tbackground: none!important;\r\n\t\t\t}\r\n\t\t`;\r\n\t\tconst head = iframeDocument.querySelector('head');\r\n\t\thead.appendChild(style);\r\n\t}\r\n\r\n\tonShowefyComplete(event) {\r\n\t\tconsole.log('ProductsConfigureComponent.onShowefyComplete', event);\r\n\t\tif (this.isConfiguring) {\r\n\t\t\tthis.isComplete = true;\r\n\t\t}\r\n\t}\r\n\r\n\tonStartConfigurator(event) {\r\n\t\tconsole.log('ProductsConfigureComponent.onStartConfigurator', event);\r\n\t\tthis.isConfiguring = true;\r\n\t}\r\n\r\n\tonButtonPressed(event) {\r\n\t\tconsole.log('ProductsConfigureComponent.onButtonPressed', event, 'buttonId', event.data.id);\r\n\t}\r\n\r\n\tonSetButtonStatus(event) {\r\n\t\tconsole.log('ProductsConfigureComponent.onSetButtonStatus', event);\r\n\t}\r\n\r\n\tonGetIframeSize(event) {\r\n\t\tconsole.log('ProductsConfigureComponent.onGetIframeSize', event);\r\n\t}\r\n\r\n\tonGetProductExtData(event) {\r\n\t\tconsole.log('ProductsConfigureComponent.onGetProductExtData', event);\r\n\t}\r\n\r\n\tonGetFastProductExtData(event) {\r\n\t\tconsole.log('ProductsConfigureComponent.onGetFastProductExtData', event);\r\n\t}\r\n\r\n\tfindPos(obj) {\r\n\t\tlet curtop = 0;\r\n\t\tif (obj.offsetParent) {\r\n\t\t\tdo {\r\n\t\t\t\tcurtop += obj.offsetTop;\r\n\t\t\t} while (obj = obj.offsetParent);\r\n\t\t\treturn [curtop];\r\n\t\t}\r\n\t}\r\n\r\n\t// methods\r\n\r\n\taddTexts() {\r\n\t\tconst sfy = this.sfy;\r\n\t\tconst html = sfy.HTML;\r\n\t\tlet index = 0;\r\n\t\thtml.text[index++] = /* html */`<h1 style=\"${titleStyle}\">Nome Prodotto</h1>`;\r\n\t\thtml.text[index++] = /* html */`<h5 style=\"${designerStyle}\">Designer</h5>`;\r\n\t\thtml.text[index++] = /* html */`<div style=\"${descriptionStyle}\"><p>Descrizione</p></div>`;\r\n\t\tsfy.printHTML(html);\r\n\t}\r\n\r\n\taddButtons() {\r\n\t\tconst sfy = this.sfy;\r\n\t\tconst buttons = sfy.BUTTONS;\r\n\r\n\t\tlet index = 0;\r\n\t\tbuttons.element[index] = new sfy.PROPERTIES();\r\n\t\tbuttons.element[index].visibility = true;\r\n\t\tbuttons.element[index].id = 'order';\r\n\t\tbuttons.element[index].label = new sfy.LABEL();\r\n\t\tbuttons.element[index].label.en = 'ADD TO CART';\r\n\t\tindex++;\r\n\r\n\t\tbuttons.element[index] = new sfy.PROPERTIES();\r\n\t\tbuttons.element[index].visibility = true;\r\n\t\tbuttons.element[index].id = 'save_configuration';\r\n\t\tbuttons.element[index].label = new sfy.LABEL();\r\n\t\tbuttons.element[index].label.en = 'SAVE CONFIGURATION';\r\n\t\tindex++;\r\n\r\n\t\tsfy.setButtonStatus(buttons);\r\n\t}\r\n\r\n\taddBreadcrumb() {\r\n\t\tconst sfy = this.sfy;\r\n\t\tconst breadcrumb = sfy.BREADCUMB;\r\n\r\n\t\tlet index = 0;\r\n\r\n\t\tbreadcrumb.element[index] = new sfy.PROPERTIES();\r\n\t\tbreadcrumb.element[index].visibility = true;\r\n\t\tbreadcrumb.element[index].id = 'breadcumb_home';\r\n\t\tbreadcrumb.element[index].label = new sfy.LABEL();\r\n\t\tbreadcrumb.element[index].label.en = /* html */` Home <span aria-hidden='true'>/</span>&nbsp; `;\r\n\t\tbreadcrumb.element[index].style = breadcumbStyle;\r\n\t\tindex++;\r\n\r\n\t\tbreadcrumb.element[index] = new sfy.PROPERTIES();\r\n\t\tbreadcrumb.element[index].visibility = true;\r\n\t\tbreadcrumb.element[index].id = 'breadcumb_products';\r\n\t\tbreadcrumb.element[index].label = new sfy.LABEL();\r\n\t\tbreadcrumb.element[index].label.en = /* html */` Products <span aria-hidden='true'>/</span>&nbsp; `;\r\n\t\tbreadcrumb.element[index].style = breadcumbStyle;\r\n\t\tindex++;\r\n\r\n\t\tbreadcrumb.element[index] = new sfy.PROPERTIES();\r\n\t\tbreadcrumb.element[index].visibility = true;\r\n\t\tbreadcrumb.element[index].id = 'breadcumb_products';\r\n\t\tbreadcrumb.element[index].label = new sfy.LABEL();\r\n\t\tbreadcrumb.element[index].label.en = /* html */` Nome prodotto`;\r\n\t\tbreadcrumb.element[index].style = breadcumbStyle;\r\n\t\tindex++;\r\n\r\n\t\tsfy.printBreadcumb(breadcrumb);\r\n\t}\r\n\r\n\tgetCartData() {\r\n\t\tconst sfy = this.sfy;\r\n\t\tif (sfy) {\r\n\t\t\tsfy.getProductExtData();\r\n\t\t}\r\n\t}\r\n\r\n\tgetFastData() {\r\n\t\tconst sfy = this.sfy;\r\n\t\tif (sfy) {\r\n\t\t\tsfy.getFastProductExtData();\r\n\t\t}\r\n\t}\r\n}\r\n\r\nProductsConfigureComponent.meta = {\r\n\tselector: '[products-configure]',\r\n};\r\n","import { ApiService } from '../../core/api/api.service';\r\n\r\nexport class ProductsDetailService {\r\n\r\n\tstatic versions$() {\r\n\t\treturn ApiService.get$('/products-detail/versions.json');\r\n\t}\r\n\r\n}\r\n","import { Component, getContext } from 'rxcomp';\nimport { first } from 'rxjs/operators';\nimport { LocomotiveScrollService } from '../../core/locomotive-scroll/locomotive-scroll.service';\nimport { environment } from '../../environment';\nimport { ProductsDetailService } from './products-detail.service';\n\nexport class ProductsDetailComponent extends Component {\n\n\tonInit() {\n\t\tthis.items = [];\n\t\tthis.visibleItems = [];\n\t\tProductsDetailService.versions$().pipe(\n\t\t\tfirst(),\n\t\t).subscribe(items => {\n\t\t\tthis.items = items;\n\t\t\tthis.visibleItems = this.items.slice(0, Math.min(4, this.items.length));\n\t\t\tthis.pushChanges();\n\t\t});\n\t}\n\n\tscrollTo(id) {\n\t\tconst { node } = getContext(this);\n\t\tconst target = node.querySelector(id);\n\t\tif (target) {\n\t\t\tLocomotiveScrollService.scrollTo(target, { offset: -200 });\n\t\t}\n\t}\n\n\tshowVersions(event) {\n\t\tthis.visibleItems = this.items.slice();\n\t\tthis.pushChanges();\n\t\tLocomotiveScrollService.update();\n\t}\n\n\tconfigureProduct(event) {\n\t\twindow.location.href = environment.slug.configureProduct;\n\t}\n}\n\nProductsDetailComponent.meta = {\n\tselector: '[products-detail]',\n};\n","import { ApiService } from '../../core/api/api.service';\r\n\r\nexport class ProjectsService {\r\n\r\n\tstatic all$() {\r\n\t\treturn ApiService.get$('/projects/all.json');\r\n\t}\r\n\r\n\tstatic filters$() {\r\n\t\treturn ApiService.get$('/projects/filters.json');\r\n\t}\r\n\r\n}\r\n","import { Component } from 'rxcomp';\nimport { FormControl, FormGroup, Validators } from 'rxcomp-form';\nimport { combineLatest } from 'rxjs';\nimport { first, takeUntil } from 'rxjs/operators';\nimport { FilterMode } from '../../core/filter/filter-item';\nimport { FilterService } from '../../core/filter/filter.service';\nimport { LocomotiveScrollService } from '../../core/locomotive-scroll/locomotive-scroll.service';\nimport { ProjectsService } from './projects.service';\n\nexport class ProjectsComponent extends Component {\n\n\tonInit() {\n\t\tthis.items = [];\n\t\tthis.filteredItems = [];\n\t\tthis.filters = {};\n\t\tconst form = this.form = new FormGroup({\n\t\t\tcategory: new FormControl(null, [Validators.RequiredValidator()]),\n\t\t\tsearch: new FormControl(null, [Validators.RequiredValidator()]),\n\t\t});\n\t\tconst controls = this.controls = form.controls;\n\t\tform.changes$.pipe(\n\t\t\ttakeUntil(this.unsubscribe$)\n\t\t).subscribe((_) => {\n\t\t\t// console.log('ProjectsComponent.changes$', form.value);\n\t\t\tthis.setFilterByKeyAndValue('category', form.value.category);\n\t\t\tthis.setFilterByKeyAndValue('search', form.value.search);\n\t\t\tthis.pushChanges();\n\t\t});\n\t\tthis.load$().pipe(\n\t\t\tfirst(),\n\t\t).subscribe(data => {\n\t\t\tthis.items = data[0];\n\t\t\tthis.filters = data[1];\n\t\t\tconst options = this.filters.category.options.slice().map(x => ({ id: x.value, name: x.label }));\n\t\t\toptions.unshift({ id: null, name: 'select' }); // , // LabelPipe.transform('select')\n\t\t\tcontrols.category.options = options;\n\t\t\tthis.onLoad();\n\t\t\tthis.pushChanges();\n\t\t});\n\t}\n\n\tload$() {\n\t\treturn combineLatest([\n\t\t\tProjectsService.all$(),\n\t\t\tProjectsService.filters$(),\n\t\t]);\n\t}\n\n\tonLoad() {\n\t\tconst items = this.items;\n\t\tconst filters = this.filters;\n\t\tObject.keys(filters).forEach(key => {\n\t\t\tfilters[key].mode = filters[key].mode || FilterMode.OR;\n\t\t});\n\t\tconst initialParams = {};\n\t\tconst filterService = new FilterService(filters, initialParams, (key, filter) => {\n\t\t\tswitch (key) {\n\t\t\t\tdefault:\n\t\t\t\t\tfilter.filter = (item, value) => {\n\t\t\t\t\t\tswitch (key) {\n\t\t\t\t\t\t\tcase 'category':\n\t\t\t\t\t\t\t\treturn item.category.id === value;\n\t\t\t\t\t\t\tcase 'search':\n\t\t\t\t\t\t\t\treturn item.title.toLowerCase().indexOf(value.toLowerCase()) !== -1 ||\n\t\t\t\t\t\t\t\t\titem.country.toLowerCase().indexOf(value.toLowerCase()) !== -1\n\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t}\n\t\t});\n\t\tthis.filterService = filterService;\n\t\tthis.filters = filterService.filters;\n\t\tconst category = this.filters.category.values.length ? this.filters.category.values[0] : null;\n\t\tconst search = this.filters.search.values.length ? this.filters.search.values[0] : null;\n\t\tthis.form.patch({ category, search });\n\t\tfilterService.items$(items).pipe(\n\t\t\ttakeUntil(this.unsubscribe$),\n\t\t).subscribe(filteredItems => {\n\t\t\tthis.filteredItems = filteredItems;\n\t\t\tthis.pushChanges();\n\t\t\tLocomotiveScrollService.update();\n\t\t\t// console.log('ProjectsComponent.filteredItems', filteredItems.length);\n\t\t});\n\t}\n\n\tsetFilterByKeyAndValue(key, value) {\n\t\tconst filter = this.filters[key];\n\t\tif (filter) {\n\t\t\tif (filter.mode === FilterMode.QUERY) {\n\t\t\t\tfilter.set(value);\n\t\t\t} else {\n\t\t\t\tconst option = filter.options.find(x => x.value === value);\n\t\t\t\t// console.log(filter.options, option);\n\t\t\t\tif (option) {\n\t\t\t\t\tfilter.set(option);\n\t\t\t\t} else {\n\t\t\t\t\tfilter.clear();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tonSearch(model) {\n\t\t// console.log('ProjectsComponent.onSearch', this.form.value);\n\t\tthis.setFilterByKeyAndValue('category', this.form.value.category);\n\t\tthis.setFilterByKeyAndValue('search', this.form.value.search);\n\t\tthis.pushChanges();\n\t}\n\n\tclearFilter(event, filter) {\n\t\tevent.preventDefault();\n\t\tevent.stopImmediatePropagation();\n\t\tfilter.clear();\n\t\tthis.pushChanges();\n\t}\n}\n\nProjectsComponent.meta = {\n\tselector: '[projects]',\n};\n","import { map } from 'rxjs/operators';\r\nimport { ApiService } from '../../core/api/api.service';\r\n\r\nexport class StoreLocatorService {\r\n\r\n\tstatic all$() {\r\n\t\treturn ApiService.get$('/store-locator/all.json').pipe(\r\n\t\t\tmap(items => items.sort((a, b) => {\r\n\t\t\t\treturn a.rank - b.rank;\r\n\t\t\t})),\r\n\t\t);\r\n\t}\r\n\r\n\tstatic filters$() {\r\n\t\treturn ApiService.get$('/store-locator/filters.json');\r\n\t}\r\n\r\n}\r\n","import { Component } from 'rxcomp';\nimport { FormControl, FormGroup, Validators } from 'rxcomp-form';\nimport { combineLatest } from 'rxjs';\nimport { first, takeUntil } from 'rxjs/operators';\nimport { FilterMode } from '../../core/filter/filter-item';\nimport { FilterService } from '../../core/filter/filter.service';\nimport { LocomotiveScrollService } from '../../core/locomotive-scroll/locomotive-scroll.service';\nimport { StoreLocatorService } from './store-locator.service';\n\nexport class StoreLocatorComponent extends Component {\n\n\tonInit() {\n\t\tthis.items = [];\n\t\tthis.filteredItems = [];\n\t\tthis.visibleItems = [];\n\t\tthis.filters = {};\n\t\tconst form = this.form = new FormGroup({\n\t\t\tcountry: new FormControl(null, [Validators.RequiredValidator()]),\n\t\t\tcategory: new FormControl(null, [Validators.RequiredValidator()]),\n\t\t\tsearch: new FormControl(null, [Validators.RequiredValidator()]),\n\t\t});\n\t\tconst controls = this.controls = form.controls;\n\t\tform.changes$.pipe(\n\t\t\ttakeUntil(this.unsubscribe$)\n\t\t).subscribe((_) => {\n\t\t\t// console.log('StoreLocatorComponent.changes$', form.value);\n\t\t\tthis.setFilterByKeyAndValue('country', form.value.country);\n\t\t\tthis.setFilterByKeyAndValue('category', form.value.category);\n\t\t\tthis.setFilterByKeyAndValue('search', form.value.search);\n\t\t\tthis.pushChanges();\n\t\t});\n\t\tthis.load$().pipe(\n\t\t\tfirst(),\n\t\t).subscribe(data => {\n\t\t\tthis.items = data[0];\n\t\t\tconsole.log(this.items);\n\t\t\tthis.filters = data[1];\n\t\t\t// countries\n\t\t\tconst countries = this.filters.country.options.slice().map(x => ({ id: x.value, name: x.label }));\n\t\t\tcountries.unshift({ id: null, name: 'select' }); // , // LabelPipe.transform('select')\n\t\t\tcontrols.country.options = countries;\n\t\t\t// categories\n\t\t\tconst categories = this.filters.category.options.slice().map(x => ({ id: x.value, name: x.label }));\n\t\t\tcategories.unshift({ id: null, name: 'select' }); // , // LabelPipe.transform('select')\n\t\t\tcontrols.category.options = categories;\n\t\t\tthis.onLoad();\n\t\t\tthis.pushChanges();\n\t\t});\n\t}\n\n\tload$() {\n\t\treturn combineLatest([\n\t\t\tStoreLocatorService.all$(),\n\t\t\tStoreLocatorService.filters$(),\n\t\t]);\n\t}\n\n\tonLoad() {\n\t\tconst items = this.items;\n\t\tconst filters = this.filters;\n\t\tObject.keys(filters).forEach(key => {\n\t\t\tfilters[key].mode = filters[key].mode || FilterMode.OR;\n\t\t});\n\t\tconst initialParams = {};\n\t\tconst filterService = new FilterService(filters, initialParams, (key, filter) => {\n\t\t\tswitch (key) {\n\t\t\t\tdefault:\n\t\t\t\t\tfilter.filter = (item, value) => {\n\t\t\t\t\t\tswitch (key) {\n\t\t\t\t\t\t\tcase 'country':\n\t\t\t\t\t\t\t\treturn item.country && item.country.id === value;\n\t\t\t\t\t\t\tcase 'category':\n\t\t\t\t\t\t\t\treturn item.category && item.category.id === value;\n\t\t\t\t\t\t\tcase 'search':\n\t\t\t\t\t\t\t\treturn item.name.toLowerCase().indexOf(value.toLowerCase()) !== -1 ||\n\t\t\t\t\t\t\t\t\t// item.address.toLowerCase().indexOf(value.toLowerCase()) !== -1 ||\n\t\t\t\t\t\t\t\t\titem.city.toLowerCase().indexOf(value.toLowerCase()) !== -1 ||\n\t\t\t\t\t\t\t\t\titem.country.name.toLowerCase().indexOf(value.toLowerCase()) !== -1\n\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t}\n\t\t});\n\t\tthis.filterService = filterService;\n\t\tthis.filters = filterService.filters;\n\t\tconst country = this.filters.country.values.length ? this.filters.country.values[0] : null;\n\t\tconst category = this.filters.category.values.length ? this.filters.category.values[0] : null;\n\t\tconst search = this.filters.search.values.length ? this.filters.search.values[0] : null;\n\t\tthis.form.patch({ country, category, search });\n\t\tfilterService.items$(items).pipe(\n\t\t\ttakeUntil(this.unsubscribe$),\n\t\t).subscribe(filteredItems => {\n\t\t\tthis.filteredItems = filteredItems;\n\t\t\tthis.visibleItems = filteredItems.slice(0, Math.min(12, filteredItems.length));\n\t\t\tthis.pushChanges();\n\t\t\tLocomotiveScrollService.update();\n\t\t\t// console.log('StoreLocatorComponent.filteredItems', filteredItems.length);\n\t\t});\n\t}\n\n\tshowMore(event) {\n\t\tthis.visibleItems = this.filteredItems.slice();\n\t\tthis.pushChanges();\n\t\tLocomotiveScrollService.update();\n\t}\n\n\tsetFilterByKeyAndValue(key, value) {\n\t\tconst filter = this.filters[key];\n\t\tif (filter) {\n\t\t\tif (filter.mode === FilterMode.QUERY) {\n\t\t\t\tfilter.set(value);\n\t\t\t} else {\n\t\t\t\tconst option = filter.options.find(x => x.value === value);\n\t\t\t\t// console.log(filter.options, option);\n\t\t\t\tif (option) {\n\t\t\t\t\tfilter.set(option);\n\t\t\t\t} else {\n\t\t\t\t\tfilter.clear();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tonSearch(model) {\n\t\t// console.log('StoreLocatorComponent.onSearch', this.form.value);\n\t\tthis.setFilterByKeyAndValue('country', this.form.value.country);\n\t\tthis.setFilterByKeyAndValue('category', this.form.value.category);\n\t\tthis.setFilterByKeyAndValue('search', this.form.value.search);\n\t\tthis.pushChanges();\n\t}\n\n\tclearFilter(event, filter) {\n\t\tevent.preventDefault();\n\t\tevent.stopImmediatePropagation();\n\t\tfilter.clear();\n\t\tthis.pushChanges();\n\t}\n}\n\nStoreLocatorComponent.meta = {\n\tselector: '[store-locator]',\n};\n","import { Directive, getContext } from 'rxcomp';\r\n\r\nexport class SubmenuDirective extends Directive {\r\n\r\n\tonInit() {\r\n\t\tconst { node } = getContext(this);\r\n\t\tconst items = Array.prototype.slice.call(node.querySelectorAll('[data-picture]'));\r\n\t\tconst target = node.querySelector('[data-target]');\r\n\t\tgsap.set(target, { opacity: 1 });\r\n\t\titems.forEach(item => {\r\n\t\t\titem.addEventListener('mouseover', (event) => {\r\n\t\t\t\tconst picture = item.getAttribute('data-picture');\r\n\t\t\t\tgsap.set(target, { opacity: 0 });\r\n\t\t\t\ttarget.onload = () => {\r\n\t\t\t\t\tgsap.to(target, {\r\n\t\t\t\t\t\tduration: 0.5,\r\n\t\t\t\t\t\tdelay: 0.1,\r\n\t\t\t\t\t\topacity: 1,\r\n\t\t\t\t\t\tease: Power4.easeOut,\r\n\t\t\t\t\t\toverwrite: 'all',\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\ttarget.src = picture;\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n}\r\n\r\nSubmenuDirective.meta = {\r\n\tselector: '[submenu]'\r\n};\r\n","import { SwiperDirective } from '../../core/swiper/swiper.directive';\r\n\r\nexport class SwiperGalleryDirective extends SwiperDirective {\r\n\r\n\tonInit() {\r\n\t\tthis.options = {\r\n\t\t\tslidesPerView: 'auto',\r\n\t\t\tspaceBetween: 40,\r\n\t\t\tspeed: 600,\r\n\t\t\tcenteredSlides: true,\r\n\t\t\tloop: true,\r\n\t\t\tloopAdditionalSlides: 100,\r\n\t\t\tkeyboardControl: true,\r\n\t\t\tmousewheelControl: false,\r\n\t\t\tkeyboard: {\r\n\t\t\t\tenabled: true,\r\n\t\t\t\tonlyInViewport: true,\r\n\t\t\t},\r\n\t\t\tpagination: {\r\n\t\t\t\tel: '.swiper-pagination',\r\n\t\t\t\tclickable: true,\r\n\t\t\t},\r\n\t\t};\r\n\t\tthis.init_();\r\n\t\t// console.log('SwiperGalleryDirective.onInit');\r\n\t}\r\n\r\n}\r\n\r\nSwiperGalleryDirective.meta = {\r\n\tselector: '[swiper-gallery]'\r\n};\r\n","import { SwiperDirective } from '../../core/swiper/swiper.directive';\r\n\r\nexport class SwiperHomepageDirective extends SwiperDirective {\r\n\r\n\tonInit() {\r\n\t\tthis.options = {\r\n\t\t\tslidesPerView: 1,\r\n\t\t\tspaceBetween: 0,\r\n\t\t\tspeed: 600,\r\n\t\t\tkeyboardControl: true,\r\n\t\t\tmousewheelControl: false,\r\n\t\t\tkeyboard: {\r\n\t\t\t\tenabled: true,\r\n\t\t\t\tonlyInViewport: true,\r\n\t\t\t},\r\n\t\t\tpagination: {\r\n\t\t\t\tel: '.swiper-pagination',\r\n\t\t\t\tclickable: true,\r\n\t\t\t},\r\n\t\t};\r\n\t\tthis.init_();\r\n\t\t// console.log('SwiperHomepageDirective.onInit');\r\n\t}\r\n\r\n}\r\n\r\nSwiperHomepageDirective.meta = {\r\n\tselector: '[swiper-homepage]'\r\n};\r\n","import { getContext } from 'rxcomp';\r\nimport { SwiperDirective } from '../../core/swiper/swiper.directive';\r\n\r\nexport class SwiperNewsPropositionDirective extends SwiperDirective {\r\n\r\n\tonInit() {\r\n\t\tthis.options = {\r\n\t\t\tslidesPerView: 1,\r\n\t\t\tspaceBetween: 30,\r\n\t\t\tbreakpoints: {\r\n\t\t\t\t768: {\r\n\t\t\t\t\tslidesPerView: 2,\r\n\t\t\t\t\tspaceBetween: 40\r\n\t\t\t\t},\r\n\t\t\t\t1024: {\r\n\t\t\t\t\tslidesPerView: 2,\r\n\t\t\t\t\tspaceBetween: 50\r\n\t\t\t\t},\r\n\t\t\t\t1440: {\r\n\t\t\t\t\tslidesPerView: 2,\r\n\t\t\t\t\tspaceBetween: 60\r\n\t\t\t\t},\r\n\t\t\t\t1920: {\r\n\t\t\t\t\tslidesPerView: 2,\r\n\t\t\t\t\tspaceBetween: 70\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tspeed: 600,\r\n\t\t\tcenteredSlides: false,\r\n\t\t\tloop: false,\r\n\t\t\tloopAdditionalSlides: 100,\r\n\t\t\tkeyboardControl: true,\r\n\t\t\tmousewheelControl: false,\r\n\t\t\tkeyboard: {\r\n\t\t\t\tenabled: true,\r\n\t\t\t\tonlyInViewport: true,\r\n\t\t\t},\r\n\t\t\tpagination: {\r\n\t\t\t\tel: '.swiper-pagination',\r\n\t\t\t\tclickable: true,\r\n\t\t\t},\r\n\t\t};\r\n\t\tconst { node } = getContext(this);\r\n\t\tconst target = node.querySelector('.swiper-container');\r\n\t\tthis.init_(target);\r\n\t\t// console.log('SwiperNewsPropositionDirective.onInit');\r\n\t}\r\n\r\n}\r\n\r\nSwiperNewsPropositionDirective.meta = {\r\n\tselector: '[swiper-news-proposition]'\r\n};\r\n","import { getContext } from 'rxcomp';\r\nimport { SwiperDirective } from '../../core/swiper/swiper.directive';\r\n\r\nexport class SwiperProductsPropositionDirective extends SwiperDirective {\r\n\r\n\tonInit() {\r\n\t\tthis.options = {\r\n\t\t\tslidesPerView: 1.5,\r\n\t\t\tspaceBetween: 30,\r\n\t\t\tbreakpoints: {\r\n\t\t\t\t768: {\r\n\t\t\t\t\tslidesPerView: 2,\r\n\t\t\t\t\tspaceBetween: 40\r\n\t\t\t\t},\r\n\t\t\t\t1024: {\r\n\t\t\t\t\tslidesPerView: 3,\r\n\t\t\t\t\tspaceBetween: 50\r\n\t\t\t\t},\r\n\t\t\t\t1440: {\r\n\t\t\t\t\tslidesPerView: 3,\r\n\t\t\t\t\tspaceBetween: 60\r\n\t\t\t\t},\r\n\t\t\t\t1920: {\r\n\t\t\t\t\tslidesPerView: 3,\r\n\t\t\t\t\tspaceBetween: 70\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tspeed: 600,\r\n\t\t\tcenteredSlides: false,\r\n\t\t\tloop: false,\r\n\t\t\tloopAdditionalSlides: 100,\r\n\t\t\tkeyboardControl: true,\r\n\t\t\tmousewheelControl: false,\r\n\t\t\tkeyboard: {\r\n\t\t\t\tenabled: true,\r\n\t\t\t\tonlyInViewport: true,\r\n\t\t\t},\r\n\t\t\tpagination: {\r\n\t\t\t\tel: '.swiper-pagination',\r\n\t\t\t\tclickable: true,\r\n\t\t\t},\r\n\t\t};\r\n\t\tconst { node } = getContext(this);\r\n\t\tconst target = node.querySelector('.swiper-container');\r\n\t\tthis.init_(target);\r\n\t\t// console.log('SwiperProductsPropositionDirective.onInit');\r\n\t}\r\n\r\n}\r\n\r\nSwiperProductsPropositionDirective.meta = {\r\n\tselector: '[swiper-products-proposition]'\r\n};\r\n","import { getContext } from 'rxcomp';\r\nimport { SwiperDirective } from '../../core/swiper/swiper.directive';\r\n\r\nexport class SwiperProjectsPropositionDirective extends SwiperDirective {\r\n\r\n\tonInit() {\r\n\t\tthis.options = {\r\n\t\t\tslidesPerView: 1.5,\r\n\t\t\tspaceBetween: 30,\r\n\t\t\tbreakpoints: {\r\n\t\t\t\t768: {\r\n\t\t\t\t\tslidesPerView: 2,\r\n\t\t\t\t\tspaceBetween: 40\r\n\t\t\t\t},\r\n\t\t\t\t1024: {\r\n\t\t\t\t\tslidesPerView: 3,\r\n\t\t\t\t\tspaceBetween: 50\r\n\t\t\t\t},\r\n\t\t\t\t1440: {\r\n\t\t\t\t\tslidesPerView: 3,\r\n\t\t\t\t\tspaceBetween: 60\r\n\t\t\t\t},\r\n\t\t\t\t1920: {\r\n\t\t\t\t\tslidesPerView: 3,\r\n\t\t\t\t\tspaceBetween: 70\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tspeed: 600,\r\n\t\t\tcenteredSlides: false,\r\n\t\t\tloop: false,\r\n\t\t\tloopAdditionalSlides: 100,\r\n\t\t\tkeyboardControl: true,\r\n\t\t\tmousewheelControl: false,\r\n\t\t\tkeyboard: {\r\n\t\t\t\tenabled: true,\r\n\t\t\t\tonlyInViewport: true,\r\n\t\t\t},\r\n\t\t\tpagination: {\r\n\t\t\t\tel: '.swiper-pagination',\r\n\t\t\t\tclickable: true,\r\n\t\t\t},\r\n\t\t};\r\n\t\tconst { node } = getContext(this);\r\n\t\tconst target = node.querySelector('.swiper-container');\r\n\t\tthis.init_(target);\r\n\t\t// console.log('SwiperProjectsPropositionDirective.onInit');\r\n\t}\r\n\r\n}\r\n\r\nSwiperProjectsPropositionDirective.meta = {\r\n\tselector: '[swiper-projects-proposition]'\r\n};\r\n","import { CoreModule, Module } from 'rxcomp';\r\nimport { FormModule } from 'rxcomp-form';\r\nimport { AppComponent } from './app.component';\r\nimport { DropdownItemDirective } from './core/dropdown/dropdown-item.directive';\r\nimport { DropdownDirective } from './core/dropdown/dropdown.directive';\r\nimport { EnvPipe } from './core/env/env.pipe';\r\nimport { FlagPipe } from './core/flag/flag.pipe';\r\nimport { ControlCustomSelectComponent } from './core/forms/control-custom-select.component';\r\nimport { ControlEmailComponent } from './core/forms/control-email.component';\r\nimport { ControlSearchComponent } from './core/forms/control-search.component';\r\nimport { HtmlPipe } from './core/html/html.pipe';\r\nimport { IdDirective } from './core/id/id.directive';\r\nimport { LabelPipe } from './core/label/label.pipe';\r\nimport { LocomotiveScrollDirective } from './core/locomotive-scroll/locomotive-scroll.directive';\r\nimport { ScrollDirective } from './core/locomotive-scroll/scroll.directive';\r\nimport { SlugPipe } from './core/slug/slug.pipe';\r\nimport { SwiperDirective } from './core/swiper/swiper.directive';\r\nimport { ThronComponent } from './core/thron/thron.component';\r\nimport { TitleDirective } from './core/title/title.directive';\r\nimport { AteliersAndStoresComponent } from './pages/ateliers-and-stores/ateliers-and-stores.component';\r\nimport { DesignersComponent } from './pages/designers/designers.component';\r\nimport { HeaderComponent } from './pages/header/header.component';\r\nimport { MapComponent } from './pages/map/map.component';\r\nimport { MaterialsComponent } from './pages/materials/materials.component';\r\nimport { MenuDirective } from './pages/menu/menu.directive';\r\nimport { NewsComponent } from './pages/news/news.component';\r\nimport { NewsletterPropositionComponent } from './pages/newsletter/newsletter-proposition.component';\r\nimport { ProductsConfigureComponent } from './pages/products-configure/products-configure.component';\r\nimport { ProductsDetailComponent } from './pages/products-detail/products-detail.component';\r\nimport { ProjectsComponent } from './pages/projects/projects.component';\r\nimport { StoreLocatorComponent } from './pages/store-locator/store-locator.component';\r\nimport { SubmenuDirective } from './pages/submenu/submenu.directive';\r\nimport { SwiperGalleryDirective } from './pages/swiper-gallery/swiper-gallery.directive';\r\nimport { SwiperHomepageDirective } from './pages/swiper-homepage/swiper-homepage.directive';\r\nimport { SwiperNewsPropositionDirective } from './pages/swiper-news-proposition/swiper-news-proposition.directive';\r\nimport { SwiperProductsPropositionDirective } from './pages/swiper-products-proposition/swiper-products-proposition.directive';\r\nimport { SwiperProjectsPropositionDirective } from './pages/swiper-projects-proposition/swiper-projects-proposition.directive';\r\n\r\nexport class AppModule extends Module { }\r\n\r\nAppModule.meta = {\r\n\timports: [\r\n\t\tCoreModule,\r\n\t\tFormModule,\r\n\t],\r\n\tdeclarations: [\r\n\t\tAteliersAndStoresComponent,\r\n\t\t// ControlCheckboxComponent,\r\n\t\tControlCustomSelectComponent,\r\n\t\tControlEmailComponent,\r\n\t\t// ControlLinkComponent,\r\n\t\t// ControlNumberComponent,\r\n\t\t// ControlPasswordComponent,\r\n\t\t// ControlsComponent,\r\n\t\t// ControlSelectComponent,\r\n\t\tControlSearchComponent,\r\n\t\t// ControlTextareaComponent,\r\n\t\t// ControlTextComponent,\r\n\t\tDesignersComponent,\r\n\t\t// DisabledDirective,\r\n\t\t// DropDirective,\r\n\t\tDropdownDirective,\r\n\t\tDropdownItemDirective,\r\n\t\t// DropdownItemDirective,\r\n\t\tEnvPipe,\r\n\t\t// ErrorsComponent,\r\n\t\tFlagPipe,\r\n\t\tHeaderComponent,\r\n\t\tHtmlPipe,\r\n\t\tIdDirective,\r\n\t\tLabelPipe,\r\n\t\t// LanguageComponent,\r\n\t\t// LazyDirective,\r\n\t\tLocomotiveScrollDirective,\r\n\t\tMapComponent,\r\n\t\tMaterialsComponent,\r\n\t\tMenuDirective,\r\n\t\t// ModalComponent,\r\n\t\t// ModalOutletComponent,\r\n\t\tNewsComponent,\r\n\t\tNewsletterPropositionComponent,\r\n\t\tProductsConfigureComponent,\r\n\t\tProductsDetailComponent,\r\n\t\tProjectsComponent,\r\n\t\tScrollDirective,\r\n\t\tSlugPipe,\r\n\t\tStoreLocatorComponent,\r\n\t\tSubmenuDirective,\r\n\t\t// SvgIconStructure,\r\n\t\tSwiperDirective,\r\n\t\tSwiperHomepageDirective,\r\n\t\tSwiperNewsPropositionDirective,\r\n\t\tSwiperProductsPropositionDirective,\r\n\t\tSwiperProjectsPropositionDirective,\r\n\t\tSwiperGalleryDirective,\r\n\t\tThronComponent,\r\n\t\tTitleDirective,\r\n\t\t// UploadItemComponent,\r\n\t\t// ValueDirective,\r\n\t\t// VirtualStructure\r\n\t],\r\n\tbootstrap: AppComponent,\r\n};\r\n","import { Browser } from 'rxcomp';\r\nimport { AppModule } from './app.module';\r\n\r\nBrowser.bootstrap(AppModule);\r\n"]}