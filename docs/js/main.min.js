/**
 * @license giorgetti v1.0.0
 * (c) 2021 Luca Zampetti <lzampetti@gmail.com>
 * License: MIT
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(require("rxcomp"),require("rxcomp-form"),require("rxjs/operators"),require("rxjs")):"function"==typeof define&&define.amd?define(["rxcomp","rxcomp-form","rxjs/operators","rxjs"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).rxcomp,e.rxcomp.form,e.rxjs.operators,e.rxjs)}(this,(function(e,t,n,i){"use strict";function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function r(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,l(e,t)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var c=function(t){function n(){return t.apply(this,arguments)||this}return a(n,t),n.prototype.onInit=function(){e.getContext(this).node.classList.remove("hidden"),console.log("AppComponent.onInit")},n}(e.Component);c.meta={selector:"[app-component]"};var p=1e6,h=function(t){function i(){return t.apply(this,arguments)||this}a(i,t);var o=i.prototype;return o.onInit=function(){var t=this,o=e.getContext(this).node,r=o.getAttribute("dropdown-trigger");this.trigger=r?o.querySelector(r):o,this.opened=null,this.onClick=this.onClick.bind(this),this.onDocumentClick=this.onDocumentClick.bind(this),this.openDropdown=this.openDropdown.bind(this),this.closeDropdown=this.closeDropdown.bind(this),this.addListeners(),i.dropdown$.pipe(n.takeUntil(this.unsubscribe$)).subscribe((function(e){t.id===e?o.classList.add("dropped"):o.classList.remove("dropped")}))},o.onClick=function(t){var n=e.getContext(this).node;null===this.opened?this.openDropdown():n.querySelector("[dropdown-item]")||this.closeDropdown()},o.onDocumentClick=function(t){var n=e.getContext(this).node;n===t.target||n.contains(t.target)||this.closeDropdown()},o.openDropdown=function(){null===this.opened&&(this.opened=!0,this.addDocumentListeners(),i.dropdown$.next(this.id),this.dropped.next(this.id))},o.closeDropdown=function(){null!==this.opened&&(this.removeDocumentListeners(),this.opened=null,i.dropdown$.getValue()===this.id&&(i.dropdown$.next(null),this.dropped.next(null)))},o.addListeners=function(){this.trigger.addEventListener("click",this.onClick)},o.addDocumentListeners=function(){document.addEventListener("click",this.onDocumentClick)},o.removeListeners=function(){this.trigger.removeEventListener("click",this.onClick)},o.removeDocumentListeners=function(){document.removeEventListener("click",this.onDocumentClick)},o.onDestroy=function(){this.removeListeners(),this.removeDocumentListeners()},i.nextId=function(){return p++},r(i,[{key:"id",get:function(){return this.dropdown||this.id_||(this.id_=i.nextId())}}]),i}(e.Directive);h.meta={selector:"[dropdown]",inputs:["dropdown","dropdown-trigger"],outputs:["dropped"]},h.dropdown$=new i.BehaviorSubject(null);var d=function(t){function i(){return t.apply(this,arguments)||this}return a(i,t),i.prototype.onInit=function(){var t=this,i=e.getContext(this).node;i.classList.add("dropdown-item"),h.dropdown$.pipe(n.takeUntil(this.unsubscribe$)).subscribe((function(e){t.id===e?i.classList.add("dropped"):i.classList.remove("dropped")}))},r(i,[{key:"id",get:function(){return this["dropdown-item"]}}]),i}(e.Directive);d.meta={selector:"[dropdown-item], [[dropdown-item]]",inputs:["dropdown-item"]};var f=function(){function e(){}return e.merge=function(e,t){var n=this;return"object"==typeof t&&Object.keys(t).forEach((function(i){var o=t[i];"object"!=typeof o||Array.isArray(o)?e[i]=o:e[i]=n.merge(e[i],o)})),e},e}(),m="undefined"!=typeof module&&module.exports,g=((m?{get:function(){}}:new URLSearchParams(window.location.search)).get("debug"),m?null:document.querySelector("base").getAttribute("href")),y=!m&&(window&&-1!==window.location.host.indexOf("herokuapp")),v=!m&&(y||window&&("48481"===window.location.port||"5000"===window.location.port||"6443"===window.location.port||"actarian.github.io"===window.location.host)),w=!m&&(window&&-1!==["localhost","127.0.0.1","0.0.0.0"].indexOf(window.location.host.split(":")[0])),b={STATIC:v,DEVELOPMENT:w,PRODUCTION:!w},C=function(){var e=t.prototype;function t(e){e&&Object.assign(this,e)}return e.getAbsoluteUrl=function(e,t){var n=""+window.location.origin+e;return Object.keys(t).forEach((function(e){n=n.replace("$"+e,t[e])})),n},e.getPath=function(e){return this.isLocal(e)?this.href+e:e},e.isLocal=function(e){return-1===e.indexOf("://")},r(t,[{key:"STATIC",get:function(){return b.STATIC},set:function(e){b.STATIC=!0===e||"true"===e,console.log("Environment.STATIC.set",b.STATIC)}},{key:"href",get:function(){return y?this.githubDocs:g}}]),t}(),x={port:5e3,flags:{production:!1,heroku:y},slug:{},languages:["it","en"],defaultLanguage:"it",labels:{select:"Seleziona",browse:"Sfoglia",cancel:"Annulla",error_email:"Email non valida",error_match:"I campi non corrispondono",error_required:"Campo obbligatorio",loading:"caricamento",remove:"Rimuovi",required:"Richiesto",select_file:"Seleziona una file...",update:"Aggiorna",upload:"Carica",drag_and_drop_images:"Drag And Drop your images here"}},k=window.STATIC?{flags:{production:!1},api:"/giorgetti/api",workers:{image:"./js/workers/image.service.worker.js",prefetch:"./js/workers/prefetch.service.worker.js"},githubDocs:"https://raw.githubusercontent.com/actarian/giorgetti/main/docs/",slug:{configureProduct:"/giorgetti/products-configure.html"},template:{modal:{myModal:"/my-modal.html"}},googleMaps:{apiKey:"AIzaSyDvGw6iAoKdRv8mmaC9GeT-LWLPQtA8p60"}}:{flags:{production:!0},api:"/api",workers:{image:"/Client/docs/js/workers/image.service.worker.js",prefetch:"/Client/docs/js/workers/prefetch.service.worker.js"},githubDocs:"https://raw.githubusercontent.com/actarian/giorgetti/main/docs/",slug:{configureProduct:"/Client/docs/products-configure.html"},template:{modal:{myModal:"/template/modules/giorgetti/my-modal.cshtml"}},googleMaps:{apiKey:"AIzaSyDvGw6iAoKdRv8mmaC9GeT-LWLPQtA8p60"}},P=Object.assign(x,k),L=new C(P=f.merge(P,window.environment));console.log("environment",L);var $=function(e){function t(){return e.apply(this,arguments)||this}return a(t,e),t.transform=function(e){for(var t=L,n=e.split("."),i=n.shift();n.length>0&&t[i];)t=t[i],i=n.shift();return t[i]||null},t}(e.Pipe);$.meta={name:"env"};var S=function(e){function t(){return e.apply(this,arguments)||this}return a(t,e),t.transform=function(e){return L.flags[e]||!1},t}(e.Pipe);S.meta={name:"flag"};var A=function(){function e(){}return e.keydown$=function(){return this.keydown$_||(this.keydown$_=i.fromEvent(window,"keydown").pipe(n.shareReplay(1))),this.keydown$_},e.keyup$=function(){return this.keyup$_||(this.keyup$_=i.fromEvent(window,"keyup").pipe(n.shareReplay(1))),this.keyup$_},e.keys$=function(){var e=this;return this.keys$_||(this.keys$_=i.merge(this.keydown$(),this.keyup$()).pipe(n.map((function(t){var n=e.keys;return"keydown"===t.type?n[t.key]=!0:delete n[t.key],e.keys})),n.startWith(this.keys),n.shareReplay(1))),this.keys$_},e.key$=function(){if(!this.key$_){var e=/\w/;this.key$_=this.keydown$().pipe(n.filter((function(t){return t.key&&t.key.match(e)})),n.map((function(e){return e.key})),n.shareReplay(1))}return this.key$_},e.typing$=function(){if(!this.typing$_){var e,t="";this.typing$_=this.key$().pipe(n.map((function(n){return e&&clearTimeout(e),t+=n,e=setTimeout((function(){t=""}),1500),t})),n.shareReplay(1))}return this.typing$_},e}();s(A,"keys",{});var I=function(t){function n(){return t.apply(this,arguments)||this}return a(n,t),n.prototype.onChanges=function(){var t=e.getContext(this).node,n=this.control.flags;Object.keys(n).forEach((function(e){n[e]?t.classList.add(e):t.classList.remove(e)}))},n}(e.Component);I.meta={selector:"[control]",inputs:["control"]};var T=function(t){function i(){return t.apply(this,arguments)||this}a(i,t);var o=i.prototype;return o.onInit=function(){var e=this;this.label=this.label||"label",this.dropped=!1,this.dropdownId=h.nextId(),A.typing$().pipe(n.takeUntil(this.unsubscribe$)).subscribe((function(t){e.scrollToWord(t)}))},o.scrollToWord=function(t){for(var n=this.control.options||[],i=-1,o=0;o<n.length;o++){if(0===n[o].name.toLowerCase().indexOf(t.toLowerCase())){i=o;break}}if(-1!==i){var r=e.getContext(this).node,s=r.querySelector(".dropdown"),a=r.querySelector(".nav--dropdown").children[i];s.scrollTo(0,a.offsetTop)}},o.setOption=function(e){var t;if(this.isMultiple){var n=this.control.value||[],i=n.indexOf(e.id);-1!==i?n.splice(i,1):n.push(e.id),n.length&&n.slice(),function(e){throw new TypeError('"'+e+'" is read-only')}("value")}else t=e.id;this.control.value=t,this.change.next(t)},o.hasOption=function(e){return this.isMultiple?-1!==(this.control.value||[]).indexOf(e.id):this.control.value===e.id},o.getLabel=function(){var e=this.control.value,t=this.control.options||[];if(this.isMultiple)return(e=e||[]).length?e.map((function(e){var n=t.find((function(t){return t.id===e||t.name===e}));return n?n.name:""})).join(", "):"select";var n=t.find((function(t){return t.id===e||t.name===e}));return n?n.name:"select"},o.onDropped=function(e){this.dropped&&null===e&&(this.control.touched=!0),this.dropped=e===this.dropdownId},r(i,[{key:"isMultiple",get:function(){return this.multiple&&!1!==this.multiple&&"false"!==this.multiple}}]),i}(I);T.meta={selector:"[control-custom-select]",outputs:["change"],inputs:["control","label","multiple"],template:'\n\t\t<div class="group--form--select" [class]="{ required: control.validators.length, multiple: isMultiple }" [dropdown]="dropdownId" (dropped)="onDropped($event)">\n\t\t\t<label [innerHTML]="label"></label>\n\t\t\t<span class="control--custom-select" [innerHTML]="getLabel() | label"></span>\n\t\t\t<svg class="caret-down"><use xlink:href="#caret-down"></use></svg>\n\t\t\t<span class="required__badge" [innerHTML]="\'required\' | label"></span>\n\t\t</div>\n\t\t<errors-component [control]="control"></errors-component>\n\t\t<div class="dropdown" [dropdown-item]="dropdownId">\n\t\t\t<div class="category" [innerHTML]="label"></div>\n\t\t\t<ul class="nav--dropdown" [class]="{ multiple: isMultiple }">\n\t\t\t\t<li (click)="setOption(item)" [class]="{ empty: item.id == null }" *for="let item of control.options">\n\t\t\t\t\t<span [class]="{ active: hasOption(item) }" [innerHTML]="item.name | label"></span>\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t</div>\n\t'};var E=function(e){function t(){return e.apply(this,arguments)||this}return a(t,e),t.prototype.onInit=function(){this.label=this.label||"label"},t}(I);E.meta={selector:"[control-email]",inputs:["control","label"],template:'\n\t\t<div class="group--form" [class]="{ required: control.validators.length }">\n\t\t\t<label [innerHTML]="label"></label>\n\t\t\t<input type="text" class="control--text" [formControl]="control" [placeholder]="label" required email />\n\t\t\t<span class="required__badge" [innerHTML]="\'required\' | label"></span>\n\t\t</div>\n\t\t<errors-component [control]="control"></errors-component>\n\t'};var O=function(e){function t(){return e.apply(this,arguments)||this}return a(t,e),t.prototype.onInit=function(){this.label=this.label||"label",this.disabled=this.disabled||!1},t}(I);O.meta={selector:"[control-search]",inputs:["control","label","disabled"],template:'\n\t\t<div class="group--form" [class]="{ required: control.validators.length, disabled: disabled }">\n\t\t\t<svg class="search"><use xlink:href="#search"></use></svg>\n\t\t\t<input type="text" class="control--text" [formControl]="control" [placeholder]="label" [disabled]="disabled" />\n\t\t</div>\n\t'};var F=function(e){function t(){return e.apply(this,arguments)||this}return a(t,e),t.transform=function(e){if(e){e=e.replace(/&#(\d+);/g,(function(e,t){return String.fromCharCode(parseInt(t))}));var t=['"',"&","'","<",">"," ","¡","¢","£","¤","¥","¦","§","¨","©","ª","«","¬","­","®","¯","°","±","²","³","´","µ","¶","·","¸","¹","º","»","¼","½","¾","¿","À","Á","Â","Ã","Ä","Å","Æ","Ç","È","É","Ê","Ë","Ì","Í","Î","Ï","Ð","Ñ","Ò","Ó","Ô","Õ","Ö","×","Ø","Ù","Ú","Û","Ü","Ý","Þ","ß","à","á","ã","ä","å","æ","ç","è","é","ê","ë","ì","í","î","ï","ð","ñ","ò","ó","ô","õ","ö","÷","ø","ù","ú","û","ü","ý","þ","ÿ","&","•","°","∞","‰","⋅","±","†","—","¬","µ","⊥","∥","€","£","¥","¢","©","®","™","α","β","γ","δ","ε","ζ","η","θ","ι","κ","λ","μ","ν","ξ","ο","π","ρ","σ","τ","υ","φ","χ","ψ","ω","Α","Β","Γ","Δ","Ε","Ζ","Η","Θ","Ι","Κ","Λ","Μ","Ν","Ξ","Ο","Π","Ρ","Σ","Τ","Υ","Φ","Χ","Ψ","Ω"],n=new RegExp("(&"+["quot","amp","apos","lt","gt","nbsp","iexcl","cent","pound","curren","yen","brvbar","sect","uml","copy","ordf","laquo","not","shy","reg","macr","deg","plusmn","sup2","sup3","acute","micro","para","middot","cedil","sup1","ordm","raquo","frac14","frac12","frac34","iquest","Agrave","Aacute","Acirc","Atilde","Auml","Aring","AElig","Ccedil","Egrave","Eacute","Ecirc","Euml","Igrave","Iacute","Icirc","Iuml","ETH","Ntilde","Ograve","Oacute","Ocirc","Otilde","Ouml","times","Oslash","Ugrave","Uacute","Ucirc","Uuml","Yacute","THORN","szlig","agrave","aacute","atilde","auml","aring","aelig","ccedil","egrave","eacute","ecirc","euml","igrave","iacute","icirc","iuml","eth","ntilde","ograve","oacute","ocirc","otilde","ouml","divide","oslash","ugrave","uacute","ucirc","uuml","yacute","thorn","yuml","amp","bull","deg","infin","permil","sdot","plusmn","dagger","mdash","not","micro","perp","par","euro","pound","yen","cent","copy","reg","trade","alpha","beta","gamma","delta","epsilon","zeta","eta","theta","iota","kappa","lambda","mu","nu","xi","omicron","pi","rho","sigma","tau","upsilon","phi","chi","psi","omega","Alpha","Beta","Gamma","Delta","Epsilon","Zeta","Eta","Theta","Iota","Kappa","Lambda","Mu","Nu","Xi","Omicron","Pi","Rho","Sigma","Tau","Upsilon","Phi","Chi","Psi","Omega"].join(";)|(&")+";)","g");return e=e.replace(n,(function(){for(var e=1;e<arguments.length;e++)if(arguments[e])return t[e-1]}))}},t}(e.Pipe);F.meta={name:"html"};var _=function(e){function t(){return e.apply(this,arguments)||this}return a(t,e),t.transform=function(e){return t.labels_[e]||e},t.getKeys=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return t.transform(n.map((function(e){return e.replace("-","_")})).join("_"))},t.setLabels=function(){var e=f.merge({select:"Seleziona",browse:"Sfoglia",cancel:"Annulla",error_email:"Email non valida",error_match:"I campi non corrispondono",error_required:"Campo obbligatorio",loading:"caricamento",remove:"Rimuovi",required:"Richiesto",select_file:"Seleziona una file...",update:"Aggiorna",upload:"Carica",drag_and_drop_images:"Drag And Drop your images here"},L.labels);this.labels_=e},t}(e.Pipe);_.setLabels(),_.meta={name:"label"};var D=function(){function e(){}return e.scroll=function(e){this.scroll$.next(e)},e.init=function(t,n){if(n=Object.assign({useKeyboard:!0,smoothMobile:!0,inertia:.5,smooth:!0,lerp:.01,getDirection:!0,getSpeed:!0,initClass:"has-scroll-init",scrollingClass:"has-scroll-scrolling",draggingClass:"has-scroll-dragging",smoothClass:"has-scroll-smooth",scrollbarContainer:!1,scrollbarClass:"c-scrollbar",multiplier:1,firefoxMultiplier:50,touchMultiplier:2,scrollFromAnywhere:!0,gestureDirection:"vertical",reloadOnContextChange:!1,resetNativeScroll:!0},n,{el:t}),this.useLocomotiveScroll()){var i=new LocomotiveScroll(n);return e.instance=i,i}document.querySelector("html").classList.add("has-scroll-init")},e.useLocomotiveScroll=function(){return window.innerWidth>=768&&!this.isMacLike()},e.isMacLike=function(){var e=/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform);return e},e.isIOS=function(){var e=/(iPhone|iPod|iPad)/i.test(navigator.platform);return e},e.isMacOs=function(){var e=navigator.platform.toLowerCase().indexOf("mac")>=0;return e},e.isSafari=function(){var e=navigator.vendor.match(/apple/i)&&!navigator.userAgent.match(/crios/i)&&!navigator.userAgent.match(/fxios/i);return e},e.init$=function(t){return i.fromEvent(window,"load").pipe(n.delay(1),n.switchMap((function(n){var i=e.init(t);if(i)i.on("scroll",(function(t){e.scroll(t)}));else{var o={direction:null,scroll:{x:0,y:0},speed:0},r=window.pageYOffset;window.addEventListener("scroll",(function(){var t=window.pageYOffset,n=t>r?"down":"up";r=t,o.direction=n,o.scroll.y=t,e.scroll(o)}),!0)}return e.scroll$})))},e.update=function(){this.instance&&this.instance.update()},e.scrollTo=function(e,t){this.instance?this.instance.scrollTo(e,t):e.scrollIntoView()},e}();s(D,"scroll$",new i.ReplaySubject(1));var V=function(t){function i(){return t.apply(this,arguments)||this}return a(i,t),i.prototype.onInit=function(){var t=e.getContext(this).node;D.init$(t).pipe(n.takeUntil(this.unsubscribe$)).subscribe((function(e){}))},i}(e.Directive);V.meta={selector:"[locomotive-scroll],[[locomotive-scroll]]"};var B=function(t){function i(){return t.apply(this,arguments)||this}a(i,t);var o=i.prototype;return o.onInit=function(){D.useLocomotiveScroll()||this.scroll$().pipe(n.takeUntil(this.unsubscribe$)).subscribe((function(e){}))},o.scroll$=function(){var t=e.getContext(this).node,i=t.hasAttribute("data-scroll-speed")?parseFloat(t.getAttribute("data-scroll-speed")):1.5;return D.scroll$.pipe(n.tap((function(e){var n=window.innerHeight,o=n/2,r=t.getBoundingClientRect(),s=gsap.getProperty(t,"y"),a=r.top-s,l=r.bottom-s;if(a<n&&l>0){var u=(a-o)/o*i*40;gsap.set(t,{y:u})}})))},i}(e.Directive);B.meta={selector:"[data-scroll]"};var j=function(e){function t(){return e.apply(this,arguments)||this}return a(t,e),t.transform=function(e){return L.slug[e]||"#"+e},t}(e.Pipe);j.meta={name:"slug"};var R=function(t){function n(){return t.apply(this,arguments)||this}a(n,t);var o=n.prototype;return o.onInit=function(){this.options={slidesPerView:"auto",spaceBetween:0,centeredSlides:!0,speed:600,autoplay:{delay:5e3},keyboardControl:!0,mousewheelControl:!1,pagination:{el:".swiper-pagination",clickable:!0},keyboard:{enabled:!0,onlyInViewport:!0}},this.init_()},o.onChanges=function(){this.swiperInitOrUpdate_()},o.onDestroy=function(){this.removeListeners_(),this.swiperDestroy_()},o.onBeforePrint=function(){this.swiperDestroy_()},o.slideToIndex=function(e){this.swiper&&this.swiper.slideTo(e)},o.hasPrev=function(){var e=this.swiper;if(e&&e.activeIndex>0&&e.slides.length>e.activeIndex)return!0},o.hasNext=function(){var e=this.swiper;if(e){var t=e.params.slidesPerView||1;if(e.activeIndex<e.slides.length-t)return!0}},o.slidePrev=function(){var e=this.swiper;this.hasPrev()&&e.slideTo(e.activeIndex-1)},o.slideNext=function(){var e=this.swiper;this.hasNext()&&e.slideTo(e.activeIndex+1)},o.init_=function(t){var n=this;if(this.events$=new i.Subject,this.enabled){var o=e.getContext(this).node;t=t||o,this.target=t,gsap.set(t,{opacity:0}),this.index=0;var r=this.options.on||{};r.slideChange=function(){var e=n.swiper;e&&(n.index=e.activeIndex,n.events$.next(n.index),n.pushChanges())},this.options.on=r,this.addListeners_()}},o.addListeners_=function(){this.onBeforePrint=this.onBeforePrint.bind(this),window.addEventListener("beforeprint",this.onBeforePrint)},o.removeListeners_=function(){window.removeEventListener("beforeprint",this.onBeforePrint)},o.swiperInitOrUpdate_=function(){if(this.enabled){var e=this.target;if(this.swiper)this.swiper.update();else{var t,n=this.options.on||(this.options.on={}),i=n.init;n.init&&n.init.swiperDirectiveInit||(n.init=function(){var n=this;gsap.to(e,{duration:.4,opacity:1,ease:Power2.easeOut}),setTimeout((function(){"function"==typeof i&&i.apply(n,[t,element,scope])}),1)},n.init.swiperDirectiveInit=!0),gsap.set(e,{opacity:1}),t=new Swiper(e,this.options),console.log(t),this.swiper=t,this.swiper._opening=!0,e.classList.add("swiper-init")}}},o.swiperDestroy_=function(){this.swiper&&this.swiper.destroy()},r(n,[{key:"enabled",get:function(){return!window.matchMedia("print").matches}}]),n}(e.Component);R.meta={selector:"[swiper]",inputs:["consumer"]};var q=0,M=function(t){function n(){for(var e,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return s(u(e=t.call.apply(t,[this].concat(i))||this),"playing_",!1),e}a(n,t);var i=n.prototype;return i.onInit=function(){var t=window.THRONContentExperience||window.THRONPlayer;if(t){var n=e.getContext(this).node,i=(this.target=n.querySelector(".video > .thron")).id="thron-"+ ++q,o=this.thron;if(-1===o.indexOf("pkey=")){var r=o.split("/");o="https://gruppoconcorde-view.thron.com/api/xcontents/resources/delivery/getContentDetail?clientId="+r[6]+"&xcontentId="+r[7]+"&pkey="+r[8]}var s=this.controls=!!n.hasAttribute("controls"),a=this.loop=!!n.hasAttribute("loop"),l=this.autoplay=!!n.hasAttribute("autoplay"),u=this.player=t(i,{media:o,loop:a,autoplay:l,muted:!s,displayLinked:"close",noSkin:!s});this.onReady=this.onReady.bind(this),this.onCanPlay=this.onCanPlay.bind(this),this.onPlaying=this.onPlaying.bind(this),this.onPlay=this.onPlay.bind(this),this.onPause=this.onPause.bind(this),this.onComplete=this.onComplete.bind(this),u.on("ready",this.onReady),u.on("canPlay",this.onCanPlay),u.on("playing",this.onPlaying),u.on("play",this.onPlay),u.on("pause",this.onPause),u.on("complete",this.onComplete)}},i.onReady=function(){e.getContext(this).node;var t=this.target.id,n=this.player;if(!this.controls){var i=n.mediaContainer().querySelector("video");i.setAttribute("playsinline","true"),i.setAttribute("autoplay","true")}this.ready.next(t)},i.onCanPlay=function(){e.getContext(this).node;var t=this.target.id;this.canPlay.next(t)},i.onPlaying=function(){e.getContext(this).node,this.target.id;var t=this.player;if(t.off("playing",this.onPlaying),!this.controls){var n=t.qualityLevels();if(n.length){var i=n[n.length-1].index;n[0].index;t.currentQuality(i)}}},i.onPlay=function(){e.getContext(this).node;var t=this.target.id;this.playing=!0,this.play.next(t)},i.onPause=function(){e.getContext(this).node;var t=this.target.id;this.playing=!1,this.pause.next(t)},i.onComplete=function(){e.getContext(this).node;var t=this.target.id;this.playing=!1,this.complete.next(t)},i.playVideo=function(){e.getContext(this).node,this.target.id;var t=this.player,n=t.status();n&&!n.playing&&t.play()},i.pauseVideo=function(){e.getContext(this).node,this.target.id;var t=this.player,n=t.status();n&&n.playing&&t.pause()},i.toggle=function(){e.getContext(this).node,this.target.id;var t=this.player,n=t.status();n&&n.playing?t.pause():t.play()},i.play=function(t){e.getContext(this).node;t===this.target.id&&this.playVideo()},i.pause=function(t){e.getContext(this).node;t===this.target.id&&this.pauseVideo()},i.onDestroy=function(){var e=this.player;e&&(e.off("ready",this.onReady),e.off("canPlay",this.onCanPlay),e.off("playing",this.onPlaying),e.off("play",this.onPlay),e.off("pause",this.onPause),e.off("complete",this.onComplete))},r(n,[{key:"playing",get:function(){return this.playing_},set:function(t){if(this.playing_!==t){this.playing_=t;var n=e.getContext(this).node;n&&(t?n.classList.add("playing"):n.classList.remove("playing"))}}}]),n}(e.Component);M.meta={selector:"[thron],[[thron]]",outputs:["ready","canPlay","play","pause","complete"],inputs:["thron","m3u8"],template:""};var U=function(t){function n(){return t.apply(this,arguments)||this}return a(n,t),r(n,[{key:"title",get:function(){return this.title_},set:function(t){if(this.title_!==t){this.title_=t;var n=e.getContext(this).node;t?n.setAttribute("title",t):n.removeAttribute("title")}}}]),n}(e.Directive);U.meta={selector:"[[title]]",inputs:["title"]};var z="select",K="or",G="query",N=function(){function e(e){this.change$=new i.BehaviorSubject,this.mode=z,this.filter="Filter",this.placeholder="Select",this.values=[],this.options=[],e&&Object.assign(this,e),e.mode===z&&e.options.unshift({label:e.placeholder,value:void 0})}var t=e.prototype;return t.filter=function(e,t){return-1!==e.options.indexOf(t)},t.match=function(e){var t,n=this;return this.mode===K?(t=!this.values.length,this.values.forEach((function(i){t=t||n.filter(e,i)}))):(t=!0,this.values.forEach((function(i){t=t&&n.filter(e,i)}))),t},t.getLabel=function(){return(this.mode===z||this.mode===G)&&this.placeholder||this.label},t.has=function(e){return-1!==this.values.indexOf(e.value)},t.set=function(e){this.mode===G?(this.values=e?[e]:[],this.placeholder=e):(this.mode===z&&(this.values=[]),-1===this.values.indexOf(e.value)&&void 0!==e.value&&this.values.push(e.value),this.mode===z&&(this.placeholder=e.label));this.change$.next()},t.remove=function(e){var t=this.values.indexOf(e.value);if(-1!==t&&this.values.splice(t,1),this.mode===z){var n=this.options[0];this.placeholder=n.label}this.change$.next()},t.toggle=function(e){this.has(e)?this.remove(e):this.set(e)},t.clear=function(){if(this.values=[],this.mode===z){var e=this.options[0];this.placeholder=e.label}this.change$.next()},e}(),H=function(){function e(){}return e.has=function(e){return new URLSearchParams(window.location.search).has(e)},e.get=function(e){return new URLSearchParams(window.location.search).get(e)},e.set=function(e,t){var n=new URLSearchParams(window.location.search);"string"==typeof e?n.set(e,t):n.set(e,""),this.pushParams(n)},e.pushParams=function(e){if(window.history&&window.history.pushState){var t=document.title,n=window.location.href.split("?")[0]+"?"+e.toString();window.history.pushState(e.toString(),t,n)}},e.replace=function(e,t){var n=window.history;if(n&&n.replaceState){var i=window.location,o=document.title;if("/"===i.pathname){var r=i.origin+t+i.search;n.replaceState(n.state,o,r)}else if(-1!==i.href.indexOf(e)){var s=i.href.replace(e,t);n.replaceState(n.state,o,s)}}},e.deserialize=function(e){var t=this.get("params");return this.decode(e,t)},e.serialize=function(e,t){var n=this.deserialize(),i=this.encode(e,t,n);this.set("params",i)},e.decode=function(e,t){var n=null;if(t){var i=window.atob(t);n=JSON.parse(i)}return e&&n&&(n=n[e]),n||null},e.encode=function(e,t,n){n=n||{};"string"==typeof e?n[e]=t:n=e;var i=JSON.stringify(n);return window.btoa(i)},e}(),W=function(){function e(e,t,n){var i={};e&&Object.keys(e).forEach((function(t){var o=new N(e[t]);"function"==typeof n&&n(t,o),i[t]=o})),this.filters=i,this.deserialize(this.filters,t)}var t=e.prototype;return t.getParamsCount=function(e){return e?Object.keys(e).reduce((function(t,n,i){var o=e[n];return t+(o?o.length:0)}),0):0},t.deserialize=function(e,t){var n;t&&this.getParamsCount(t)&&(n=t);var i=H.deserialize("filters");return i&&this.getParamsCount(i)&&(n=i),n&&Object.keys(e).forEach((function(t){e[t].values=n[t]||[]})),e},t.serialize=function(e){var t={},n=!1;return Object.keys(e).forEach((function(i){var o=e[i];null!==o.value&&(t[i]=o.values,n=!0)})),n||(t=null),H.serialize("filters",t),t},t.items$=function(e){var t=this,o=this.filters,r=Object.keys(o).map((function(e){return o[e].change$}));return i.merge.apply(void 0,r).pipe(n.tap((function(){return t.serialize(o)})),n.map((function(){return t.filterItems(e)})),n.tap((function(){return t.updateFilterStates(o,e)})))},t.filterItems=function(e,t){var n=this,i=Object.keys(this.filters).map((function(e){return n.filters[e]})).filter((function(e){return null!==e.value}));return e=e.filter((function(e){var n=!0;return i.forEach((function(i){i!==t&&(n=n&&i.match(e))})),n}))},t.updateFilterStates=function(e,t){var n=this;Object.keys(e).forEach((function(i){var o=e[i],r=n.filterItems(t,o);o.options.forEach((function(e){var t=0;if(e.value)for(var n=0;n<r.length;){var i=r[n];o.filter(i,e.value)&&t++,n++}else t=r.length;e.count=t,e.disabled=0===t}))}))},t.reset=function(){var e,t=this;Object.keys(this.filters).forEach((function(n){(e=t.filters[n]).values=[]})),e&&e.change$.next()},e}(),J=function(){function e(){}return e.http$=function(e,t,o,r){var s=this,a=null;return i.from(fetch(t,{method:e,headers:{Accept:"application/json","Content-Type":"application/json"},body:-1!==["POST","PUT","PATCH"].indexOf(e)?JSON.stringify(o):void 0}).then((function(e){a=e;try{var t,n=e.headers.get("content-type");return t=n&&-1!==n.indexOf("application/json")?e.json():e.text(),e.ok?t:t.then((function(e){return Promise.reject(e)}))}catch(t){return e.ok?(console.warn("HttpService.http$","Cannot parse response"),Promise.resolve()):Promise.reject(t)}}))).pipe(n.catchError((function(e){return i.throwError(s.getError(e,a))})))},e.get$=function(e,t,n){var i=this.query(t);return this.http$("GET",""+e+i,void 0,n)},e.delete$=function(e){return this.http$("DELETE",e)},e.post$=function(e,t){return this.http$("POST",e,t)},e.put$=function(e,t){return this.http$("PUT",e,t)},e.patch$=function(e,t){return this.http$("PATCH",e,t)},e.query=function(e){return""},e.getError=function(e,t){var n="object"==typeof e?e:{};return n.status||(n.status=t?t.status:0),n.statusCode||(n.statusCode=t?t.status:0),n.statusMessage||(n.statusMessage=t?t.statusText:e),n},e}(),Y=function(){function e(){}return e.getDefaultLanguages=function(){return L.alternates||[]},e.getDefaultLanguage=function(){return L.defaultLanguage||(this.languages?this.languages[0].lang:null)},e.setLanguage=function(e){this.selectedLanguage=e.lang},e.setLanguage$=function(e){var t=this;return i.from(fetch(e.href).then((function(e){return e.text()}))).pipe(n.tap((function(n){var i=/(window\.labels[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*=[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*\n*[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*\{((\{[\s\S]+?\})|[\s\S])+?\})/gm.exec(n);i&&(new Function(i[0]).call(window),_.setLabels());var o=/(window\.bhere[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*=[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*\n*[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*\{((\{[\s\S]+?\})|[\s\S])+?\})/gm.exec(n);if(o){var r={};new Function(o[0].replace("window","this")).call(r),r.bhere&&f.merge(L,r.bhere)}H.replace(t.activeLanguage.href,e.href),t.selectedLanguage=e.lang})))},e.toggleLanguages=function(){this.showLanguages=!this.showLanguages,this.pushChanges()},r(e,null,[{key:"hasLanguages",get:function(){return this.languages.length>1}},{key:"activeLanguage",get:function(){var e=this;return this.languages.find((function(t){return t.lang===e.selectedLanguage}))}}]),e}();s(Y,"languages",Y.getDefaultLanguages()),s(Y,"defaultLanguage",Y.getDefaultLanguage()),s(Y,"selectedLanguage",Y.defaultLanguage);var Q=function(e){function t(){return e.apply(this,arguments)||this}return a(t,e),t.get$=function(t,n,i){return e.get$.call(this,""+L.api+t,n,i)},t.delete$=function(t){return e.delete$.call(this,""+L.api+t)},t.post$=function(t,n){return e.post$.call(this,""+L.api+t,n)},t.put$=function(t,n){return e.put$.call(this,""+L.api+t,n)},t.patch$=function(t,n){return e.patch$.call(this,""+L.api+t,n)},t}(J);s(Q,"currentLanguage",Y.activeLanguage);var Z=function(){function e(){}return e.all$=function(){return Q.get$("/ateliers-and-stores/all.json")},e.ateliers$=function(){return Q.get$("/ateliers-and-stores/ateliers.json")},e.stores$=function(){return Q.get$("/ateliers-and-stores/stores.json")},e.filters$=function(){return Q.get$("/ateliers-and-stores/filters.json")},e}(),X=function(e){function o(){return e.apply(this,arguments)||this}a(o,e);var r=o.prototype;return r.onInit=function(){var e=this;this.types={Atelier:1,Store:2},this.items=[],this.filteredItems=[],this.filteredAteliers=[],this.filteredStores=[],this.filters={};var i=this.form=new t.FormGroup({country:new t.FormControl(null,[t.Validators.RequiredValidator()]),search:new t.FormControl(null,[t.Validators.RequiredValidator()])}),o=this.controls=i.controls;i.changes$.pipe(n.takeUntil(this.unsubscribe$)).subscribe((function(t){e.setFilterByKeyAndValue("country",i.value.country),e.setFilterByKeyAndValue("search",i.value.search),e.pushChanges()})),this.load$().pipe(n.first()).subscribe((function(t){e.items=t[0],e.filters=t[1];var n=e.filters.country.options.slice().map((function(e){return{id:e.value,name:e.label}}));n.unshift({id:null,name:"select"}),o.country.options=n,e.onLoad(),e.pushChanges()}))},r.load$=function(){return i.combineLatest([Z.all$(),Z.filters$()])},r.onLoad=function(){var e=this,t=this.items,i=this.filters;Object.keys(i).forEach((function(e){i[e].mode=i[e].mode||K}));var o=new W(i,{},(function(e,t){t.filter=function(t,n){switch(e){case"country":return t.country.id===n;case"search":return-1!==t.title.toLowerCase().indexOf(n.toLowerCase())||-1!==t.country.name.toLowerCase().indexOf(n.toLowerCase())}}}));this.filterService=o,this.filters=o.filters;var r=this.filters.country.values.length?this.filters.country.values[0]:null,s=this.filters.search.values.length?this.filters.search.values[0]:null;this.form.patch({country:r,search:s}),o.items$(t).pipe(n.takeUntil(this.unsubscribe$)).subscribe((function(t){e.filteredItems=t,e.filteredAteliers=t.filter((function(t){return t.type===e.types.Atelier})),e.filteredStores=t.filter((function(t){return t.type===e.types.Store})),e.pushChanges(),D.update()}))},r.setFilterByKeyAndValue=function(e,t){var n=this.filters[e];if(n)if(n.mode===G)n.set(t);else{var i=n.options.find((function(e){return e.value===t}));i?n.set(i):n.clear()}this.pushChanges()},r.onSearch=function(e){this.setFilterByKeyAndValue("country",this.form.value.country),this.setFilterByKeyAndValue("search",this.form.value.search)},r.clearFilter=function(e,t){e.preventDefault(),e.stopImmediatePropagation(),t.clear(),this.pushChanges()},o}(e.Component);X.meta={selector:"[ateliers-and-stores]"};var ee=function(){function e(){}return e.all$=function(){return Q.get$("/designers/all.json")},e.filters$=function(){return Q.get$("/designers/filters.json")},e}(),te=function(e){function o(){return e.apply(this,arguments)||this}a(o,e);var r=o.prototype;return r.onInit=function(){var e=this;this.items=[],this.filteredItems=[],this.filters={};var i=this.form=new t.FormGroup({category:new t.FormControl(null,[t.Validators.RequiredValidator()]),search:new t.FormControl(null,[t.Validators.RequiredValidator()])}),o=this.controls=i.controls;i.changes$.pipe(n.takeUntil(this.unsubscribe$)).subscribe((function(t){e.setFilterByKeyAndValue("category",i.value.category),e.setFilterByKeyAndValue("search",i.value.search),e.pushChanges()})),this.load$().pipe(n.first()).subscribe((function(t){e.items=t[0],e.filters=t[1];var n=e.filters.category.options.slice().map((function(e){return{id:e.value,name:e.label}}));n.unshift({id:null,name:"select"}),o.category.options=n,e.onLoad(),e.pushChanges()}))},r.load$=function(){return i.combineLatest([ee.all$(),ee.filters$()])},r.onLoad=function(){var e=this,t=this.items,i=this.filters;Object.keys(i).forEach((function(e){i[e].mode=i[e].mode||K}));var o=new W(i,{},(function(e,t){t.filter=function(t,n){switch(e){case"category":return t.category.id===n;case"search":return-1!==t.name.toLowerCase().indexOf(n.toLowerCase())}}}));this.filterService=o,this.filters=o.filters;var r=this.filters.category.values.length?this.filters.category.values[0]:null,s=this.filters.search.values.length?this.filters.search.values[0]:null;this.form.patch({category:r,search:s}),o.items$(t).pipe(n.takeUntil(this.unsubscribe$)).subscribe((function(t){e.filteredItems=t,e.pushChanges(),D.update()}))},r.setFilterByKeyAndValue=function(e,t){var n=this.filters[e];if(n)if(n.mode===G)n.set(t);else{var i=n.options.find((function(e){return e.value===t}));i?n.set(i):n.clear()}this.pushChanges()},r.onSearch=function(e){this.setFilterByKeyAndValue("category",this.form.value.category),this.setFilterByKeyAndValue("search",this.form.value.search)},r.clearFilter=function(e,t){e.preventDefault(),e.stopImmediatePropagation(),t.clear(),this.pushChanges()},o}(e.Component);te.meta={selector:"[designers]"};var ne,ie=function(t){function i(){for(var e,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return s(u(e=t.call.apply(t,[this].concat(i))||this),"direction_",null),s(u(e),"scrolled_",null),e}return a(i,t),i.prototype.onInit=function(){var e=this,t=document.querySelector(".page > .pictogram");D.scroll$.pipe(n.takeUntil(this.unsubscribe$)).subscribe((function(n){e.direction=n.direction,e.scrolled=n.scroll.y>100;var i=.3-.3*Math.min(1,n.scroll.y/window.innerHeight/4);gsap.set(t,{opacity:i})}))},r(i,[{key:"direction",get:function(){return this.direction_},set:function(t){if(this.direction_!==t){var n=e.getContext(this).node;n.classList.remove("scrolling-"+this.direction_),n.classList.add("scrolling-"+t),this.direction_=t}}},{key:"scrolled",get:function(){return this.scrolled_},set:function(t){if(this.scrolled_!==t){this.scrolled_=t;var n=e.getContext(this).node;t?n.classList.add("scrolled"):n.classList.remove("scrolled")}}}]),i}(e.Component);ie.meta={selector:"[header]"};var oe=function(t){function n(){return t.apply(this,arguments)||this}a(n,t);var i=n.prototype;return i.onInit=function(){var e=this,t=L.googleMaps.apiKey;if(null!=ne)this.initMap();else{window.onGoogleMapsLoaded=function(){ne=window.google.maps,e.initMap()};var n=document.createElement("script");n.setAttribute("type","text/javascript"),n.setAttribute("src","https://maps.googleapis.com/maps/api/js?callback=onGoogleMapsLoaded"+(t?"&key="+t:"")+"&libraries=places"),(document.getElementsByTagName("head")[0]||document.documentElement).appendChild(n)}},i.initMap=function(){var t=window.google,n=e.getContext(this).node,i=n.getAttribute("data-latitude"),o=n.getAttribute("data-longitude"),r=new t.maps.LatLng(i,o),s={zoom:17,center:r,scrollwheel:!1,mapTypeControl:!0,scaleControl:!0,zoomControlOptions:{style:t.maps.ZoomControlStyle.DEFAULT},overviewMapControl:!0,styles:[{featureType:"water",elementType:"geometry",stylers:[{color:"#e9e9e9"},{lightness:17}]},{featureType:"landscape",elementType:"geometry",stylers:[{color:"#f5f5f5"},{lightness:20}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#ffffff"},{lightness:17}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#ffffff"},{lightness:29},{weight:.2}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{color:"#ffffff"},{lightness:18}]},{featureType:"road.local",elementType:"geometry",stylers:[{color:"#ffffff"},{lightness:16}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#f5f5f5"},{lightness:21}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#dedede"},{lightness:21}]},{elementType:"labels.text.stroke",stylers:[{visibility:"on"},{color:"#ffffff"},{lightness:16}]},{elementType:"labels.text.fill",stylers:[{saturation:36},{color:"#333333"},{lightness:40}]},{elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"transit",elementType:"geometry",stylers:[{color:"#f2f2f2"},{lightness:19}]},{featureType:"administrative",elementType:"geometry.fill",stylers:[{color:"#fefefe"},{lightness:20}]},{featureType:"administrative",elementType:"geometry.stroke",stylers:[{color:"#fefefe"},{lightness:17},{weight:1.2}]}]},a=n.querySelector(".map"),l=new t.maps.Map(a,s),u='<div class="map-popup"><h2>Websolute</h2><p> Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Lorem ipsum dolor sit amet, consectetuer adipiscing elit.</p></div>',c={url:"/img/marker.png",origin:new t.maps.Point(0,0)},p=new t.maps.Marker({position:r,map:l,icon:c,draggable:!1}),h=new t.maps.InfoWindow({content:u});t.maps.event.addListener(p,"click",(function(){h.open(l,p)}))},n}(e.Component);oe.meta={selector:"[map]"};var re=function(){function e(){}return e.all$=function(){return Q.get$("/news/all.json")},e.filters$=function(){return Q.get$("/news/filters.json")},e}(),se=function(e){function o(){return e.apply(this,arguments)||this}a(o,e);var r=o.prototype;return r.onInit=function(){var e=this;this.items=[],this.filteredItems=[],this.filters={};var i=this.form=new t.FormGroup({country:new t.FormControl(null,[t.Validators.RequiredValidator()]),search:new t.FormControl(null,[t.Validators.RequiredValidator()])}),o=this.controls=i.controls;i.changes$.pipe(n.takeUntil(this.unsubscribe$)).subscribe((function(t){e.setFilterByKeyAndValue("country",i.value.country),e.setFilterByKeyAndValue("search",i.value.search),e.pushChanges()})),this.load$().pipe(n.first()).subscribe((function(t){e.items=t[0],e.filters=t[1];var n=e.filters.country.options.slice().map((function(e){return{id:e.value,name:e.label}}));n.unshift({id:null,name:"select"}),o.country.options=n,e.onLoad(),e.pushChanges()}))},r.load$=function(){return i.combineLatest([re.all$(),re.filters$()])},r.onLoad=function(){var e=this,t=this.items,i=this.filters;Object.keys(i).forEach((function(e){i[e].mode=i[e].mode||K}));var o=new W(i,{},(function(e,t){t.filter=function(t,n){switch(e){case"country":return t.country.id===n;case"search":return-1!==t.title.toLowerCase().indexOf(n.toLowerCase())||-1!==t.abstract.toLowerCase().indexOf(n.toLowerCase())}}}));this.filterService=o,this.filters=o.filters;var r=this.filters.country.values.length?this.filters.country.values[0]:null,s=this.filters.search.values.length?this.filters.search.values[0]:null;this.form.patch({country:r,search:s}),o.items$(t).pipe(n.takeUntil(this.unsubscribe$)).subscribe((function(t){e.filteredItems=t,e.pushChanges(),D.update()}))},r.setFilterByKeyAndValue=function(e,t){var n=this.filters[e];if(n)if(n.mode===G)n.set(t);else{var i=n.options.find((function(e){return e.value===t}));i?n.set(i):n.clear()}this.pushChanges()},r.onSearch=function(e){this.setFilterByKeyAndValue("country",this.form.value.country),this.setFilterByKeyAndValue("search",this.form.value.search)},r.clearFilter=function(e,t){e.preventDefault(),e.stopImmediatePropagation(),t.clear(),this.pushChanges()},o}(e.Component);se.meta={selector:"[news]"};var ae=function(e){function i(){return e.apply(this,arguments)||this}a(i,e);var o=i.prototype;return o.onInit=function(){var e=this,i=this.form=new t.FormGroup({email:new t.FormControl(null,[t.Validators.RequiredValidator()])});this.controls=i.controls;i.changes$.pipe(n.takeUntil(this.unsubscribe$)).subscribe((function(t){e.pushChanges()}))},o.onNewsletter=function(e){console.log("NewsletterPropositionComponent.onNewsletter",this.form.value)},i}(e.Component);ae.meta={selector:"[newsletter-proposition]"};var le="font-size: .8rem; text-transform: uppercase; letter-spacing: 0.075em; color: #37393b;",ue=function(t){function n(){return t.apply(this,arguments)||this}a(n,t);var i=n.prototype;return i.onInit=function(){this.isReady=!1,this.isComplete=!1,this.isConfiguring=!1;var t=e.getContext(this).node,n=this.iframe=t.querySelector("#showefy");if(!n)throw"missing iframe";this.onEvent=this.onEvent.bind(this);var i=this.sfy=new SFYFrame(n,"a9$hhVGHxos",this.onEvent);i.init(),console.log("ProductsConfigureComponent.onInit",i,n)},i.getIframeDocument=function(e){var t=e.contentWindow||e.contentDocument;return t.document?t.document:t},i.onEvent=function(t){var n=JSON.parse(t),i=n.emit;if(0==n.status){switch(i){case"showefy_ready":this.onReady(n);break;case"showefy_complete":this.onShowefyComplete(n);break;case"start_configurator":this.onStartConfigurator(n);break;case"button_pressed":this.onButtonPressed(n);break;case"setButtonStatus":this.onSetButtonStatus(n);break;case"getIframeSize":this.onGetIframeSize(n);break;case"getProductExtData":this.onGetProductExtData(n);break;case"getFastProductExtData":this.onGetFastProductExtData(n)}if(this.isConfiguring&&this.isReady&&this.isComplete){console.log("set taratura impaginazione configuratore");var o=e.getContext(this).node;D.update(),D.scrollTo(o,{offset:-100})}}else console.log("ProductsConfigureComponent.onEvent.error",n.status,n.statusTxt,i)},i.onReady=function(e){console.log("ProductsConfigureComponent.onReady",e),this.isReady=!0,this.addTexts(),this.addButtons(),this.addBreadcrumb()},i.onShowefyComplete=function(e){console.log("ProductsConfigureComponent.onShowefyComplete",e),this.isConfiguring&&(this.isComplete=!0)},i.onStartConfigurator=function(e){console.log("ProductsConfigureComponent.onStartConfigurator",e),this.isConfiguring=!0},i.onButtonPressed=function(e){console.log("ProductsConfigureComponent.onButtonPressed",e,"buttonId",e.data.id)},i.onSetButtonStatus=function(e){console.log("ProductsConfigureComponent.onSetButtonStatus",e)},i.onGetIframeSize=function(e){console.log("ProductsConfigureComponent.onGetIframeSize",e)},i.onGetProductExtData=function(e){console.log("ProductsConfigureComponent.onGetProductExtData",e)},i.onGetFastProductExtData=function(e){console.log("ProductsConfigureComponent.onGetFastProductExtData",e)},i.findPos=function(e){var t=0;if(e.offsetParent){do{t+=e.offsetTop}while(e=e.offsetParent);return[t]}},i.addTexts=function(){var e=this.sfy,t=e.HTML,n=0;t.text[n++]="<h1 style=\"letter-spacing: 0; font-family: 'Bauer Bodoni', sans-serif; font-size: 2.9rem; margin: 0;word-wrap: break-word;text-transform: uppercase;color:#37393b;\">Nome Prodotto</h1>",t.text[n++]='<h5 style="font-size: .8rem; letter-spacing: 0.075em;margin-bottom: 15px;word-wrap: break-word;text-transform: uppercase;">Designer</h5>',t.text[n++]='<div style="font-size: .8rem; text-align: left;margin-bottom: 15px; letter-spacing: 0.05em;"><p>Descrizione</p></div>',e.printHTML(t)},i.addButtons=function(){var e=this.sfy,t=e.BUTTONS,n=0;t.element[n]=new e.PROPERTIES,t.element[n].visibility=!0,t.element[n].id="order",t.element[n].label=new e.LABEL,t.element[n].label.en="ADD TO CART",n++,t.element[n]=new e.PROPERTIES,t.element[n].visibility=!0,t.element[n].id="save_configuration",t.element[n].label=new e.LABEL,t.element[n].label.en="SAVE CONFIGURATION",n++,e.setButtonStatus(t)},i.addBreadcrumb=function(){var e=this.sfy,t=e.BREADCUMB,n=0;t.element[n]=new e.PROPERTIES,t.element[n].visibility=!0,t.element[n].id="breadcumb_home",t.element[n].label=new e.LABEL,t.element[n].label.en=" Home <span aria-hidden='true'>/</span>&nbsp; ",t.element[n].style=le,n++,t.element[n]=new e.PROPERTIES,t.element[n].visibility=!0,t.element[n].id="breadcumb_products",t.element[n].label=new e.LABEL,t.element[n].label.en=" Products <span aria-hidden='true'>/</span>&nbsp; ",t.element[n].style=le,n++,t.element[n]=new e.PROPERTIES,t.element[n].visibility=!0,t.element[n].id="breadcumb_products",t.element[n].label=new e.LABEL,t.element[n].label.en=" Nome prodotto",t.element[n].style=le,n++,e.printBreadcumb(t)},i.getCartData=function(){var e=this.sfy;e&&e.getProductExtData()},i.getFastData=function(){var e=this.sfy;e&&e.getFastProductExtData()},n}(e.Component);ue.meta={selector:"[products-configure]"};var ce=function(){function e(){}return e.versions$=function(){return Q.get$("/products-detail/versions.json")},e}(),pe=function(t){function i(){return t.apply(this,arguments)||this}a(i,t);var o=i.prototype;return o.onInit=function(){var e=this;this.items=[],this.visibleItems=[],ce.versions$().pipe(n.first()).subscribe((function(t){e.items=t,e.visibleItems=e.items.slice(0,Math.min(4,e.items.length)),e.pushChanges()}))},o.scrollTo=function(t){var n=e.getContext(this).node.querySelector(t);n&&D.scrollTo(n,{offset:-200})},o.showVersions=function(e){this.visibleItems=this.items.slice(),this.pushChanges(),D.update()},o.configureProduct=function(e){window.location.href=L.slug.configureProduct},i}(e.Component);pe.meta={selector:"[products-detail]"};var he=function(){function e(){}return e.all$=function(){return Q.get$("/projects/all.json")},e.filters$=function(){return Q.get$("/projects/filters.json")},e}(),de=function(e){function o(){return e.apply(this,arguments)||this}a(o,e);var r=o.prototype;return r.onInit=function(){var e=this;this.items=[],this.filteredItems=[],this.filters={};var i=this.form=new t.FormGroup({category:new t.FormControl(null,[t.Validators.RequiredValidator()]),search:new t.FormControl(null,[t.Validators.RequiredValidator()])}),o=this.controls=i.controls;i.changes$.pipe(n.takeUntil(this.unsubscribe$)).subscribe((function(t){e.setFilterByKeyAndValue("category",i.value.category),e.setFilterByKeyAndValue("search",i.value.search),e.pushChanges()})),this.load$().pipe(n.first()).subscribe((function(t){e.items=t[0],e.filters=t[1];var n=e.filters.category.options.slice().map((function(e){return{id:e.value,name:e.label}}));n.unshift({id:null,name:"select"}),o.category.options=n,e.onLoad(),e.pushChanges()}))},r.load$=function(){return i.combineLatest([he.all$(),he.filters$()])},r.onLoad=function(){var e=this,t=this.items,i=this.filters;Object.keys(i).forEach((function(e){i[e].mode=i[e].mode||K}));var o=new W(i,{},(function(e,t){t.filter=function(t,n){switch(e){case"category":return t.category.id===n;case"search":return-1!==t.title.toLowerCase().indexOf(n.toLowerCase())||-1!==t.country.toLowerCase().indexOf(n.toLowerCase())}}}));this.filterService=o,this.filters=o.filters;var r=this.filters.category.values.length?this.filters.category.values[0]:null,s=this.filters.search.values.length?this.filters.search.values[0]:null;this.form.patch({category:r,search:s}),o.items$(t).pipe(n.takeUntil(this.unsubscribe$)).subscribe((function(t){e.filteredItems=t,e.pushChanges(),D.update()}))},r.setFilterByKeyAndValue=function(e,t){var n=this.filters[e];if(n)if(n.mode===G)n.set(t);else{var i=n.options.find((function(e){return e.value===t}));i?n.set(i):n.clear()}this.pushChanges()},r.onSearch=function(e){this.setFilterByKeyAndValue("category",this.form.value.category),this.setFilterByKeyAndValue("search",this.form.value.search)},r.clearFilter=function(e,t){e.preventDefault(),e.stopImmediatePropagation(),t.clear(),this.pushChanges()},o}(e.Component);de.meta={selector:"[projects]"};var fe=function(e){function t(){return e.apply(this,arguments)||this}return a(t,e),t.prototype.onInit=function(){this.options={slidesPerView:"auto",spaceBetween:40,speed:600,centeredSlides:!0,loop:!0,loopAdditionalSlides:100,keyboardControl:!0,mousewheelControl:!1,keyboard:{enabled:!0,onlyInViewport:!0},pagination:{el:".swiper-pagination",clickable:!0}},this.init_()},t}(R);fe.meta={selector:"[swiper-gallery]"};var me=function(e){function t(){return e.apply(this,arguments)||this}return a(t,e),t.prototype.onInit=function(){this.options={slidesPerView:1,spaceBetween:0,speed:600,keyboardControl:!0,mousewheelControl:!1,keyboard:{enabled:!0,onlyInViewport:!0},pagination:{el:".swiper-pagination",clickable:!0}},this.init_()},t}(R);me.meta={selector:"[swiper-homepage]"};var ge=function(t){function n(){return t.apply(this,arguments)||this}return a(n,t),n.prototype.onInit=function(){this.options={slidesPerView:1,spaceBetween:30,breakpoints:{768:{slidesPerView:2,spaceBetween:40},1024:{slidesPerView:2,spaceBetween:50},1440:{slidesPerView:2,spaceBetween:60},1920:{slidesPerView:2,spaceBetween:70}},speed:600,centeredSlides:!1,loop:!1,loopAdditionalSlides:100,keyboardControl:!0,mousewheelControl:!1,keyboard:{enabled:!0,onlyInViewport:!0},pagination:{el:".swiper-pagination",clickable:!0}};var t=e.getContext(this).node.querySelector(".swiper-container");this.init_(t)},n}(R);ge.meta={selector:"[swiper-news-proposition]"};var ye=function(t){function n(){return t.apply(this,arguments)||this}return a(n,t),n.prototype.onInit=function(){this.options={slidesPerView:1.5,spaceBetween:30,breakpoints:{768:{slidesPerView:2,spaceBetween:40},1024:{slidesPerView:3,spaceBetween:50},1440:{slidesPerView:3,spaceBetween:60},1920:{slidesPerView:3,spaceBetween:70}},speed:600,centeredSlides:!1,loop:!1,loopAdditionalSlides:100,keyboardControl:!0,mousewheelControl:!1,keyboard:{enabled:!0,onlyInViewport:!0},pagination:{el:".swiper-pagination",clickable:!0}};var t=e.getContext(this).node.querySelector(".swiper-container");this.init_(t)},n}(R);ye.meta={selector:"[swiper-products-proposition]"};var ve=function(t){function n(){return t.apply(this,arguments)||this}return a(n,t),n.prototype.onInit=function(){this.options={slidesPerView:1.5,spaceBetween:30,breakpoints:{768:{slidesPerView:2,spaceBetween:40},1024:{slidesPerView:3,spaceBetween:50},1440:{slidesPerView:3,spaceBetween:60},1920:{slidesPerView:3,spaceBetween:70}},speed:600,centeredSlides:!1,loop:!1,loopAdditionalSlides:100,keyboardControl:!0,mousewheelControl:!1,keyboard:{enabled:!0,onlyInViewport:!0},pagination:{el:".swiper-pagination",clickable:!0}};var t=e.getContext(this).node.querySelector(".swiper-container");this.init_(t)},n}(R);ve.meta={selector:"[swiper-projects-proposition]"};var we=function(e){function t(){return e.apply(this,arguments)||this}return a(t,e),t}(e.Module);we.meta={imports:[e.CoreModule,t.FormModule],declarations:[X,T,E,O,te,h,d,$,S,ie,F,_,V,oe,se,ae,ue,pe,de,B,j,R,me,ge,ye,ve,fe,M,U],bootstrap:c},e.Browser.bootstrap(we)}));
//# sourceMappingURL=main.min.js.map